<!DOCTYPE html>
<html lang="ko">
<head>

    <!-- Document Settings -->
    <meta charset="utf-8" />
    <meta http-equiv="X-UA-Compatible" content="IE=edge" />

    <!-- Base Meta -->
    <!-- dynamically fixing the title for tag/author pages -->



    <title>Relational Database MySQL(8) - SQL 고급(2)</title>
    <meta name="HandheldFriendly" content="True" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />


    <!-- jQuery + Fitvids, which makes all video embeds responsive -->
    <script
            src="https://code.jquery.com/jquery-3.2.1.min.js"
            integrity="sha256-hwg4gsxgFZhOsEEamdOYGBf13FyQuiTwlAQgxVSNgt4="
            crossorigin="anonymous">
    </script>

    <!-- 웹 폰트 설정 -->
    <link rel="stylesheet" href="https://fonts.googleapis.com/earlyaccess/nanumgothic.css">

    <!-- Font Awesome CDN 설정 => 느림.. -->
    <link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/font-awesome/4.7.0/css/font-awesome.min.css">

    <!-- JQuery fancybox plugin-->
    <link rel="stylesheet" href="/assets/built/fancybox.css">
    <script src="/assets/js/fancybox.js"></script>

    <!-- custom.css -->
    <link rel="stylesheet" href="/assets/built/custom.css">

    <!-- syntax.css -->
    <link rel="stylesheet" href="/assets/built/syntax.css">

    <!-- gist.css -->
    <link rel="stylesheet" href="/assets/built/better-gist-styles.css">

    <!-- Styles'n'Scripts -->
    <link rel="stylesheet" type="text/css" href="/assets/built/screen.css" />
    <link rel="stylesheet" type="text/css" href="/assets/built/screen.edited.css" />

    <!-- highlight.js -->
    <link rel="stylesheet" href="//cdnjs.cloudflare.com/ajax/libs/highlight.js/9.3.0/styles/default.min.css">
    <style>.hljs { background: none; }</style>

    <!--Dl Menu-->
    <script src="/assets/js/modernizr.custom.js"></script>
    <script src="/assets/js/jquery.dlmenu.js"></script>
    <script src="/assets/js/menu_main.js"></script>

    <!-- Google AdSense -->
    <script data-ad-client="ca-pub-2687024418565562" async src="https://pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>

    <!-- This tag outputs SEO meta+structured data and other important settings -->
    <meta name="description" content="얼큰우동TV, 쉽게배우는 IT(Programming,Machine Learning,금융)" />
    <link rel="shortcut icon" href="https://moon9342.github.io/assets/built/images/favicon.jpg" type="image/png" />
    <link rel="canonical" href="https://moon9342.github.io/data-science-lecture-relational-database-mysql-sql-part3" />
    <meta name="referrer" content="no-referrer-when-downgrade" />

     <!--title below is coming from _includes/dynamic_title-->
    <meta property="og:site_name" content="IT Technical Training" />
    <meta property="og:type" content="website" />
    <meta property="og:title" content="Relational Database MySQL(8) - SQL 고급(2)" />
    <meta property="og:description" content="Data-Science 강의는 여러 절로 구성되어 있습니다. Relational Database MySQL(1) - Introduction Relational Database MySQL(2) - Install 및 환경설정 Relational Database MySQL(3) - MySQL 전체 운영 실습 Relational Database MySQL(4) - Data Modeling Relational Database MySQL(5) - MySQL Utility Relational Database MySQL(6) - SQL 기본 Relational Database MySQL(7) - SQL 고급(1)" />
    <meta property="og:url" content="https://moon9342.github.io/data-science-lecture-relational-database-mysql-sql-part3" />
    <meta property="og:image" content="https://moon9342.github.io/assets/built/images/digital-marketing.jpg" />
    <meta property="article:publisher" content="https://www.facebook.com/" />
    <meta property="article:author" content="https://www.facebook.com/" />
    <meta property="article:published_time" content="2019-01-09T01:40:00+09:00" />
    <meta property="article:modified_time" content="2019-01-09T01:40:00+09:00" />
    <meta property="article:tag" content="Data-science" />
    <meta name="twitter:card" content="summary_large_image" />
    <meta name="twitter:title" content="Relational Database MySQL(8) - SQL 고급(2)" />
    <meta name="twitter:description" content="Data-Science 강의는 여러 절로 구성되어 있습니다. Relational Database MySQL(1) - Introduction Relational Database MySQL(2) - Install 및 환경설정 Relational Database MySQL(3) - MySQL 전체 운영 실습 Relational Database MySQL(4) - Data Modeling Relational Database MySQL(5) - MySQL Utility Relational Database MySQL(6) - SQL 기본 Relational Database MySQL(7) - SQL 고급(1)" />
    <meta name="twitter:url" content="https://moon9342.github.io/" />
    <meta name="twitter:image" content="https://moon9342.github.io/assets/built/images/digital-marketing.jpg" />
    <meta name="twitter:label1" content="Written by" />
    <meta name="twitter:data1" content="IT Technical Training" />
    <meta name="twitter:label2" content="Filed under" />
    <meta name="twitter:data2" content="Data-science" />
    <meta name="twitter:site" content="@" />
    <meta name="twitter:creator" content="@" />
    <meta property="og:image:width" content="1400" />
    <meta property="og:image:height" content="933" />

    <script type="application/ld+json">
{
    "@context": "https://schema.org",
    "@type": "Website",
    "publisher": {
        "@type": "Organization",
        "name": "IT Technical Training",
        "logo": "https://moon9342.github.io/"
    },
    "url": "https://moon9342.github.io/data-science-lecture-relational-database-mysql-sql-part3",
    "image": {
        "@type": "ImageObject",
        "url": "https://moon9342.github.io/assets/built/images/digital-marketing.jpg",
        "width": 2000,
        "height": 666
    },
    "mainEntityOfPage": {
        "@type": "WebPage",
        "@id": "https://moon9342.github.io/data-science-lecture-relational-database-mysql-sql-part3"
    },
    "description": "Data-Science 강의는 여러 절로 구성되어 있습니다. Relational Database MySQL(1) - Introduction Relational Database MySQL(2) - Install 및 환경설정 Relational Database MySQL(3) - MySQL 전체 운영 실습 Relational Database MySQL(4) - Data Modeling Relational Database MySQL(5) - MySQL Utility Relational Database MySQL(6) - SQL 기본 Relational Database MySQL(7) - SQL 고급(1)"
}
    </script>

    <!-- <script type="text/et-cetera" src="https://demo.ghost.io/public/ghost-sdk.min.js?v=724281a32e"></script>
    <script type="text/et-cetera">
    ghost.init({
    	clientId: "ghost-frontend",
    	clientSecret: "f84a07a72b17"
    });
    </script> -->

    <!-- 사용자 browser 확인 코드 - Chrome이 아니면 경고 메시지 출력 -->

    <script>
        var agent = navigator.userAgent.toLowerCase();
        var _iPhone = false;
        var _chrome = false;
        var result = false;
        if (agent.indexOf("iphone") != -1) {
            _iPhone = true;
        }
        if (agent.indexOf("chrome") != -1) {
            _chrome = true;
        }

        if( _iPhone || _chrome ) {
            result = true;
        }

        if( !result ) {
            alert("이 블로그는 Google Chrome Browser에 최적화 되어 있습니다 !!");
        }

    </script>

    <meta name="generator" content="Jekyll 3.6.2" />
    <link rel="alternate" type="application/rss+xml" title="Relational Database MySQL(8) - SQL 고급(2)" href="/feed.xml" />


</head>
<body class="post-template">

    <div class="site-wrapper">
        <!-- All the main content gets inserted here, index.hbs, post.hbs, etc -->
        <!-- default -->

<!-- The tag above means: insert everything in this file
into the {body} of the default.hbs template -->

<header class="site-header outer">
    <div class="inner">
        <nav class="site-nav">
    <div class="site-nav-left">
        
            
                <a class="site-nav-logo" href="/">IT Technical Training</a>
            
        
        
            
<ul class="nav" role="menu">
<!--    <li class="nav-home" role="menuitem"><a href="/">Home</a></li>-->
    <li class="nav-about" role="menuitem"><a href="/about/">About</a></li>
<!--
    <li class="nav-data-analysis-article" role="menuitem"><a href="/author/data-analysis/">Data Analysis(R)</a></li>
    <li class="nav-python-article" role="menuitem"><a href="/author/python/">Python</a></li>
    <li class="nav-python-article" role="menuitem"><a href="/tag/jekyll/">Jekyll</a></li>
    <li class="nav-miscellaneous-article" role="menuitem"><a href="/author/fragmentary-knowledge/">Miscellaneous Article</a></li>
-->
<!--
    <li class="nav-archive" role="menuitem">
        <a href="/archive.html">All Posts</a>
    </li>
-->
    <li class="nav-python" role="menuitem">
        <a href="/tag/jekyll/">Jekyll Blog 생성</a>
    </li>
    <li class="nav-python" role="menuitem">
        <a href="/tag/python/">Python</a>
    </li>
    <li class="nav-data-science" role="menuitem">
        <a href="/tag/data-science/">Data Science</a>
    </li>
    <li class="nav-machine-learning" role="menuitem">
        <a href="/tag/machine-learning/">Machine Learning</a>
    </li>
    <li class="nav-python" role="menuitem">
        <a href="/tag/r/">R 기초강의</a>
    </li>
<!--    <li class="nav-python" role="menuitem">-->
<!--        <a href="/tag/angular/">Angular</a>-->
<!--    </li>-->
    <li class="nav-python" role="menuitem">
        <a href="/tag/et-cetera/">Et cetera</a>
    </li>
    <li class="nav-archive" role="menuitem">
        <a href="/author_archive.html">All Posts</a>
    </li>
</ul>

<!-- 아래 내용이 있으면 홈 화면 좌측 상단에 Navigation 버튼이 생성됨.. 굳이 필요없어서 comment 처리 -->

<!--
<nav id="dl-menu" class="dl-menuwrapper" role="navigation">
    <button class="dl-trigger">Open Menu</button>
    <ul class="dl-menu">
        <li><a href="https://moon9342.github.io/">Home</a></li>
        <li>
            <a href="#">About</a>
            <ul class="dl-submenu">
                <li style="text-align: center">
                    <img src="https://moon9342.github.io/assets/built/images/photo.jpg" alt="SungHoon Moon photo" class="author-photo">
                </li>
                <li>
                    <h4>SungHoon Moon</h4>
                    <p>Director of ATGLab. <br>Ph.D. in Computer Science</p>
                </li>
                <li><a href="https://moon9342.github.io/about/"><i class="fa fa-external-link"></i><span class="btn btn-inverse"> Learn More</span></a></li>
                <li>
                <a href="mailto:moon9342@gmail.com"><i class="fa fa-fw fa-envelope"></i> Email</a>
            </li>
                
                
                
                
                
                
                
                
                
            </ul>
        </li>
        <li>
            <a href="#">Posts</a>
            <ul class="dl-submenu">
                <li><a href="https://moon9342.github.io/archive">All Posts</a></li>
                <li><a href="https://moon9342.github.io/author_archive">All Tags</a></li>
            </ul>
        </li>
        
    </ul>
</nav>
-->
        
    </div>
    <div class="site-nav-right">
        <div class="social-links">
            
            
        </div>
        
            <a class="subscribe-button" href="#subscribe">Search</a>
        
    </div>
</nav>

    </div>
</header>

<!-- Everything inside the #post tags pulls data from the post -->
<!-- #post -->

<main id="site-main" class="site-main outer" role="main">
    <div class="inner">

        <article class="post-full post tag-front-end ">

            <header class="post-full-header">
                <section class="post-full-meta">
                    <time class="post-full-meta-date" datetime=" 8 January 2019"> 8 January 2019</time>
                    
                        <span class="date-divider">/</span>
                        
                            
                               <a href='/tag/data-science/'>DATA-SCIENCE</a>
                            
                        
                    
                </section>
                <h1 class="post-full-title">Relational Database MySQL(8) - SQL 고급(2)</h1>
            </header>

            
<!--
            post에 cover image를 표시하지 않게 설정
            <figure class="post-full-image" style="background-image: url(/assets/built/images/digital-marketing.jpg)">
            </figure>
-->
            

            <section class="post-full-content">
                <div class="kg-card-markdown">
                    <p><span class="table-of-contents-list">Data-Science 강의는 여러 절로 구성되어 있습니다. </span></p>
<ul class="table-of-contents-list">
    <li><a href="./data-science-lecture-relational-database-mysql-introduction">Relational Database MySQL(1) - Introduction</a></li>
    <li><a href="./data-science-lecture-relational-database-mysql-setup">Relational Database MySQL(2) - Install 및 환경설정</a></li>
    <li><a href="./data-science-lecture-relational-database-mysql-first-execution">Relational Database MySQL(3) - MySQL 전체 운영 실습</a></li>
    <li><a href="./data-science-lecture-relational-database-mysql-data-modeling">Relational Database MySQL(4) - Data Modeling</a></li>
    <li><a href="./data-science-lecture-relational-database-mysql-utility">Relational Database MySQL(5) - MySQL Utility</a></li>
    <li><a href="./data-science-lecture-relational-database-mysql-sql-part1">Relational Database MySQL(6) - SQL 기본</a></li>
    <li><a href="./data-science-lecture-relational-database-mysql-sql-part2">Relational Database MySQL(7) - SQL 고급(1)</a></li>
    <li><a href="./data-science-lecture-relational-database-mysql-sql-part3">Relational Database MySQL(8) - SQL 고급(2)</a></li>
    <li><a href="./data-science-lecture-relational-database-mysql-table-view">Relational Database MySQL(9) - Table &amp; View</a></li>
    <li><a href="./data-science-lecture-relational-database-mysql-index-1">Relational Database MySQL(10) - Index</a></li>
    <li><a href="./data-science-lecture-relational-database-mysql-index-2">Relational Database MySQL(11) - Index 성능비교</a></li>

    <li><a href="./data-science-lecture-nosql-database-mongodb-introduction">NoSQL Database MongoDB(1) - Introduction</a></li>
    <li><a href="./data-science-lecture-nosql-database-mongodb-data-modeling">NoSQL Database MongoDB(2) - NoSQL Data Modeling</a></li>
    <li><a href="./data-science-lecture-nosql-database-mongodb-basic-concept">NoSQL Database MongoDB(3) - MongoDB Basic Concept</a></li>

    <li><a href="./data-science-lecture-python-introduction">Python 데이터분석 라이브러리(0) - Introduction</a></li>
    <li><a href="./data-science-lecture-python-numpy">Python 데이터분석 라이브러리(1) - NumPy</a></li>
    <li><a href="./data-science-lecture-python-numpy-exercise">Python 데이터분석 라이브러리(2) - NumPy(Exercise)</a></li>

    <li><a href="./data-science-lecture-python-pandas-series">Python 데이터분석 라이브러리(3) - Pandas(Series)</a></li>
    <li><a href="./data-science-lecture-python-pandas-dataframe-basic">Python 데이터분석 라이브러리(4) - Pandas(DataFrame 생성)</a></li>
    <li><a href="./data-science-lecture-python-pandas-dataframe-indexing">Python 데이터분석 라이브러리(5) - Pandas(DataFrame indexing)</a></li>
    <li><a href="./data-science-lecture-python-pandas-dataframe-functions">Python 데이터분석 라이브러리(6) - Pandas(DataFrame functions)</a></li>
    <li><a href="./data-science-lecture-python-pandas-dataframe-merge">Python 데이터분석 라이브러리(7) - Pandas(DataFrame merge)</a></li>
    <li><a href="./data-science-lecture-python-pandas-dataframe-transform">Python 데이터분석 라이브러리(8) - Pandas(DataFrame 제어)</a></li>
    <li><a href="./data-science-lecture-python-pandas-dataframe-group">Python 데이터분석 라이브러리(9) - Pandas(DataFrame Grouping)</a></li>
    <li><a href="./data-science-lecture-python-pandas-dataframe-exercise">Python 데이터분석 라이브러리(10) - Pandas(Exercise)</a></li>
    <li><a href="./data-science-lecture-python-matplotlib">Python 데이터분석 라이브러리(11) - matplotlib</a></li>
    <li><a href="./data-science-lecture-python-statistics">Python 데이터분석을 위한 통계</a></li>
    <li><a href="./data-science-lecture-python-seaborn">Python 데이터분석 라이브러리(12) - seaborn</a></li>
    <li><a href="./data-science-lecture-python-folium">Python 데이터분석 라이브러리(13) - folium</a></li>
<!--    <li><a href="./data-science-lecture-python-pandas-dataframe-manipulation">Python 데이터분석 라이브러리(6) - Pandas(DataFrame 조작)</a></li>    -->
<!--    <li><a href="./data-science-lecture-python-pandas-dataframe-multi-index">Python 데이터분석 라이브러리(8) - Pandas(DataFrame multi index)</a></li>    -->
</ul>

<hr />

<p><strong class="subtitle_fontAwesome">SQL 고급(2)</strong></p>

<p><code class="highlighter-rouge">MySQL</code>의 <code class="highlighter-rouge">Data Type</code>을 알아봤습니다. 내용을 좀 확장해보죠.
지금까지는 하나의 테이블을 다루는 작업에 대해서 알아보았는데 이번에는
두 개 이상의 테이블을 대상으로 SQL문을 처리하는 방법에 대해서 알아보겠습니다.</p>

<p><code class="highlighter-rouge">Join</code>이란 두 개 이상의 테이블을 서로 묶어서 하나의 결과 집합을 만들어 내는
것을 의미합니다.</p>

<p>데이터베이스의 테이블은 중복과 공간 낭비를 피하고 데이터의 무결성을 위해
여러 개의 테이블에 데이터를 나누어 저장합니다. 그리고 이 분리된 테이블들은
서로 <code class="highlighter-rouge">Relation</code>(관계)을 맺고 있습니다.  이 관계를 기준으로 두 테이블을
결합해서 사용해 보도록 하죠.</p>

<hr />

<p><strong class="subtitle2_fontAwesome">INNER JOIN</strong></p>

<p><code class="highlighter-rouge">Join</code>중에서 가장 많이 사용되는 Join이 바로 <code class="highlighter-rouge">Inner Join</code>입니다. 일반적으로
그냥 Join이라고 하면 Inner Join을 의미합니다. 일단 형식을 살펴보죠.</p>

<div class="language-text highlighter-rouge"><div class="highlight"><pre class="highlight"><code>
SELECT &lt;열 목록&gt;
FROM &lt;첫 번째 테이블&gt;
     INNER JOIN &lt;두 번째 테이블&gt;     
     ON &lt;조인 조건&gt;
WHERE &lt;검색 조건&gt;

</code></pre></div></div>

<p>간단한 예를 이용해 알아보도록 하겠습니다. 구매 테이블(buytbl)에서 ‘JYP’라는
아이디를 가진 사람이 구매한 물건을 발송하기 위해 이 사람의 주소가 필요하면
주소(addr)는 usertbl에 있기 때문에 두 테이블을 결합해서 결과를 알아내야 합니다.</p>

<div class="language-sql highlighter-rouge"><div class="highlight"><pre class="highlight"><code>
<span class="n">USE</span> <span class="n">sqldb</span><span class="p">;</span>

<span class="k">SELECT</span> <span class="o">*</span>
<span class="k">FROM</span> <span class="n">buytbl</span>
    <span class="k">INNER</span> <span class="k">JOIN</span> <span class="n">usertbl</span>
    <span class="k">ON</span> <span class="n">buytbl</span><span class="p">.</span><span class="n">userID</span> <span class="o">=</span> <span class="n">usertbl</span><span class="p">.</span><span class="n">userID</span>
<span class="k">WHERE</span> <span class="n">buytbl</span><span class="p">.</span><span class="n">userID</span> <span class="o">=</span> <span class="s1">'JYP'</span><span class="p">;</span>    

<span class="c1">-- num, userID, prodName, groupName, price, amount, userID, name, birthYear, addr, mobile1, mobile2, height, mDate</span>
<span class="c1">-- 3	JYP	모니터	전자	200	1	JYP	조용필	1950	경기	011	4444444	166	2009-04-04</span>

</code></pre></div></div>

<p>위의 예에서 <code class="highlighter-rouge">ON</code>과 <code class="highlighter-rouge">WHERE</code>에 ‘테이블이름.열이름’ 형식으로 되어있는걸 볼 수 있습니다.
만약 두 테이블에 동일한 열이름이 있을 경우 혼동될 우려가 있기 때문에 ‘테이블이름.열이름’
형식으로 작성하는 것이 좋습니다.</p>

<p>위의 예에서 항목이 너무 많기 때문에 아이디, 이름, 구매물품, 주소만 출력하도록
코드를 수정하겠습니다.</p>

<div class="language-sql highlighter-rouge"><div class="highlight"><pre class="highlight"><code>
<span class="k">SELECT</span> <span class="n">buytbl</span><span class="p">.</span><span class="n">userID</span><span class="p">,</span> <span class="n">name</span><span class="p">,</span> <span class="n">prodName</span><span class="p">,</span> <span class="n">addr</span>
<span class="k">FROM</span> <span class="n">buytbl</span>
    <span class="k">INNER</span> <span class="k">JOIN</span> <span class="n">usertbl</span>
    <span class="k">ON</span> <span class="n">buytbl</span><span class="p">.</span><span class="n">userID</span> <span class="o">=</span> <span class="n">usertbl</span><span class="p">.</span><span class="n">userID</span>
<span class="k">WHERE</span> <span class="n">buytbl</span><span class="p">.</span><span class="n">userID</span> <span class="o">=</span> <span class="s1">'JYP'</span><span class="p">;</span>    

</code></pre></div></div>

<p>위의 예에서도 마찬가지 개념으로 SELECT 다음에 나오는 <code class="highlighter-rouge">buytbl.userID</code>은 반드시
테이블명을 명시해야 합니다. 그렇지 않으면 column명이 ambiguous하다는 오류를
만나게 됩니다.</p>

<p>참고로 예전에는 <code class="highlighter-rouge">WHERE</code>절의 조건을 이용해서 <code class="highlighter-rouge">INNER JOIN</code>을 표현하고 사용했었는데
다른 DBMS와의 호환성 문제 때문에 이렇게 하지 않는게 좋습니다. 아래와 같이 
사용할 수 있습니다.</p>

<div class="language-sql highlighter-rouge"><div class="highlight"><pre class="highlight"><code>
<span class="k">SELECT</span> <span class="n">buytbl</span><span class="p">.</span><span class="n">userID</span><span class="p">,</span> <span class="n">name</span><span class="p">,</span> <span class="n">prodName</span><span class="p">,</span> <span class="n">addr</span>
<span class="k">FROM</span> <span class="n">buytbl</span><span class="p">,</span> <span class="n">usertbl</span>
<span class="k">WHERE</span> <span class="n">buytbl</span><span class="p">.</span><span class="n">userID</span> <span class="o">=</span> <span class="n">usertbl</span><span class="p">.</span><span class="n">userID</span> 
      <span class="k">AND</span> <span class="n">buytbl</span><span class="p">.</span><span class="n">userID</span> <span class="o">=</span> <span class="s1">'JYP'</span><span class="p">;</span> 

</code></pre></div></div>

<p>명확하게 SQL을 작성하려면 각각의 column이 어느 테이블의 column인지를 명시하는게
좋습니다. 아래 코드 처럼 말이죠.</p>

<div class="language-sql highlighter-rouge"><div class="highlight"><pre class="highlight"><code>
<span class="k">SELECT</span> <span class="n">buytbl</span><span class="p">.</span><span class="n">userID</span><span class="p">,</span> <span class="n">usertbl</span><span class="p">.</span><span class="n">name</span><span class="p">,</span> <span class="n">buytbl</span><span class="p">.</span><span class="n">prodName</span><span class="p">,</span> <span class="n">usertbl</span><span class="p">.</span><span class="n">addr</span>
<span class="k">FROM</span> <span class="n">buytbl</span><span class="p">,</span> <span class="n">usertbl</span>
<span class="k">WHERE</span> <span class="n">buytbl</span><span class="p">.</span><span class="n">userID</span> <span class="o">=</span> <span class="n">usertbl</span><span class="p">.</span><span class="n">userID</span><span class="p">;</span>

</code></pre></div></div>

<p>너무 복잡합니다. 간결하게 표현하기 위해 테이블에 <code class="highlighter-rouge">Alias</code>를 줄 수 있습니다.
아래의 코드를 보시죠.</p>

<div class="language-sql highlighter-rouge"><div class="highlight"><pre class="highlight"><code>
<span class="k">SELECT</span> <span class="n">B</span><span class="p">.</span><span class="n">userID</span><span class="p">,</span> <span class="n">U</span><span class="p">.</span><span class="n">name</span><span class="p">,</span> <span class="n">B</span><span class="p">.</span><span class="n">prodName</span><span class="p">,</span> <span class="n">U</span><span class="p">.</span><span class="n">addr</span>
<span class="k">FROM</span> <span class="n">buytbl</span> <span class="n">B</span><span class="p">,</span> <span class="n">usertbl</span> <span class="n">U</span>
<span class="k">WHERE</span> <span class="n">B</span><span class="p">.</span><span class="n">userID</span> <span class="o">=</span> <span class="n">U</span><span class="p">.</span><span class="n">userID</span><span class="p">;</span>

</code></pre></div></div>

<p>테이블에 별칭을 주기 위해서는 간단히 <code class="highlighter-rouge">FROM</code> 절 뒤에 나오는 테이블의 이름뒤에
별칭을 붙여주면 됩니다. <code class="highlighter-rouge">Join</code>에서는 이런 방법이 적극적으로 권장됩니다.</p>

<p>이번에는 다른 예제에 대한 쿼리를 작성해보겠습니다.</p>

<blockquote>
  <p>물품을 한번이라도 구매한 기록이 있는 회원들에게 감사의 안내문을
보내기 위해 회원의 이름과 주소를 출력하세요.</p>
</blockquote>

<div class="language-sql highlighter-rouge"><div class="highlight"><pre class="highlight"><code>
<span class="k">SELECT</span> <span class="n">U</span><span class="p">.</span><span class="n">userID</span><span class="p">,</span> <span class="n">U</span><span class="p">.</span><span class="n">name</span><span class="p">,</span> <span class="n">U</span><span class="p">.</span><span class="n">addr</span>
<span class="k">FROM</span> <span class="n">usertbl</span> <span class="n">U</span>
    <span class="k">INNER</span> <span class="k">JOIN</span> <span class="n">buytbl</span> <span class="n">B</span>
    <span class="k">ON</span> <span class="n">U</span><span class="p">.</span><span class="n">userID</span> <span class="o">=</span> <span class="n">B</span><span class="p">.</span><span class="n">userID</span>
<span class="k">ORDER</span> <span class="k">BY</span> <span class="n">U</span><span class="p">.</span><span class="n">userID</span><span class="p">;</span>    

<span class="c1">-- BBK	바비킴	서울</span>
<span class="c1">-- BBK	바비킴	서울</span>
<span class="c1">-- BBK	바비킴	서울</span>
<span class="c1">-- BBK	바비킴	서울</span>
<span class="c1">-- EJW	은지원	경북</span>
<span class="c1">-- EJW	은지원	경북</span>
<span class="c1">-- EJW	은지원	경북</span>
<span class="c1">-- JYP	조용필	경기</span>
<span class="c1">-- KBS	김범수	경남</span>
<span class="c1">-- KBS	김범수	경남</span>
<span class="c1">-- KBS	김범수	경남</span>
<span class="c1">-- SSK	성시경	서울</span>

<span class="c1">-- 동일한 결과가 여러개 존재합니다. 이런 경우 DISTINCT를 이용하면 됩니다.</span>

<span class="k">SELECT</span> <span class="k">DISTINCT</span> <span class="n">U</span><span class="p">.</span><span class="n">userID</span><span class="p">,</span> <span class="n">U</span><span class="p">.</span><span class="n">name</span><span class="p">,</span> <span class="n">U</span><span class="p">.</span><span class="n">addr</span>
<span class="k">FROM</span> <span class="n">usertbl</span> <span class="n">U</span>
    <span class="k">INNER</span> <span class="k">JOIN</span> <span class="n">buytbl</span> <span class="n">B</span>
    <span class="k">ON</span> <span class="n">U</span><span class="p">.</span><span class="n">userID</span> <span class="o">=</span> <span class="n">B</span><span class="p">.</span><span class="n">userID</span>
<span class="k">ORDER</span> <span class="k">BY</span> <span class="n">U</span><span class="p">.</span><span class="n">userID</span><span class="p">;</span>   

</code></pre></div></div>

<p>또 다음과 같이 작성할 수 도 있습니다.</p>

<div class="language-sql highlighter-rouge"><div class="highlight"><pre class="highlight"><code>
<span class="k">SELECT</span> <span class="n">U</span><span class="p">.</span><span class="n">userID</span><span class="p">,</span> <span class="n">U</span><span class="p">.</span><span class="n">name</span><span class="p">,</span> <span class="n">U</span><span class="p">.</span><span class="n">addr</span>
<span class="k">FROM</span> <span class="n">usertbl</span> <span class="n">U</span>
    <span class="k">WHERE</span> <span class="k">EXISTS</span> <span class="p">(</span>
        <span class="k">SELECT</span> <span class="o">*</span>
        <span class="k">FROM</span> <span class="n">buytbl</span> <span class="n">B</span>
        <span class="k">WHERE</span> <span class="n">U</span><span class="p">.</span><span class="n">userID</span> <span class="o">=</span> <span class="n">B</span><span class="p">.</span><span class="n">userID</span> <span class="p">);</span>

</code></pre></div></div>

<p><code class="highlighter-rouge">EXITS</code>는 <code class="highlighter-rouge">Subqeury</code> 수행 결과가 존재하면 <code class="highlighter-rouge">TRUE</code>를 리턴하고 <code class="highlighter-rouge">Subquery</code>의 결과
행이 존재하지 않으면 <code class="highlighter-rouge">FALSE</code>를 리턴합니다. 위의 예에서는 <code class="highlighter-rouge">U.userID</code>가 하나씩
<code class="highlighter-rouge">Subquery</code>에 대입되서 수행하고 결과가 있는지를 확인하고 결과가 있으면 SELECT하는
방식으로 동작하게 됩니다. <code class="highlighter-rouge">EXISTS</code> 대신 <code class="highlighter-rouge">IN</code>을 사용해도 되지만 Subquery를 사용할
경우 <code class="highlighter-rouge">EXISTS</code>가 효율이 좋습니다.</p>

<p>이번에는 세 개의 테이블을 조인해 보겠습니다.</p>

<p>아래의 그림과 같은 테이블 관계를 이용해 몇가지 문제를 풀어보도록 하죠.</p>

<p><a href="/assets/built/images/database-mysql-sql-advanced-schema.png" data-fancybox="">
    <img src="/assets/built/images/database-mysql-sql-advanced-schema.png" alt="세 개의 테이블 조인 예제" />
</a></p>

<p>학생이름을 <code class="highlighter-rouge">PK</code>로 잡는 것은 타당하지 않지만 예제를 위해 그냥 넘어가기로 합니다.</p>

<p>먼저 테이블을 생성해야 겠죠. 다음의 쿼리문을 이용해 테이블을 생성하고 간단하게
데이터를 입력하도록 하겠습니다.</p>

<div class="language-sql highlighter-rouge"><div class="highlight"><pre class="highlight"><code>
<span class="n">USE</span> <span class="n">sqldb</span><span class="p">;</span>

<span class="k">CREATE</span> <span class="k">TABLE</span> <span class="n">stdtbl</span> <span class="p">(</span>
    <span class="n">stdName</span>    <span class="n">VARCHAR</span><span class="p">(</span><span class="mi">10</span><span class="p">)</span> <span class="k">NOT</span> <span class="k">NULL</span> <span class="k">PRIMARY</span> <span class="k">KEY</span><span class="p">,</span>
    <span class="n">addr</span>       <span class="n">CHAR</span><span class="p">(</span><span class="mi">4</span><span class="p">)</span> <span class="k">NOT</span> <span class="k">NULL</span>
<span class="p">);</span>

<span class="k">CREATE</span> <span class="k">TABLE</span> <span class="n">clubtbl</span> <span class="p">(</span>
    <span class="n">clubName</span>   <span class="n">VARCHAR</span><span class="p">(</span><span class="mi">10</span><span class="p">)</span> <span class="k">NOT</span> <span class="k">NULL</span> <span class="k">PRIMARY</span> <span class="k">KEY</span><span class="p">,</span>
    <span class="n">roomNo</span>     <span class="n">CHAR</span><span class="p">(</span><span class="mi">4</span><span class="p">)</span> <span class="k">NOT</span> <span class="k">NULL</span>
<span class="p">);</span>

<span class="k">CREATE</span> <span class="k">TABLE</span> <span class="n">stdclubtbl</span> <span class="p">(</span>
    <span class="n">num</span>        <span class="n">INT</span> <span class="n">AUTO_INCREMENT</span> <span class="k">NOt</span> <span class="k">NULL</span> <span class="k">PRIMARY</span> <span class="k">KEY</span><span class="p">,</span>
    <span class="n">stdName</span>    <span class="n">VARCHAR</span><span class="p">(</span><span class="mi">10</span><span class="p">)</span> <span class="k">NOT</span> <span class="k">NULL</span><span class="p">,</span>
    <span class="n">clubName</span>   <span class="n">VARCHAR</span><span class="p">(</span><span class="mi">10</span><span class="p">)</span> <span class="k">NOT</span> <span class="k">NULL</span><span class="p">,</span>
    <span class="k">FOREIGN</span> <span class="k">KEY</span><span class="p">(</span><span class="n">stdName</span><span class="p">)</span> <span class="k">REFERENCES</span> <span class="n">stdtbl</span><span class="p">(</span><span class="n">stdName</span><span class="p">),</span>
    <span class="k">FOREIGN</span> <span class="k">KEY</span><span class="p">(</span><span class="n">clubName</span><span class="p">)</span> <span class="k">REFERENCES</span> <span class="n">clubtbl</span><span class="p">(</span><span class="n">clubName</span><span class="p">)</span>
<span class="p">);</span>
    
<span class="k">INSERT</span> <span class="k">INTO</span> <span class="n">stdtbl</span> <span class="k">VALUES</span> <span class="p">(</span><span class="s1">'김범수'</span><span class="p">,</span> <span class="s1">'경남'</span><span class="p">);</span>    
<span class="k">INSERT</span> <span class="k">INTO</span> <span class="n">stdtbl</span> <span class="k">VALUES</span> <span class="p">(</span><span class="s1">'성시경'</span><span class="p">,</span> <span class="s1">'서울'</span><span class="p">);</span>    
<span class="k">INSERT</span> <span class="k">INTO</span> <span class="n">stdtbl</span> <span class="k">VALUES</span> <span class="p">(</span><span class="s1">'조용필'</span><span class="p">,</span> <span class="s1">'경기'</span><span class="p">);</span>    
<span class="k">INSERT</span> <span class="k">INTO</span> <span class="n">stdtbl</span> <span class="k">VALUES</span> <span class="p">(</span><span class="s1">'은지원'</span><span class="p">,</span> <span class="s1">'경북'</span><span class="p">);</span>    
<span class="k">INSERT</span> <span class="k">INTO</span> <span class="n">stdtbl</span> <span class="k">VALUES</span> <span class="p">(</span><span class="s1">'바비킴'</span><span class="p">,</span> <span class="s1">'서울'</span><span class="p">);</span>

<span class="k">INSERT</span> <span class="k">INTO</span> <span class="n">clubtbl</span> <span class="k">VALUES</span> <span class="p">(</span><span class="s1">'수영'</span><span class="p">,</span> <span class="s1">'101호'</span><span class="p">);</span>
<span class="k">INSERT</span> <span class="k">INTO</span> <span class="n">clubtbl</span> <span class="k">VALUES</span> <span class="p">(</span><span class="s1">'바둑'</span><span class="p">,</span> <span class="s1">'102호'</span><span class="p">);</span>
<span class="k">INSERT</span> <span class="k">INTO</span> <span class="n">clubtbl</span> <span class="k">VALUES</span> <span class="p">(</span><span class="s1">'축구'</span><span class="p">,</span> <span class="s1">'103호'</span><span class="p">);</span>
<span class="k">INSERT</span> <span class="k">INTO</span> <span class="n">clubtbl</span> <span class="k">VALUES</span> <span class="p">(</span><span class="s1">'봉사'</span><span class="p">,</span> <span class="s1">'104호'</span><span class="p">);</span>

<span class="k">INSERT</span> <span class="k">INTO</span> <span class="n">stdclubtbl</span> <span class="k">VALUES</span> <span class="p">(</span><span class="k">NULL</span><span class="p">,</span> <span class="s1">'김범수'</span><span class="p">,</span> <span class="s1">'바둑'</span><span class="p">);</span>
<span class="k">INSERT</span> <span class="k">INTO</span> <span class="n">stdclubtbl</span> <span class="k">VALUES</span> <span class="p">(</span><span class="k">NULL</span><span class="p">,</span> <span class="s1">'김범수'</span><span class="p">,</span> <span class="s1">'축구'</span><span class="p">);</span>
<span class="k">INSERT</span> <span class="k">INTO</span> <span class="n">stdclubtbl</span> <span class="k">VALUES</span> <span class="p">(</span><span class="k">NULL</span><span class="p">,</span> <span class="s1">'조용필'</span><span class="p">,</span> <span class="s1">'축구'</span><span class="p">);</span>
<span class="k">INSERT</span> <span class="k">INTO</span> <span class="n">stdclubtbl</span> <span class="k">VALUES</span> <span class="p">(</span><span class="k">NULL</span><span class="p">,</span> <span class="s1">'은지원'</span><span class="p">,</span> <span class="s1">'축구'</span><span class="p">);</span>
<span class="k">INSERT</span> <span class="k">INTO</span> <span class="n">stdclubtbl</span> <span class="k">VALUES</span> <span class="p">(</span><span class="k">NULL</span><span class="p">,</span> <span class="s1">'은지원'</span><span class="p">,</span> <span class="s1">'봉사'</span><span class="p">);</span>
<span class="k">INSERT</span> <span class="k">INTO</span> <span class="n">stdclubtbl</span> <span class="k">VALUES</span> <span class="p">(</span><span class="k">NULL</span><span class="p">,</span> <span class="s1">'바비킴'</span><span class="p">,</span> <span class="s1">'봉사'</span><span class="p">);</span>

</code></pre></div></div>

<p>테이블을 생성하고 데이터를 입력했으면 다음의 문제를 해결해보도록 하죠.</p>

<blockquote>
  <p>학생을 기준으로 학생이름, 지역, 가입한 동아리, 동아리방을 출력하세요.</p>
</blockquote>

<div class="language-sql highlighter-rouge"><div class="highlight"><pre class="highlight"><code>
<span class="k">SELECT</span> <span class="n">S</span><span class="p">.</span><span class="n">stdName</span><span class="p">,</span> <span class="n">S</span><span class="p">.</span><span class="n">addr</span><span class="p">,</span> <span class="k">C</span><span class="p">.</span><span class="n">clubName</span><span class="p">,</span> <span class="k">C</span><span class="p">.</span><span class="n">roomNo</span>
<span class="k">FROM</span> <span class="n">stdtbl</span> <span class="n">S</span>
    <span class="k">INNER</span> <span class="k">JOIN</span> <span class="n">stdclubtbl</span> <span class="n">SC</span>
    <span class="k">ON</span> <span class="n">S</span><span class="p">.</span><span class="n">stdName</span> <span class="o">=</span> <span class="n">SC</span><span class="p">.</span><span class="n">stdName</span>
    <span class="k">INNER</span> <span class="k">JOIN</span> <span class="n">clubtbl</span> <span class="k">C</span>
    <span class="k">ON</span> <span class="n">SC</span><span class="p">.</span><span class="n">clubName</span> <span class="o">=</span> <span class="k">C</span><span class="p">.</span><span class="n">clubName</span>
<span class="k">ORDER</span> <span class="k">BY</span> <span class="n">S</span><span class="p">.</span><span class="n">stdName</span><span class="p">;</span>    

<span class="c1">-- stdName, addr, clubName, roomNo</span>
<span class="c1">-- 김범수	경남	바둑	102호</span>
<span class="c1">-- 김범수	경남	축구	103호</span>
<span class="c1">-- 바비킴	서울	봉사	104호</span>
<span class="c1">-- 은지원	경북	봉사	104호</span>
<span class="c1">-- 은지원	경북	축구	103호</span>
<span class="c1">-- 조용필	경기	축구	103호</span>

</code></pre></div></div>

<blockquote>
  <p>동아리를 기준으로 가입한 학생의 목록을 출력하세요.</p>
</blockquote>

<div class="language-sql highlighter-rouge"><div class="highlight"><pre class="highlight"><code>
<span class="k">SELECT</span> <span class="k">C</span><span class="p">.</span><span class="n">clubName</span><span class="p">,</span> <span class="k">C</span><span class="p">.</span><span class="n">roomNo</span><span class="p">,</span> <span class="n">S</span><span class="p">.</span><span class="n">stdName</span><span class="p">,</span> <span class="n">S</span><span class="p">.</span><span class="n">addr</span>
<span class="k">FROM</span> <span class="n">stdtbl</span> <span class="n">S</span>
    <span class="k">INNER</span> <span class="k">JOIN</span> <span class="n">stdclubtbl</span> <span class="n">SC</span>
    <span class="k">ON</span> <span class="n">SC</span><span class="p">.</span><span class="n">stdName</span> <span class="o">=</span> <span class="n">S</span><span class="p">.</span><span class="n">stdName</span>
    <span class="k">INNER</span> <span class="k">JOIN</span> <span class="n">clubtbl</span> <span class="k">C</span>
    <span class="k">ON</span> <span class="n">SC</span><span class="p">.</span><span class="n">clubName</span> <span class="o">=</span> <span class="k">C</span><span class="p">.</span><span class="n">clubName</span>
<span class="k">ORDER</span> <span class="k">BY</span> <span class="k">C</span><span class="p">.</span><span class="n">clubName</span><span class="p">;</span>    

<span class="c1">-- clubName, roomNo, stdName, addr</span>
<span class="c1">-- 바둑	102호	김범수	경남</span>
<span class="c1">-- 봉사	104호	은지원	경북</span>
<span class="c1">-- 봉사	104호	바비킴	서울</span>
<span class="c1">-- 축구	103호	김범수	경남</span>
<span class="c1">-- 축구	103호	조용필	경기</span>
<span class="c1">-- 축구	103호	은지원	경북</span>

</code></pre></div></div>

<hr />

<p><strong class="subtitle2_fontAwesome">OUTER JOIN</strong></p>

<p><code class="highlighter-rouge">OUTER JOIN</code>은 Join의 조건에 만족되지 않는 행까지도 포함시키는 것입니다. 자주 
사용되는 편은 아니지만 가끔 유용하게 사용되기 때문에 알아두어야 합니다.</p>

<div class="language-text highlighter-rouge"><div class="highlight"><pre class="highlight"><code>
SELECT &lt;열 목록&gt;
FROM &lt;첫 번째 테이블(LEFT 테이블)&gt;
     &lt;LEFT | RIGHT | FULL&gt; OUTER JOIN &lt;두 번째 테이블(RIGHT 테이블)&gt;     
     ON &lt;조인 조건&gt;
WHERE &lt;검색 조건&gt;

</code></pre></div></div>

<p>예제를 위해 기존의 <code class="highlighter-rouge">sqldb</code>의 테이블을 이용하도록 하겠습니다. 다음과 같은
쿼리를 작성해보죠.</p>

<blockquote>
  <p>전체 회원의 구매기록을 조회하세요. 단, 구매 기록이 없는 회원도 출력되어야 합니다.</p>
</blockquote>

<div class="language-sql highlighter-rouge"><div class="highlight"><pre class="highlight"><code>
<span class="k">SELECT</span> <span class="n">U</span><span class="p">.</span><span class="n">userID</span><span class="p">,</span> <span class="n">U</span><span class="p">.</span><span class="n">name</span><span class="p">,</span> <span class="n">B</span><span class="p">.</span><span class="n">prodName</span><span class="p">,</span> <span class="n">U</span><span class="p">.</span><span class="n">addr</span>
<span class="k">FROM</span> <span class="n">usertbl</span> <span class="n">U</span>
    <span class="k">LEFT</span> <span class="k">OUTER</span> <span class="k">JOIN</span> <span class="n">buytbl</span> <span class="n">B</span>
    <span class="k">ON</span> <span class="n">U</span><span class="p">.</span><span class="n">userID</span> <span class="o">=</span> <span class="n">B</span><span class="p">.</span><span class="n">userID</span>
<span class="k">ORDER</span> <span class="k">BY</span> <span class="n">U</span><span class="p">.</span><span class="n">userID</span><span class="p">;</span>    

</code></pre></div></div>

<blockquote>
  <p>한 번도 구매한 적이 없는 회원의 목록을 출력하세요.</p>
</blockquote>

<div class="language-sql highlighter-rouge"><div class="highlight"><pre class="highlight"><code>
<span class="k">SELECT</span> <span class="n">U</span><span class="p">.</span><span class="n">userID</span><span class="p">,</span> <span class="n">U</span><span class="p">.</span><span class="n">name</span><span class="p">,</span> <span class="n">B</span><span class="p">.</span><span class="n">prodName</span><span class="p">,</span> <span class="n">U</span><span class="p">.</span><span class="n">addr</span>
<span class="k">FROM</span> <span class="n">usertbl</span> <span class="n">U</span>
    <span class="k">LEFT</span> <span class="k">OUTER</span> <span class="k">JOIN</span> <span class="n">buytbl</span> <span class="n">B</span>
    <span class="k">ON</span> <span class="n">U</span><span class="p">.</span><span class="n">userID</span> <span class="o">=</span> <span class="n">B</span><span class="p">.</span><span class="n">userID</span>
<span class="k">WHERE</span> <span class="n">B</span><span class="p">.</span><span class="n">prodName</span> <span class="k">IS</span> <span class="k">NULL</span>    
<span class="k">ORDER</span> <span class="k">BY</span> <span class="n">U</span><span class="p">.</span><span class="n">userID</span><span class="p">;</span> 

</code></pre></div></div>

<hr />

<p><strong class="subtitle2_fontAwesome">CROSS JOIN</strong></p>

<p><code class="highlighter-rouge">CROSS JOIN</code>은 한쪽 테이블의 모든 행들과 다른 쪽 테이블의 모든 행을 Join 시키는
기능을 합니다. 그래서 <code class="highlighter-rouge">CROSS JOIN</code>의 결과 개수는 두 테이블 행의 개수를 곱한 결과가
됩니다. 이러한 <code class="highlighter-rouge">CROSS JOIN</code>을 우리는 일반적으로 <code class="highlighter-rouge">Cartesian Product</code>(카티션 프로덕트)
라고 부릅니다.</p>

<p>그림으로 표현하면 아래의 그림과 같습니다.</p>

<p><a href="/assets/built/images/database-mysql-sql-advanced-cross-join.png" data-fancybox="">
    <img src="/assets/built/images/database-mysql-sql-advanced-cross-join.png" alt="CROSS JOIN 개념도" />
</a></p>

<div class="language-sql highlighter-rouge"><div class="highlight"><pre class="highlight"><code>
<span class="k">SELECT</span> <span class="o">*</span>
<span class="k">FROM</span> <span class="n">buytbl</span>
    <span class="k">CROSS</span> <span class="k">JOIN</span> <span class="n">usertbl</span><span class="p">;</span>
    
<span class="c1">-- 다른 방식으로 표현하면 다음과 같습니다. 표준적인 방법은</span>
<span class="c1">-- 아니지만 많이 사용됩니다. 하지만 권장하지는 않습니다.</span>
    
<span class="k">SELECT</span> <span class="o">*</span>
<span class="k">FROM</span> <span class="n">buytbl</span><span class="p">,</span> <span class="n">usertbl</span>    

</code></pre></div></div>

<p>이런 <code class="highlighter-rouge">CROSS JOIN</code>에는 <code class="highlighter-rouge">ON</code>을 사용할 수 없습니다. 그러면 이러한 <code class="highlighter-rouge">CROSS JOIN</code>의
사용용도는 무엇일까요? 일반적으로 테스트할 목적으로 많은 양의 데이터를 생성할 때
주로 사용됩니다.</p>

<hr />

<p><strong class="subtitle2_fontAwesome">SELF JOIN</strong></p>

<p><code class="highlighter-rouge">SELF JOIN</code>은 자신과 자기 자신이 Join하는 것을 의미합니다. 흔한 경우는 아니지만
아래 그림과 같은 조직도와 관련된 테이블인 경우에는 유용하게 사용됩니다.</p>

<p><a href="/assets/built/images/database-mysql-sql-advanced-self-join.png" data-fancybox="">
    <img src="/assets/built/images/database-mysql-sql-advanced-self-join.png" alt="SELF JOIN 예제" />
</a></p>

<p>위의 그림을 테이블로 나타내면 다음과 같습니다.</p>

<p><a href="/assets/built/images/database-mysql-sql-advanced-self-join-table.png" data-fancybox="">
    <img src="/assets/built/images/database-mysql-sql-advanced-self-join-table.png" alt="SELF JOIN table" />
</a></p>

<p>위의 그림에서 <strong>이부장</strong>은 직원이면서 동시에 상관이기 때문에 직원 column과
상관 column 둘 다 존재합니다. 만약, 우대리 상관의 구내번호를 알려면 <code class="highlighter-rouge">EMP</code> 
column과 <code class="highlighter-rouge">MANAGER</code> column을 join해야 이부장의 구내번호를 알 수 있습니다.</p>

<div class="language-sql highlighter-rouge"><div class="highlight"><pre class="highlight"><code>
<span class="n">USE</span> <span class="n">sqldb</span><span class="p">;</span>

<span class="k">CREATE</span> <span class="k">TABLE</span> <span class="n">emptbl</span> <span class="p">(</span>
    <span class="n">emp</span>      <span class="n">CHAR</span><span class="p">(</span><span class="mi">3</span><span class="p">),</span>
    <span class="n">manager</span>  <span class="n">CHAR</span><span class="p">(</span><span class="mi">3</span><span class="p">),</span>
    <span class="n">empTel</span>   <span class="n">VARCHAR</span><span class="p">(</span><span class="mi">8</span><span class="p">)</span>
<span class="p">);</span>    

<span class="k">INSERT</span> <span class="k">INTO</span> <span class="n">empTbl</span> <span class="k">VALUES</span><span class="p">(</span><span class="s1">'나사장'</span><span class="p">,</span> <span class="k">NULL</span><span class="p">,</span> <span class="s1">'0000'</span><span class="p">);</span> 
<span class="k">INSERT</span> <span class="k">INTO</span> <span class="n">empTbl</span> <span class="k">VALUES</span><span class="p">(</span><span class="s1">'김재무'</span><span class="p">,</span> <span class="s1">'나사장'</span><span class="p">,</span> <span class="s1">'2222'</span><span class="p">);</span> 
<span class="k">INSERT</span> <span class="k">INTO</span> <span class="n">empTbl</span> <span class="k">VALUES</span><span class="p">(</span><span class="s1">'김부장'</span><span class="p">,</span> <span class="s1">'김재무'</span><span class="p">,</span> <span class="s1">'2222-1'</span><span class="p">);</span> 
<span class="k">INSERT</span> <span class="k">INTO</span> <span class="n">empTbl</span> <span class="k">VALUES</span><span class="p">(</span><span class="s1">'이부장'</span><span class="p">,</span> <span class="s1">'김재무'</span><span class="p">,</span> <span class="s1">'2222-2'</span><span class="p">);</span> 
<span class="k">INSERT</span> <span class="k">INTO</span> <span class="n">empTbl</span> <span class="k">VALUES</span><span class="p">(</span><span class="s1">'우대리'</span><span class="p">,</span> <span class="s1">'이부장'</span><span class="p">,</span> <span class="s1">'2222-2-1'</span><span class="p">);</span> 
<span class="k">INSERT</span> <span class="k">INTO</span> <span class="n">empTbl</span> <span class="k">VALUES</span><span class="p">(</span><span class="s1">'지사원'</span><span class="p">,</span> <span class="s1">'이부장'</span><span class="p">,</span> <span class="s1">'2222-2-2'</span><span class="p">);</span> 
<span class="k">INSERT</span> <span class="k">INTO</span> <span class="n">empTbl</span> <span class="k">VALUES</span><span class="p">(</span><span class="s1">'이영업'</span><span class="p">,</span> <span class="s1">'나사장'</span><span class="p">,</span> <span class="s1">'1111'</span><span class="p">);</span> 
<span class="k">INSERT</span> <span class="k">INTO</span> <span class="n">empTbl</span> <span class="k">VALUES</span><span class="p">(</span><span class="s1">'한과장'</span><span class="p">,</span> <span class="s1">'이영업'</span><span class="p">,</span> <span class="s1">'1111-1'</span><span class="p">);</span> 
<span class="k">INSERT</span> <span class="k">INTO</span> <span class="n">empTbl</span> <span class="k">VALUES</span><span class="p">(</span><span class="s1">'최정보'</span><span class="p">,</span> <span class="s1">'나사장'</span><span class="p">,</span><span class="s1">'3333'</span><span class="p">);</span> 
<span class="k">INSERT</span> <span class="k">INTO</span> <span class="n">empTbl</span> <span class="k">VALUES</span><span class="p">(</span><span class="s1">'윤차장'</span><span class="p">,</span> <span class="s1">'최정보'</span><span class="p">,</span> <span class="s1">'3333-1'</span><span class="p">);</span> 
<span class="k">INSERT</span> <span class="k">INTO</span> <span class="n">empTbl</span> <span class="k">VALUES</span><span class="p">(</span><span class="s1">'이주임'</span><span class="p">,</span> <span class="s1">'윤차장'</span><span class="p">,</span> <span class="s1">'3333-1-1'</span><span class="p">);</span>


<span class="k">SELECT</span> <span class="n">A</span><span class="p">.</span><span class="n">emp</span> <span class="k">AS</span> <span class="s1">'부하직원'</span><span class="p">,</span> <span class="n">B</span><span class="p">.</span><span class="n">emp</span> <span class="k">AS</span> <span class="s1">'직속상관'</span><span class="p">,</span> <span class="n">B</span><span class="p">.</span><span class="n">empTel</span> <span class="k">AS</span> <span class="s1">'전화번호'</span>
<span class="k">FROM</span> <span class="n">emptbl</span> <span class="n">A</span>
    <span class="k">INNER</span> <span class="k">JOIN</span> <span class="n">emptbl</span> <span class="n">B</span>
    <span class="k">ON</span> <span class="n">A</span><span class="p">.</span><span class="n">manager</span> <span class="o">=</span> <span class="n">B</span><span class="p">.</span><span class="n">emp</span>
<span class="k">WHERE</span> <span class="n">A</span><span class="p">.</span><span class="n">emp</span> <span class="o">=</span> <span class="s1">'우대리'</span><span class="p">;</span>    

<span class="c1">-- 부하직원, 직속상관, 전화번호</span>
<span class="c1">-- 우대리	이부장	2222-2</span>

</code></pre></div></div>

<hr />

<p><strong class="subtitle2_fontAwesome">UNION / UNION ALL / NOT IN / IN</strong></p>

<p><code class="highlighter-rouge">UNION</code>은 두 쿼리의 결과를 행으로 합치는 연산입니다.</p>

<p>아래의 그림은 <code class="highlighter-rouge">UNION</code>의 예시입니다.</p>

<p><a href="/assets/built/images/database-mysql-sql-advanced-union.png" data-fancybox="">
    <img src="/assets/built/images/database-mysql-sql-advanced-union.png" alt="union 예시" />
</a></p>

<p>위의 예에서 SELECT 문장 1과 SELECT 문장 2의 결과 열의 개수가 같아야 합니다. 
데이터 형식도 각 열 단위로 같거나 서로 호환이 되는 형식이어야 합니다. <code class="highlighter-rouge">UNION</code>만
사용하면 중복된 열은 제거되고 데이터가 정렬되어 나오며, <code class="highlighter-rouge">UNION ALL</code>을 사용하면
중복된 열까지 모두 출력됩니다.</p>

<p><code class="highlighter-rouge">NOT IN</code>은 첫번째 쿼리의 결과 중에서, 두번째 쿼리에 해당하는 것을 제외하기
위한 구문입니다. 예를 들면 다음과 같습니다.</p>

<blockquote>
  <p>sqldb의 모든 사용자를 조회하되 전화가 없는 사람을 제외하고 출력하세요.</p>
</blockquote>

<div class="language-sql highlighter-rouge"><div class="highlight"><pre class="highlight"><code>
<span class="k">SELECT</span> <span class="n">name</span><span class="p">,</span> <span class="n">CONCAT</span><span class="p">(</span><span class="n">mobile1</span><span class="p">,</span> <span class="n">mobile2</span><span class="p">)</span>
<span class="k">FROM</span> <span class="n">usertbl</span>
<span class="k">WHERE</span> <span class="n">name</span> <span class="k">NOT</span> <span class="k">IN</span> <span class="p">(</span> <span class="k">SELECT</span> <span class="n">name</span> 
                    <span class="k">FROM</span> <span class="n">usertbl</span>
                    <span class="k">WHERE</span> <span class="n">mobile1</span> <span class="k">IS</span> <span class="k">NULL</span> <span class="p">);</span>

</code></pre></div></div>

<p><code class="highlighter-rouge">IN</code>은 <code class="highlighter-rouge">NOT IN</code>과 반대로 첫번째 쿼리의 결과 중에서, 두번째 쿼리에 해당하는
것만 조회하기 위해서 사용합니다.</p>

<blockquote>
  <p>전화가 없는 사람만 조회하세요.</p>
</blockquote>

<div class="language-sql highlighter-rouge"><div class="highlight"><pre class="highlight"><code>
<span class="k">SELECT</span> <span class="n">name</span><span class="p">,</span> <span class="n">CONCAT</span><span class="p">(</span><span class="n">mobile1</span><span class="p">,</span> <span class="n">mobile2</span><span class="p">)</span>
<span class="k">FROM</span> <span class="n">usertbl</span>
<span class="k">WHERE</span> <span class="n">name</span> <span class="k">IN</span> <span class="p">(</span> <span class="k">SELECT</span> <span class="n">name</span> 
                <span class="k">FROM</span> <span class="n">usertbl</span>
                <span class="k">WHERE</span> <span class="n">mobile1</span> <span class="k">IS</span> <span class="k">NULL</span> <span class="p">);</span>   

</code></pre></div></div>

<hr />

<p><strong class="subtitle2_fontAwesome">동적 SQL</strong></p>

<p><code class="highlighter-rouge">PREPARE</code>와 <code class="highlighter-rouge">EXECUTE</code>문에 대해서 알아보겠습니다. 간단하게 말해
<code class="highlighter-rouge">PREPARE</code>는 SQL문을 실행하지 않고 미리 준비만 해 놓고, <code class="highlighter-rouge">EXECUTE</code>문은
준비한 쿼리문을 실행시키는 것입니다. 그리고 실행이 된 후에는
<code class="highlighter-rouge">DEALLOCATE PREPARE</code>를 이용해 해제해 주는게 좋습니다.</p>

<p>이렇게 미리 쿼리문을 준비한 후에 나중에 실행하는 것을 <code class="highlighter-rouge">동적 SQL</code>이라고 합니다.</p>

<p>아래의 코드를 이용해 살펴보겠습니다.</p>

<div class="language-sql highlighter-rouge"><div class="highlight"><pre class="highlight"><code>
<span class="n">USE</span> <span class="n">sqldb</span><span class="p">;</span>

<span class="k">DROP</span> <span class="k">TABLE</span> <span class="n">IF</span> <span class="k">EXISTS</span> <span class="n">myTable</span><span class="p">;</span>

<span class="k">CREATE</span> <span class="k">TABLE</span> <span class="n">myTable</span> <span class="p">(</span>
    <span class="n">id</span>     <span class="n">INT</span> <span class="n">AUTO_INCREMENT</span> <span class="k">PRIMARY</span> <span class="k">KEY</span><span class="p">,</span>
    <span class="n">mDate</span>  <span class="n">DATETIME</span>
<span class="p">);</span>

<span class="k">SET</span> <span class="o">@</span><span class="n">curDATE</span> <span class="o">=</span> <span class="k">CURRENT_TIMESTAMP</span><span class="p">();</span>

<span class="k">PREPARE</span> <span class="n">myQuery</span> <span class="k">FROM</span> <span class="s1">'INSERT INTO myTable VALUES(NULL,?)'</span><span class="p">;</span>

<span class="k">EXECUTE</span> <span class="n">myQuery</span> <span class="k">USING</span> <span class="o">@</span><span class="n">curDATE</span><span class="p">;</span>

<span class="k">DEALLOCATE</span> <span class="k">PREPARE</span> <span class="n">myQuery</span><span class="p">;</span>

<span class="k">SELECT</span> <span class="o">*</span> <span class="k">FROM</span> <span class="n">myTable</span><span class="p">;</span>     

</code></pre></div></div>

<p>End.</p>

<hr />

<p><span class="lecture-reference">Data-Science 강좌는 아래의 책과 사이트를 참조했습니다.
    조금 더 자세한 사항을 알고 싶으시면 해당 사이트를 방문하세요!!</span></p>

<!--<ul class="lecture-reference">-->
<!--    <li><a href="http://www.python.org/" target="_blank">Python Official HomePage</a></li>-->
<!--    <li>점프 투 파이썬 - 이지스 퍼블리싱</li>-->
<!--    <li>전문가를 위한 파이썬(Fluent Python) - 한빛미디어</li>-->
<!--    <li>파이썬 웹 프로그래밍 - 한빛미디어</li>-->
<!--    <li>이미지 출처 : <a href="http://www.freepik.com" target="_blank">Designed by rawpixel.com / Freepik</a></li>-->
<!--</ul>-->


                </div>
            </section>

            <!-- Email subscribe form at the bottom of the page -->
            <!-- 기존에 있던 post하단 이메일 subscribe 삭제 -->

            <footer class="post-full-footer">
                <!-- Everything inside the #author tags pulls data from the author -->
                <!-- #author-->
                
                    
                        <section class="author-card">
                            
                                <img class="author-profile-image" src="/assets/built/images/economy-author-logo.jpg" alt="moon9342" />
                            
                            <section class="author-card-content">
                                <h4 class="author-card-name"><a href="/author/moon9342">moon9342</a></h4>
                                
                                    <p><a href="https://www.youtube.com/channel/UCp-MztINXTRVkRGCnqnYNlQ">얼큰우동TV, 쉽게배우는 IT(Programming,Machine Learning,금융)</a></p>
                                
                            </section>
                        </section>
                        <div class="post-full-footer-right">
                            <a class="author-card-button" href="/author/moon9342">Read More</a>
                        </div>
                    
                
                <!-- /author  -->
            </footer>

            <!-- If you use Disqus comments, just uncomment this block.
            The only thing you need to change is "test-apkdzgmqhj" - which
            should be replaced with your own Disqus site-id. -->
            

        </article>

    </div>
</main>

<!-- Links to Previous/Next posts -->
<aside class="read-next outer">
    <div class="inner">
        <div class="read-next-feed">
            
                
                
                
                
                    <article class="read-next-card"
                        
                            style="background-image: url(/assets/built/images/blog-cover2.png)"
                        
                    >
                        <header class="read-next-card-header">
                            <small class="read-next-card-header-sitetitle">&mdash; IT Technical Training &mdash;</small>
                            
                                <h3 class="read-next-card-header-title"><a href="/tag/data-science/">Data-science</a></h3>
                            
                        </header>
                        <div class="read-next-divider"><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M13 14.5s2 3 5 3 5.5-2.463 5.5-5.5S21 6.5 18 6.5c-5 0-7 11-12 11C2.962 17.5.5 15.037.5 12S3 6.5 6 6.5s4.5 3.5 4.5 3.5"/></svg>
</div>
                        <div class="read-next-card-content">
                            <ul>
                                
                                
                                  
                                
                                  
                                
                                  
                                
                                  
                                
                                  
                                
                                  
                                
                                  
                                
                                  
                                
                                  
                                
                                  
                                
                                  
                                
                                  
                                
                                  
                                
                                  
                                
                                  
                                
                                  
                                
                                  
                                
                                  
                                    
                                        
                                        
                                            <li><a href="/data-science-lecture-python-folium">Python 데이터분석 라이브러리(13) - Folium</a></li>
                                        
                                    
                                  
                                
                                  
                                    
                                        
                                        
                                            <li><a href="/data-science-lecture-python-seaborn">Python 데이터분석 라이브러리(12) - seaborn</a></li>
                                        
                                    
                                  
                                
                                  
                                    
                                        
                                        
                                            <li><a href="/data-science-lecture-python-statistics">Python 데이터분석을 위한 통계</a></li>
                                        
                                    
                                  
                                
                                  
                                    
                                        
                                        
                                    
                                  
                                
                                  
                                    
                                        
                                        
                                    
                                  
                                
                                  
                                    
                                        
                                        
                                    
                                  
                                
                                  
                                    
                                        
                                        
                                    
                                  
                                
                                  
                                    
                                        
                                        
                                    
                                  
                                
                                  
                                    
                                        
                                        
                                    
                                  
                                
                                  
                                    
                                        
                                        
                                    
                                  
                                
                                  
                                    
                                        
                                        
                                    
                                  
                                
                                  
                                    
                                        
                                        
                                    
                                  
                                
                                  
                                    
                                        
                                        
                                    
                                  
                                
                                  
                                
                                  
                                    
                                        
                                        
                                    
                                  
                                
                                  
                                    
                                        
                                        
                                    
                                  
                                
                                  
                                
                                  
                                
                                  
                                
                                  
                                
                                  
                                
                                  
                                
                                  
                                
                                  
                                
                                  
                                
                                  
                                
                                  
                                
                                  
                                
                                  
                                
                                  
                                
                                  
                                    
                                        
                                        
                                    
                                  
                                
                                  
                                    
                                        
                                        
                                    
                                  
                                
                                  
                                    
                                        
                                        
                                    
                                  
                                
                                  
                                    
                                        
                                        
                                    
                                  
                                
                                  
                                    
                                        
                                        
                                    
                                  
                                
                                  
                                    
                                        
                                        
                                    
                                  
                                
                                  
                                    
                                  
                                
                                  
                                    
                                        
                                        
                                    
                                  
                                
                                  
                                    
                                        
                                        
                                    
                                  
                                
                                  
                                    
                                        
                                        
                                    
                                  
                                
                                  
                                    
                                        
                                        
                                    
                                  
                                
                                  
                                    
                                        
                                        
                                    
                                  
                                
                                  
                                    
                                        
                                        
                                    
                                  
                                
                                  
                                    
                                        
                                        
                                    
                                  
                                
                            </ul>
                        </div>
                        <footer class="read-next-card-footer">
                            <a href="/tag/data-science/">
                                
                                    See all 28 posts  →
                                
                            </a>
                        </footer>
                    </article>
                
            

            <!-- If there's a next post, display it using the same markup included from - partials/post-card.hbs -->
            
                
    <article class="post-card post-template">
        
            <a class="post-card-image-link" href="/data-science-lecture-relational-database-mysql-table-view">
                <div class="post-card-image" style="background-image: url(/assets/built/images/digital-marketing.jpg)"></div>
            </a>
        
        <div class="post-card-content">
            <a class="post-card-content-link" href="/data-science-lecture-relational-database-mysql-table-view">
                <header class="post-card-header">
                    
                        
                            
                                <span class="post-card-tags">Data-science</span>
                            
                        
                    

                    <h2 class="post-card-title">Relational Database MySQL(9) - Table & View</h2>
                </header>
                <section class="post-card-excerpt">
                    <p>{% include data-science-lecture-table-of-contents.html %} --- **Table & View**{: class="subtitle_fontAwesome" } 이번에는 Table과 View에 대해 조금 더 자세히 알아보도록 하겠습니다. 이전에 사용했던 `sqldb`와 동일한 형식의 `tabledb`를 만들어서 실습을 진행하도록 하죠. 다음의 그림처럼 만들어지게 됩니다.</p>
                </section>
            </a>
            <footer class="post-card-meta">
                
                    
                        
                        <img class="author-profile-image" src="/assets/built/images/economy-author-logo.jpg" alt="moon9342" />
                        
                        <span class="post-card-author">
                            <a href="/author/moon9342/">moon9342</a>
                        </span>
                    
                
            </footer>
        </div>
    </article>

            

            <!-- If there's a previous post, display it using the same markup included from - partials/post-card.hbs -->
            
                
    <article class="post-card post-template">
        
            <a class="post-card-image-link" href="/data-science-lecture-relational-database-mysql-sql-part2">
                <div class="post-card-image" style="background-image: url(/assets/built/images/digital-marketing.jpg)"></div>
            </a>
        
        <div class="post-card-content">
            <a class="post-card-content-link" href="/data-science-lecture-relational-database-mysql-sql-part2">
                <header class="post-card-header">
                    
                        
                            
                                <span class="post-card-tags">Data-science</span>
                            
                        
                    

                    <h2 class="post-card-title">Relational Database MySQL(7) - SQL 고급(1)</h2>
                </header>
                <section class="post-card-excerpt">
                    <p>Data-Science 강의는 여러 절로 구성되어 있습니다. Relational Database MySQL(1) - Introduction Relational Database MySQL(2) - Install 및 환경설정 Relational Database MySQL(3) - MySQL 전체 운영 실습 Relational Database MySQL(4) - Data Modeling Relational</p>
                </section>
            </a>
            <footer class="post-card-meta">
                
                    
                        
                        <img class="author-profile-image" src="/assets/built/images/economy-author-logo.jpg" alt="moon9342" />
                        
                        <span class="post-card-author">
                            <a href="/author/moon9342/">moon9342</a>
                        </span>
                    
                
            </footer>
        </div>
    </article>

            

        </div>
    </div>
</aside>

<!-- Floating header which appears on-scroll, included from includes/floating-header.hbs -->
<div class="floating-header">
    <div class="floating-header-logo">
        <a href="https://moon9342.github.io/">
            
            <span>IT Technical Training</span>
        </a>
    </div>
    <span class="floating-header-divider">&mdash;</span>
    <div class="floating-header-title">Relational Database MySQL(8) - SQL 고급(2)</div>



    <div class="floating-header-share">
        <div class="floating-header-share-label">이 포스트를 공유하세요 <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24">
    <path d="M7.5 15.5V4a1.5 1.5 0 1 1 3 0v4.5h2a1 1 0 0 1 1 1h2a1 1 0 0 1 1 1H18a1.5 1.5 0 0 1 1.5 1.5v3.099c0 .929-.13 1.854-.385 2.748L17.5 23.5h-9c-1.5-2-5.417-8.673-5.417-8.673a1.2 1.2 0 0 1 1.76-1.605L7.5 15.5zm6-6v2m-3-3.5v3.5m6-1v2"/>
</svg>
</div>
        <a class="floating-header-share-tw" href="https://twitter.com/share?text=Relational+Database+MySQL%288%29+-+SQL+%EA%B3%A0%EA%B8%89%282%29&amp;url=https://moon9342.github.io/data-science-lecture-relational-database-mysql-sql-part3"
            onclick="window.open(this.href, 'share-twitter', 'width=550,height=235');return false;">
            <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 32 32"><path d="M30.063 7.313c-.813 1.125-1.75 2.125-2.875 2.938v.75c0 1.563-.188 3.125-.688 4.625a15.088 15.088 0 0 1-2.063 4.438c-.875 1.438-2 2.688-3.25 3.813a15.015 15.015 0 0 1-4.625 2.563c-1.813.688-3.75 1-5.75 1-3.25 0-6.188-.875-8.875-2.625.438.063.875.125 1.375.125 2.688 0 5.063-.875 7.188-2.5-1.25 0-2.375-.375-3.375-1.125s-1.688-1.688-2.063-2.875c.438.063.813.125 1.125.125.5 0 1-.063 1.5-.25-1.313-.25-2.438-.938-3.313-1.938a5.673 5.673 0 0 1-1.313-3.688v-.063c.813.438 1.688.688 2.625.688a5.228 5.228 0 0 1-1.875-2c-.5-.875-.688-1.813-.688-2.75 0-1.063.25-2.063.75-2.938 1.438 1.75 3.188 3.188 5.25 4.25s4.313 1.688 6.688 1.813a5.579 5.579 0 0 1 1.5-5.438c1.125-1.125 2.5-1.688 4.125-1.688s3.063.625 4.188 1.813a11.48 11.48 0 0 0 3.688-1.375c-.438 1.375-1.313 2.438-2.563 3.188 1.125-.125 2.188-.438 3.313-.875z"/></svg>

        </a>
        <a class="floating-header-share-fb" href="https://www.facebook.com/sharer/sharer.php?u=https://moon9342.github.io/data-science-lecture-relational-database-mysql-sql-part3"
            onclick="window.open(this.href, 'share-facebook','width=580,height=296');return false;">
            <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 32 32"><path d="M19 6h5V0h-5c-3.86 0-7 3.14-7 7v3H8v6h4v16h6V16h5l1-6h-6V7c0-.542.458-1 1-1z"/></svg>

        </a>
    </div>


    <!-- floating-header에 이미지 삽입 -->
<!--
    <div class="floating-header-share">
        <img src="assets/images/photo.jpg" width="50">
    </div>
-->

    <progress class="progress" value="0">
        <div class="progress-container">
            <span class="progress-bar"></span>
        </div>
    </progress>
</div>


<!-- /post -->

<!-- The #contentFor helper here will send everything inside it up to the matching #block helper found in default.hbs -->

        <!-- Previous/next page links - displayed on every page -->
        

        <!-- The footer at the very bottom of the screen -->
        <footer class="site-footer outer">
            <div class="site-footer-content inner">
                <section class="copyright"><a href="https://moon9342.github.io/">IT Technical Training</a> &copy; 2021</section>
                <section class="poweredby">Proudly published with <a href="https://jekyllrb.com/">Jekyll</a> &
                    <a href="https://pages.github.com/">GitHub Pages</a></section>
                <nav class="site-footer-nav">
                    <a href="mailto:moon9342@gmail.com">moon9342@gmail.com</a>
                    <a href="/">Latest Posts</a>
                    
                    
                </nav>
            </div>
        </footer>

    </div>

    <!-- The big email subscribe modal content -->
    
        <div id="subscribe" class="subscribe-overlay">
            <a class="subscribe-overlay-close" href="#"></a>
            <div class="subscribe-overlay-content">
                
                <h1 class="subscribe-overlay-title">Search IT Technical Training</h1>
                <p class="subscribe-overlay-description">lunr.js를 이용한 posts 검색 </p>
                <span id="searchform" method="post" action="/subscribe/" class="">
    <input class="confirm" type="hidden" name="confirm"  /><input class="location" type="hidden" name="location"  /><input class="referrer" type="hidden" name="referrer"  />

    <div class="form-group">
        <input class="subscribe-email" onkeyup="myFunc()" id="searchtext" type="text" name="searchtext"  placeholder="Search..." />
    </div>
    <!--<button class="" onclick="myFunc()" id="searchBtn" type="button" ><span>Search</span></button>-->
    <script type="text/javascript">
        function myFunc() {
            if(event.keyCode == 13) {
                var url = encodeURIComponent($("#searchtext").val());
                location.href = "/search.html?query=" + url;
            }
        }
    </script>
    <!--<script type="text/et-cetera">(function(g,h,o,s,t){h[o]('.location')[s]=h[o]('.location')[s] || g.location.href;h[o]('.referrer')[s]=h[o]('.referrer')[s] || h.referrer;})(window,document,'querySelector','value');</script>-->
</span>


            </div>
        </div>
    

    <!-- highlight.js -->
    <script src="//cdnjs.cloudflare.com/ajax/libs/highlight.js/9.12.0/highlight.min.js"></script>
    <script>hljs.initHighlightingOnLoad();</script>

    <script type="text/javascript" src="/assets/js/jquery.fitvids.js"></script>


    <!-- Paginator increased to "infinit" in _config.yml -->
    <!-- if paginator.posts  -->
    <!-- <script>
        var maxPages = parseInt('');
    </script>
    <script src="/assets/js/infinitescroll.js"></script> -->
    <!-- /endif -->

    


    <!-- Add Google Analytics  -->
    <!-- Google Analytics Tracking code -->
 <script>
  (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
  (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
  m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
  })(window,document,'script','//www.google-analytics.com/analytics.js','ga');

  ga('create', 'UA-113135179-1', 'auto');
  ga('send', 'pageview');

 </script>


    <!-- The #block helper will pull in data from the #contentFor other template files. In this case, there's some JavaScript which we only want to use in post.hbs, but it needs to be included down here, after jQuery has already loaded. -->
    
        <script>

// NOTE: Scroll performance is poor in Safari
// - this appears to be due to the events firing much more slowly in Safari.
//   Dropping the scroll event and using only a raf loop results in smoother
//   scrolling but continuous processing even when not scrolling
$(document).ready(function () {
    // Start fitVids
    var $postContent = $(".post-full-content");
    $postContent.fitVids();
    // End fitVids

    var progressBar = document.querySelector('progress');
    var header = document.querySelector('.floating-header');
    var title = document.querySelector('.post-full-title');

    var lastScrollY = window.scrollY;
    var lastWindowHeight = window.innerHeight;
    var lastDocumentHeight = $(document).height();
    var ticking = false;

    function onScroll() {
        lastScrollY = window.scrollY;
        requestTick();
    }

    function onResize() {
        lastWindowHeight = window.innerHeight;
        lastDocumentHeight = $(document).height();
        requestTick();
    }

    function requestTick() {
        if (!ticking) {
            requestAnimationFrame(update);
        }
        ticking = true;
    }

    function update() {
        var trigger = title.getBoundingClientRect().top + window.scrollY;
        var triggerOffset = title.offsetHeight + 35;
        var progressMax = lastDocumentHeight - lastWindowHeight;

        // show/hide floating header
        if (lastScrollY >= trigger + triggerOffset) {
            header.classList.add('floating-active');
        } else {
            header.classList.remove('floating-active');
        }

        progressBar.setAttribute('max', progressMax);
        progressBar.setAttribute('value', lastScrollY);

        ticking = false;
    }

    window.addEventListener('scroll', onScroll, {passive: true});
    window.addEventListener('resize', onResize, false);

    update();
});
</script>

    

    <!-- Ghost outputs important scripts and data with this tag - it should always be the very last thing before the closing body tag -->
    <!-- ghost_foot -->

</body>
</html>
