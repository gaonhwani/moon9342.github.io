<!DOCTYPE html>
<html lang="ko">
<head>

    <!-- Document Settings -->
    <meta charset="utf-8" />
    <meta http-equiv="X-UA-Compatible" content="IE=edge" />

    <!-- Base Meta -->
    <!-- dynamically fixing the title for tag/author pages -->



    <title>Relational Database MySQL(7) - SQL 고급(1)</title>
    <meta name="HandheldFriendly" content="True" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />


    <!-- jQuery + Fitvids, which makes all video embeds responsive -->
    <script
            src="https://code.jquery.com/jquery-3.2.1.min.js"
            integrity="sha256-hwg4gsxgFZhOsEEamdOYGBf13FyQuiTwlAQgxVSNgt4="
            crossorigin="anonymous">
    </script>

    <!-- 웹 폰트 설정 -->
    <link rel="stylesheet" href="https://fonts.googleapis.com/earlyaccess/nanumgothic.css">

    <!-- Font Awesome CDN 설정 => 느림.. -->
    <link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/font-awesome/4.7.0/css/font-awesome.min.css">

    <!-- JQuery fancybox plugin-->
    <link rel="stylesheet" href="/assets/built/fancybox.css">
    <script src="/assets/js/fancybox.js"></script>

    <!-- custom.css -->
    <link rel="stylesheet" href="/assets/built/custom.css">

    <!-- syntax.css -->
    <link rel="stylesheet" href="/assets/built/syntax.css">

    <!-- gist.css -->
    <link rel="stylesheet" href="/assets/built/better-gist-styles.css">

    <!-- Styles'n'Scripts -->
    <link rel="stylesheet" type="text/css" href="/assets/built/screen.css" />
    <link rel="stylesheet" type="text/css" href="/assets/built/screen.edited.css" />

    <!-- highlight.js -->
    <link rel="stylesheet" href="//cdnjs.cloudflare.com/ajax/libs/highlight.js/9.3.0/styles/default.min.css">
    <style>.hljs { background: none; }</style>

    <!--Dl Menu-->
    <script src="/assets/js/modernizr.custom.js"></script>
    <script src="/assets/js/jquery.dlmenu.js"></script>
    <script src="/assets/js/menu_main.js"></script>

    <!-- Google AdSense -->
    <script data-ad-client="ca-pub-2687024418565562" async src="https://pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>

    <!-- This tag outputs SEO meta+structured data and other important settings -->
    <meta name="description" content="얼큰우동TV, 쉽게배우는 IT(Programming,Machine Learning,금융)" />
    <link rel="shortcut icon" href="https://moon9342.github.io/assets/built/images/favicon.jpg" type="image/png" />
    <link rel="canonical" href="https://moon9342.github.io/data-science-lecture-relational-database-mysql-sql-part2" />
    <meta name="referrer" content="no-referrer-when-downgrade" />

     <!--title below is coming from _includes/dynamic_title-->
    <meta property="og:site_name" content="IT Technical Training" />
    <meta property="og:type" content="website" />
    <meta property="og:title" content="Relational Database MySQL(7) - SQL 고급(1)" />
    <meta property="og:description" content="Data-Science 강의는 여러 절로 구성되어 있습니다. Relational Database MySQL(1) - Introduction Relational Database MySQL(2) - Install 및 환경설정 Relational Database MySQL(3) - MySQL 전체 운영 실습 Relational Database MySQL(4) - Data Modeling Relational Database MySQL(5) - MySQL Utility Relational Database MySQL(6) - SQL 기본 Relational Database MySQL(7) - SQL 고급(1)" />
    <meta property="og:url" content="https://moon9342.github.io/data-science-lecture-relational-database-mysql-sql-part2" />
    <meta property="og:image" content="https://moon9342.github.io/assets/built/images/digital-marketing.jpg" />
    <meta property="article:publisher" content="https://www.facebook.com/" />
    <meta property="article:author" content="https://www.facebook.com/" />
    <meta property="article:published_time" content="2019-01-08T01:40:00+09:00" />
    <meta property="article:modified_time" content="2019-01-08T01:40:00+09:00" />
    <meta property="article:tag" content="Data-science" />
    <meta name="twitter:card" content="summary_large_image" />
    <meta name="twitter:title" content="Relational Database MySQL(7) - SQL 고급(1)" />
    <meta name="twitter:description" content="Data-Science 강의는 여러 절로 구성되어 있습니다. Relational Database MySQL(1) - Introduction Relational Database MySQL(2) - Install 및 환경설정 Relational Database MySQL(3) - MySQL 전체 운영 실습 Relational Database MySQL(4) - Data Modeling Relational Database MySQL(5) - MySQL Utility Relational Database MySQL(6) - SQL 기본 Relational Database MySQL(7) - SQL 고급(1)" />
    <meta name="twitter:url" content="https://moon9342.github.io/" />
    <meta name="twitter:image" content="https://moon9342.github.io/assets/built/images/digital-marketing.jpg" />
    <meta name="twitter:label1" content="Written by" />
    <meta name="twitter:data1" content="IT Technical Training" />
    <meta name="twitter:label2" content="Filed under" />
    <meta name="twitter:data2" content="Data-science" />
    <meta name="twitter:site" content="@" />
    <meta name="twitter:creator" content="@" />
    <meta property="og:image:width" content="1400" />
    <meta property="og:image:height" content="933" />

    <script type="application/ld+json">
{
    "@context": "https://schema.org",
    "@type": "Website",
    "publisher": {
        "@type": "Organization",
        "name": "IT Technical Training",
        "logo": "https://moon9342.github.io/"
    },
    "url": "https://moon9342.github.io/data-science-lecture-relational-database-mysql-sql-part2",
    "image": {
        "@type": "ImageObject",
        "url": "https://moon9342.github.io/assets/built/images/digital-marketing.jpg",
        "width": 2000,
        "height": 666
    },
    "mainEntityOfPage": {
        "@type": "WebPage",
        "@id": "https://moon9342.github.io/data-science-lecture-relational-database-mysql-sql-part2"
    },
    "description": "Data-Science 강의는 여러 절로 구성되어 있습니다. Relational Database MySQL(1) - Introduction Relational Database MySQL(2) - Install 및 환경설정 Relational Database MySQL(3) - MySQL 전체 운영 실습 Relational Database MySQL(4) - Data Modeling Relational Database MySQL(5) - MySQL Utility Relational Database MySQL(6) - SQL 기본 Relational Database MySQL(7) - SQL 고급(1)"
}
    </script>

    <!-- <script type="text/et-cetera" src="https://demo.ghost.io/public/ghost-sdk.min.js?v=724281a32e"></script>
    <script type="text/et-cetera">
    ghost.init({
    	clientId: "ghost-frontend",
    	clientSecret: "f84a07a72b17"
    });
    </script> -->

    <!-- 사용자 browser 확인 코드 - Chrome이 아니면 경고 메시지 출력 -->

    <script>
        var agent = navigator.userAgent.toLowerCase();
        var _iPhone = false;
        var _chrome = false;
        var result = false;
        if (agent.indexOf("iphone") != -1) {
            _iPhone = true;
        }
        if (agent.indexOf("chrome") != -1) {
            _chrome = true;
        }

        if( _iPhone || _chrome ) {
            result = true;
        }

        if( !result ) {
            alert("이 블로그는 Google Chrome Browser에 최적화 되어 있습니다 !!");
        }

    </script>

    <meta name="generator" content="Jekyll 3.6.2" />
    <link rel="alternate" type="application/rss+xml" title="Relational Database MySQL(7) - SQL 고급(1)" href="/feed.xml" />


</head>
<body class="post-template">

    <div class="site-wrapper">
        <!-- All the main content gets inserted here, index.hbs, post.hbs, etc -->
        <!-- default -->

<!-- The tag above means: insert everything in this file
into the {body} of the default.hbs template -->

<header class="site-header outer">
    <div class="inner">
        <nav class="site-nav">
    <div class="site-nav-left">
        
            
                <a class="site-nav-logo" href="/">IT Technical Training</a>
            
        
        
            
<ul class="nav" role="menu">
<!--    <li class="nav-home" role="menuitem"><a href="/">Home</a></li>-->
    <li class="nav-about" role="menuitem"><a href="/about/">About</a></li>
<!--
    <li class="nav-data-analysis-article" role="menuitem"><a href="/author/data-analysis/">Data Analysis(R)</a></li>
    <li class="nav-python-article" role="menuitem"><a href="/author/python/">Python</a></li>
    <li class="nav-python-article" role="menuitem"><a href="/tag/jekyll/">Jekyll</a></li>
    <li class="nav-miscellaneous-article" role="menuitem"><a href="/author/fragmentary-knowledge/">Miscellaneous Article</a></li>
-->
<!--
    <li class="nav-archive" role="menuitem">
        <a href="/archive.html">All Posts</a>
    </li>
-->
    <li class="nav-python" role="menuitem">
        <a href="/tag/jekyll/">Jekyll Blog 생성</a>
    </li>
    <li class="nav-python" role="menuitem">
        <a href="/tag/python/">Python</a>
    </li>
    <li class="nav-data-science" role="menuitem">
        <a href="/tag/data-science/">Data Science</a>
    </li>
    <li class="nav-machine-learning" role="menuitem">
        <a href="/tag/machine-learning/">Machine Learning</a>
    </li>
    <li class="nav-python" role="menuitem">
        <a href="/tag/r/">R 기초강의</a>
    </li>
<!--    <li class="nav-python" role="menuitem">-->
<!--        <a href="/tag/angular/">Angular</a>-->
<!--    </li>-->
    <li class="nav-python" role="menuitem">
        <a href="/tag/et-cetera/">Et cetera</a>
    </li>
    <li class="nav-archive" role="menuitem">
        <a href="/author_archive.html">All Posts</a>
    </li>
</ul>

<!-- 아래 내용이 있으면 홈 화면 좌측 상단에 Navigation 버튼이 생성됨.. 굳이 필요없어서 comment 처리 -->

<!--
<nav id="dl-menu" class="dl-menuwrapper" role="navigation">
    <button class="dl-trigger">Open Menu</button>
    <ul class="dl-menu">
        <li><a href="https://moon9342.github.io/">Home</a></li>
        <li>
            <a href="#">About</a>
            <ul class="dl-submenu">
                <li style="text-align: center">
                    <img src="https://moon9342.github.io/assets/built/images/photo.jpg" alt="SungHoon Moon photo" class="author-photo">
                </li>
                <li>
                    <h4>SungHoon Moon</h4>
                    <p>Director of ATGLab. <br>Ph.D. in Computer Science</p>
                </li>
                <li><a href="https://moon9342.github.io/about/"><i class="fa fa-external-link"></i><span class="btn btn-inverse"> Learn More</span></a></li>
                <li>
                <a href="mailto:moon9342@gmail.com"><i class="fa fa-fw fa-envelope"></i> Email</a>
            </li>
                
                
                
                
                
                
                
                
                
            </ul>
        </li>
        <li>
            <a href="#">Posts</a>
            <ul class="dl-submenu">
                <li><a href="https://moon9342.github.io/archive">All Posts</a></li>
                <li><a href="https://moon9342.github.io/author_archive">All Tags</a></li>
            </ul>
        </li>
        
    </ul>
</nav>
-->
        
    </div>
    <div class="site-nav-right">
        <div class="social-links">
            
            
        </div>
        
            <a class="subscribe-button" href="#subscribe">Search</a>
        
    </div>
</nav>

    </div>
</header>

<!-- Everything inside the #post tags pulls data from the post -->
<!-- #post -->

<main id="site-main" class="site-main outer" role="main">
    <div class="inner">

        <article class="post-full post tag-front-end ">

            <header class="post-full-header">
                <section class="post-full-meta">
                    <time class="post-full-meta-date" datetime=" 7 January 2019"> 7 January 2019</time>
                    
                        <span class="date-divider">/</span>
                        
                            
                               <a href='/tag/data-science/'>DATA-SCIENCE</a>
                            
                        
                    
                </section>
                <h1 class="post-full-title">Relational Database MySQL(7) - SQL 고급(1)</h1>
            </header>

            
<!--
            post에 cover image를 표시하지 않게 설정
            <figure class="post-full-image" style="background-image: url(/assets/built/images/digital-marketing.jpg)">
            </figure>
-->
            

            <section class="post-full-content">
                <div class="kg-card-markdown">
                    <p><span class="table-of-contents-list">Data-Science 강의는 여러 절로 구성되어 있습니다. </span></p>
<ul class="table-of-contents-list">
    <li><a href="./data-science-lecture-relational-database-mysql-introduction">Relational Database MySQL(1) - Introduction</a></li>
    <li><a href="./data-science-lecture-relational-database-mysql-setup">Relational Database MySQL(2) - Install 및 환경설정</a></li>
    <li><a href="./data-science-lecture-relational-database-mysql-first-execution">Relational Database MySQL(3) - MySQL 전체 운영 실습</a></li>
    <li><a href="./data-science-lecture-relational-database-mysql-data-modeling">Relational Database MySQL(4) - Data Modeling</a></li>
    <li><a href="./data-science-lecture-relational-database-mysql-utility">Relational Database MySQL(5) - MySQL Utility</a></li>
    <li><a href="./data-science-lecture-relational-database-mysql-sql-part1">Relational Database MySQL(6) - SQL 기본</a></li>
    <li><a href="./data-science-lecture-relational-database-mysql-sql-part2">Relational Database MySQL(7) - SQL 고급(1)</a></li>
    <li><a href="./data-science-lecture-relational-database-mysql-sql-part3">Relational Database MySQL(8) - SQL 고급(2)</a></li>
    <li><a href="./data-science-lecture-relational-database-mysql-table-view">Relational Database MySQL(9) - Table &amp; View</a></li>
    <li><a href="./data-science-lecture-relational-database-mysql-index-1">Relational Database MySQL(10) - Index</a></li>
    <li><a href="./data-science-lecture-relational-database-mysql-index-2">Relational Database MySQL(11) - Index 성능비교</a></li>

    <li><a href="./data-science-lecture-nosql-database-mongodb-introduction">NoSQL Database MongoDB(1) - Introduction</a></li>
    <li><a href="./data-science-lecture-nosql-database-mongodb-data-modeling">NoSQL Database MongoDB(2) - NoSQL Data Modeling</a></li>
    <li><a href="./data-science-lecture-nosql-database-mongodb-basic-concept">NoSQL Database MongoDB(3) - MongoDB Basic Concept</a></li>

    <li><a href="./data-science-lecture-python-introduction">Python 데이터분석 라이브러리(0) - Introduction</a></li>
    <li><a href="./data-science-lecture-python-numpy">Python 데이터분석 라이브러리(1) - NumPy</a></li>
    <li><a href="./data-science-lecture-python-numpy-exercise">Python 데이터분석 라이브러리(2) - NumPy(Exercise)</a></li>

    <li><a href="./data-science-lecture-python-pandas-series">Python 데이터분석 라이브러리(3) - Pandas(Series)</a></li>
    <li><a href="./data-science-lecture-python-pandas-dataframe-basic">Python 데이터분석 라이브러리(4) - Pandas(DataFrame 생성)</a></li>
    <li><a href="./data-science-lecture-python-pandas-dataframe-indexing">Python 데이터분석 라이브러리(5) - Pandas(DataFrame indexing)</a></li>
    <li><a href="./data-science-lecture-python-pandas-dataframe-functions">Python 데이터분석 라이브러리(6) - Pandas(DataFrame functions)</a></li>
    <li><a href="./data-science-lecture-python-pandas-dataframe-merge">Python 데이터분석 라이브러리(7) - Pandas(DataFrame merge)</a></li>
    <li><a href="./data-science-lecture-python-pandas-dataframe-transform">Python 데이터분석 라이브러리(8) - Pandas(DataFrame 제어)</a></li>
    <li><a href="./data-science-lecture-python-pandas-dataframe-group">Python 데이터분석 라이브러리(9) - Pandas(DataFrame Grouping)</a></li>
    <li><a href="./data-science-lecture-python-pandas-dataframe-exercise">Python 데이터분석 라이브러리(10) - Pandas(Exercise)</a></li>
    <li><a href="./data-science-lecture-python-matplotlib">Python 데이터분석 라이브러리(11) - matplotlib</a></li>
    <li><a href="./data-science-lecture-python-statistics">Python 데이터분석을 위한 통계</a></li>
    <li><a href="./data-science-lecture-python-seaborn">Python 데이터분석 라이브러리(12) - seaborn</a></li>
    <li><a href="./data-science-lecture-python-folium">Python 데이터분석 라이브러리(13) - folium</a></li>
<!--    <li><a href="./data-science-lecture-python-pandas-dataframe-manipulation">Python 데이터분석 라이브러리(6) - Pandas(DataFrame 조작)</a></li>    -->
<!--    <li><a href="./data-science-lecture-python-pandas-dataframe-multi-index">Python 데이터분석 라이브러리(8) - Pandas(DataFrame multi index)</a></li>    -->
</ul>

<hr />

<p><strong class="subtitle_fontAwesome">SQL 고급(1)</strong></p>

<p>SQL 기본에서 <code class="highlighter-rouge">SELECT</code>, <code class="highlighter-rouge">INSERT</code>, <code class="highlighter-rouge">UPDATE</code>, <code class="highlighter-rouge">DELETE</code>문에 대해서 알아보았습니다. 
기본적인 SQL문을 익혔으니 이제 SQL에 대해서 조금 더 깊이 있게 알아보도록 하겠습니다.</p>

<p>제일먼저 알아볼 부분은 <code class="highlighter-rouge">Data Type</code>입니다. 사실 먼저 나왔어야 하는 내용이지만 기본적인
SQL을 알고 얘기하는게 조금 더 이해하지 좋습니다.</p>

<p>그럼 <code class="highlighter-rouge">Data Type</code>부터 알아보도록 하죠.</p>

<hr />

<p><strong class="subtitle2_fontAwesome">SQL Data Type</strong></p>

<p><code class="highlighter-rouge">MySQL</code>에서 사용하는 <code class="highlighter-rouge">Data Type</code>은 총 30개 정도 됩니다. 이를 다 쓰는것은 아니며
자주 사용되는것은 어느정도 정해져 있습니다.</p>

<ul>
  <li>숫자 데이터 형식</li>
</ul>

<p><a href="/assets/built/images/database-mysql-sql-datatype-numeric.png" data-fancybox="">
    <img src="/assets/built/images/database-mysql-sql-datatype-numeric.png" alt="SQL 숫자 데이터 타입" />
</a></p>

<p>범위에 따라 적절한 데이터 타입을 사용하면 됩니다. <code class="highlighter-rouge">DECIMAL</code>은 정확한 수치를
저장할 수 있고 <code class="highlighter-rouge">FLOAT</code>나 <code class="highlighter-rouge">DOUBLE</code>은 근사치를 저장합니다. 대신 상당히 큰 숫자를
저장할 수 있다는 장점이 있습니다. 따라서 소수점이 들어간 숫자를 저장할 때는
가능한 <code class="highlighter-rouge">DECIMAL</code>을 사용하는 것이 좋습니다. 참고로 부호없는 정수를 사용할 경우
뒤쪽에 <code class="highlighter-rouge">UNSIGNED</code> 예약어를 붙여주면 됩니다. 하지만 많이 사용되는 것은 아닙니다.</p>

<ul>
  <li>문자 데이터 형식</li>
</ul>

<p><a href="/assets/built/images/database-mysql-sql-datatype-string.png" data-fancybox="">
    <img src="/assets/built/images/database-mysql-sql-datatype-string.png" alt="SQL 문자 데이터 타입" />
</a></p>

<p>위의 그림에도 설명되어 있지만 <code class="highlighter-rouge">CHAR</code>은 고정길이 데이터 타입입니다. <code class="highlighter-rouge">CHAR(100)</code>
이라고 하고 <code class="highlighter-rouge">ABC</code>만 저장하면 뒤의 97자리는 낭비하게 됩니다. 반면 <code class="highlighter-rouge">VARCHAR</code>는
그렇지 않습니다. 필요한 자리수만 사용하게 되죠. 즉 데이터공간을 효율적으로 사용할
수 있습니다. 그럼 왜 <code class="highlighter-rouge">CHAR</code>을 사용할까요? 그 이유는 <code class="highlighter-rouge">INSERT</code>와 <code class="highlighter-rouge">UPDATE</code>시 
실행 속도가 빠르기 때문입니다.</p>

<p><code class="highlighter-rouge">TEXT</code>는 대용량의 글자를 저장하기 위한 형식이고 <code class="highlighter-rouge">BLOB</code>는 사진이나 동영상과 같은
대용량의 이진 데이터를 저장할 때 사용됩니다.</p>

<ul>
  <li>날짜 데이터 형식</li>
</ul>

<p><a href="/assets/built/images/database-mysql-sql-datatype-date.png" data-fancybox="">
    <img src="/assets/built/images/database-mysql-sql-datatype-date.png" alt="SQL 날짜 데이터 타입" />
</a></p>

<p>날짜와 시간형 데이터에 대해서는 다음의 코드로 간단하게 알아보도록 하죠.</p>

<div class="language-sql highlighter-rouge"><div class="highlight"><pre class="highlight"><code>
<span class="k">SELECT</span> <span class="k">CAST</span><span class="p">(</span><span class="s1">'2020-01-05 13:45:23.123'</span> <span class="k">AS</span> <span class="n">DATE</span><span class="p">);</span>
<span class="k">SELECT</span> <span class="k">CAST</span><span class="p">(</span><span class="s1">'2020-01-05 13:45:23.123'</span> <span class="k">AS</span> <span class="n">TIME</span><span class="p">);</span>
<span class="k">SELECT</span> <span class="k">CAST</span><span class="p">(</span><span class="s1">'2020-01-05 13:45:23.123'</span> <span class="k">AS</span> <span class="n">DATETIME</span><span class="p">);</span>

</code></pre></div></div>

<ul>
  <li>기타 데이터 형식</li>
</ul>

<p><a href="/assets/built/images/database-mysql-sql-datatype-json.png" data-fancybox="">
    <img src="/assets/built/images/database-mysql-sql-datatype-json.png" alt="SQL 기타 데이터 타입" />
</a></p>

<ul>
  <li>LONGTEXT, LONGBLOB</li>
</ul>

<p><code class="highlighter-rouge">MySQL</code>은 <code class="highlighter-rouge">LOB</code>(Large Object :  대량의 데이터)를 저장하기 위해 <code class="highlighter-rouge">LONGTEXT</code>, 
<code class="highlighter-rouge">LONGBLOB</code> 데이터 형식을 지원합니다. 지원되는 크기는 약 4GB 입니다.</p>

<hr />

<p><strong class="subtitle2_fontAwesome">SQL 변수 사용</strong></p>

<p><code class="highlighter-rouge">SQL</code>도 다른 프로그래밍 언어처럼 <code class="highlighter-rouge">Variable</code>(변수)를 선언하고 사용할 수 있습니다.
변수의 선언과 값의 대입은 다음 처럼 사용합니다.</p>

<div class="language-text highlighter-rouge"><div class="highlight"><pre class="highlight"><code>
SET @변수이름 = 변수의 값;

SELECT @변수이름;

</code></pre></div></div>

<p>위에서 보듯이 SQL문에서 변수는 <code class="highlighter-rouge">@</code>기호를 이용하여 사용합니다. 대신 <code class="highlighter-rouge">Stored Procedure</code>나
함수 안에서의 변수를 사용할 때는 <code class="highlighter-rouge">@</code>기호를 빼고 사용합니다. 함수를 선언하고 사용하는 
방법은 뒤쪽에서 다시 알아보도록 하겠습니다.</p>

<p>먼저 간단히 변수의 사용법을 실습해 보도록 하죠.</p>

<div class="language-sql highlighter-rouge"><div class="highlight"><pre class="highlight"><code>
<span class="n">USE</span> <span class="n">sqldb</span><span class="p">;</span>

<span class="k">SET</span> <span class="o">@</span><span class="n">myVar1</span> <span class="o">=</span> <span class="mi">5</span><span class="p">;</span>
<span class="k">SET</span> <span class="o">@</span><span class="n">myVar2</span> <span class="o">=</span> <span class="mi">3</span><span class="p">;</span>
<span class="k">SET</span> <span class="o">@</span><span class="n">myVar3</span> <span class="o">=</span> <span class="mi">3</span><span class="p">.</span><span class="mi">1415</span><span class="p">;</span>
<span class="k">SET</span> <span class="o">@</span><span class="n">myVar4</span> <span class="o">=</span> <span class="s1">'가수 이름 : '</span><span class="p">;</span>

<span class="k">SELECT</span> <span class="o">@</span><span class="n">myVar1</span><span class="p">;</span>

<span class="k">SELECT</span> <span class="o">@</span><span class="n">myVar2</span> <span class="o">+</span> <span class="o">@</span><span class="n">myVar3</span><span class="p">;</span>

<span class="c1">-- 변수는 일반적인 SELECT ~ FROM 구문에서 같이 사용할 수 있습니다.</span>

<span class="k">SELECT</span> <span class="o">@</span><span class="n">myVar4</span><span class="p">,</span> <span class="n">name</span> 
<span class="k">FROM</span> <span class="n">usertbl</span>
<span class="k">WHERE</span> <span class="n">height</span> <span class="o">&gt;</span> <span class="mi">180</span><span class="p">;</span>

</code></pre></div></div>

<p>주의해야 할 점은 SQL문에 항상 변수를 같이 사용할 수 있는것은 아닙니다.
조금 다른 예제도 한번 살펴보죠.</p>

<div class="language-sql highlighter-rouge"><div class="highlight"><pre class="highlight"><code>
<span class="k">SET</span> <span class="o">@</span><span class="n">myVar5</span> <span class="o">=</span> <span class="mi">3</span><span class="p">;</span>

<span class="k">SELECT</span> <span class="n">name</span><span class="p">,</span> <span class="n">height</span>
<span class="k">FROM</span> <span class="n">usertbl</span>
<span class="k">ORDER</span> <span class="k">BY</span> <span class="n">height</span>
<span class="k">LIMIT</span> <span class="o">@</span><span class="n">myVar5</span><span class="p">;</span>

</code></pre></div></div>

<p>변수를 설정하고 <code class="highlighter-rouge">LIMIT</code>의 값으로 변수를 사용하려고 했지만 <code class="highlighter-rouge">Syntax Error</code>(문법오류)가
발생합니다. 이런 경우 다음과 같이 동적 SQL문을 이용해 처리하면 됩니다.</p>

<div class="language-sql highlighter-rouge"><div class="highlight"><pre class="highlight"><code>
<span class="k">SET</span> <span class="o">@</span><span class="n">myVar5</span> <span class="o">=</span> <span class="mi">3</span><span class="p">;</span>

<span class="k">PREPARE</span> <span class="n">myQuery</span>
    <span class="k">FROM</span> <span class="s1">'SELECT name, height FROM usertbl ORDER BY height LIMIT ?'</span><span class="p">;</span>
    
<span class="k">EXECUTE</span> <span class="n">myQuery</span> <span class="k">USING</span> <span class="o">@</span><span class="n">myVar5</span>

</code></pre></div></div>

<hr />

<p><strong class="subtitle2_fontAwesome">SQL 데이터 형 변환</strong></p>

<p>가장 일반적으로 사용되는 데이터 형 변환에 관련된 함수는 <code class="highlighter-rouge">CAST()</code>, <code class="highlighter-rouge">CONVERT()</code>
입니다. 형식만 다를 뿐 둘 다 비슷한 역할을 합니다.</p>

<p>예제를 이용해 알아보도록 하겠습니다.</p>

<div class="language-sql highlighter-rouge"><div class="highlight"><pre class="highlight"><code>
<span class="n">USE</span> <span class="n">sqldb</span><span class="p">;</span>

<span class="k">SELECT</span> <span class="k">AVG</span><span class="p">(</span><span class="n">amount</span><span class="p">)</span> <span class="k">AS</span> <span class="s1">'평균 구매 개수'</span>
<span class="k">FROM</span> <span class="n">buytbl</span><span class="p">;</span>

<span class="k">SELECT</span> <span class="k">CAST</span><span class="p">(</span><span class="k">AVG</span><span class="p">(</span><span class="n">amount</span><span class="p">)</span> <span class="k">AS</span> <span class="n">SIGNED</span> <span class="n">INTEGER</span><span class="p">)</span> <span class="k">AS</span> <span class="s1">'평균 구매 개수'</span>
<span class="k">FROM</span> <span class="n">buytbl</span><span class="p">;</span>

<span class="c1">-- 반올림한 결과를 확인할 수 있습니다. </span>

<span class="c1">-- 다양한 구분자를 날짜 형식으로 바꿀 수 있습니다.</span>

<span class="k">SELECT</span> <span class="k">CAST</span><span class="p">(</span><span class="s1">'2021$01$05'</span> <span class="k">AS</span> <span class="n">DATE</span><span class="p">);</span>
<span class="k">SELECT</span> <span class="k">CAST</span><span class="p">(</span><span class="s1">'2021/01/05'</span> <span class="k">AS</span> <span class="n">DATE</span><span class="p">);</span>

<span class="c1">-- 쿼리의 결과를 보기 좋게 만들기 위해서도 사용할 수 있습니다. </span>

<span class="k">SELECT</span> <span class="n">num</span><span class="p">,</span> 
       <span class="n">CONCAT</span><span class="p">(</span><span class="k">CAST</span><span class="p">(</span><span class="n">price</span> <span class="k">AS</span> <span class="n">CHAR</span><span class="p">(</span><span class="mi">10</span><span class="p">)),</span> <span class="s1">' * '</span><span class="p">,</span> <span class="k">CAST</span><span class="p">(</span><span class="n">amount</span> <span class="k">AS</span> <span class="n">CHAR</span><span class="p">(</span><span class="mi">4</span><span class="p">)))</span> <span class="k">AS</span> <span class="s1">'단가 * 수량'</span><span class="p">,</span> 
       <span class="n">price</span><span class="o">*</span><span class="n">amount</span> <span class="k">AS</span> <span class="s1">'구매액'</span>
<span class="k">FROM</span> <span class="n">buytbl</span><span class="p">;</span>

<span class="c1">-- num, 단가 * 수량, 구매액</span>
<span class="c1">-- 1	30 * 2	60</span>
<span class="c1">-- 2	1000 * 1	1000</span>
<span class="c1">-- 3	200 * 1	200</span>
<span class="c1">-- 4	200 * 5	1000</span>
<span class="c1">-- 5	50 * 3	150</span>
<span class="c1">-- 6	80 * 10	800</span>
<span class="c1">-- 7	15 * 5	75</span>
<span class="c1">-- 8	15 * 2	30</span>
<span class="c1">-- 9	50 * 1	50</span>
<span class="c1">-- 10	30 * 2	60</span>
<span class="c1">-- 11	15 * 1	15</span>
<span class="c1">-- 12	30 * 2	60</span>

</code></pre></div></div>

<p>많이 혼동되는 것 중 하나가 <code class="highlighter-rouge">Implicit Conversion</code>(묵시적 형변환)입니다. 
<code class="highlighter-rouge">CAST()</code>를 이용하는 방법을 <code class="highlighter-rouge">Explicit Conversion</code>(명시적 형변환)이라고 합니다.
묵시적 형변환은 <code class="highlighter-rouge">CAST()</code>등을 사용하지 않고 형이 변환되는 것을 의미합니다.</p>

<p>아래의 코드를 보면서 다양한 경우에 대한 묵시적 형변환에 대해
이해해보도록 하죠.</p>

<div class="language-sql highlighter-rouge"><div class="highlight"><pre class="highlight"><code>
<span class="k">SELECT</span> <span class="s1">'100'</span> <span class="o">+</span> <span class="s1">'200'</span><span class="p">;</span>   
  <span class="c1">-- 문자와 문자를 더하는 경우 숫자로 변경되서 연산</span>
  <span class="c1">-- 300</span>
  <span class="c1">-- 한가지 조심해야 하는건 다른 DBMS에서는 문자열 연결로 처리되는 경우가 있음.</span>
  <span class="c1">-- '100200'</span>
                
<span class="k">SELECT</span> <span class="mi">100</span> <span class="o">+</span> <span class="s1">'200'</span><span class="p">;</span>         
  <span class="c1">-- 문자와 숫자를 더하는 경우 문자를 숫자로 변경되서 연산</span>
  <span class="c1">-- 300</span>

<span class="k">SELECT</span> <span class="s1">'Hello'</span> <span class="o">+</span> <span class="s1">'World'</span><span class="p">;</span>   
  <span class="c1">-- 더하기 연산을 수행하기 위해 문자를 숫자로 변경</span>
  <span class="c1">-- 문자 숫자는 온전히 숫자로 바뀌지만 문자로 시작하는 경우 0으로 바뀐다는 점.</span>
  <span class="c1">-- 0</span>

<span class="k">SELECT</span> <span class="mi">100</span> <span class="o">+</span> <span class="s1">'35World'</span><span class="p">;</span>   
  <span class="c1">-- 더하기 연산을 수행하기 위해 문자를 숫자로 변경</span>
  <span class="c1">-- 문자가 숫자로 시작할 때 숫자부분만 숫자로 변경되고 문자는 버림</span>
  <span class="c1">-- 135</span>

<span class="k">SELECT</span> <span class="n">CONCAT</span><span class="p">(</span><span class="s1">'Hello'</span><span class="p">,</span> <span class="s1">'World'</span><span class="p">);</span>  
  <span class="c1">-- 문자열 연결</span>
  <span class="c1">-- 'HelloWorld'</span>

<span class="k">SELECT</span> <span class="n">CONCAT</span><span class="p">(</span><span class="s1">'100'</span><span class="p">,</span> <span class="mi">200</span><span class="p">);</span>    
  <span class="c1">-- 문자열 연결</span>
  <span class="c1">-- '100200'</span>

<span class="k">SELECT</span> <span class="mi">1</span> <span class="o">&gt;</span> <span class="s1">'2hoho'</span><span class="p">;</span>           
  <span class="c1">-- 1 &gt; 2 의 의미가 되기 때문에 False(0)으로 출력</span>
                              
<span class="k">SELECT</span> <span class="mi">3</span> <span class="o">&gt;</span> <span class="s1">'2hoho'</span><span class="p">;</span>           
  <span class="c1">-- 3 &gt; 2 의 의미가 되기 때문에 True(1)으로 출력                              </span>

<span class="k">SELECT</span> <span class="mi">0</span> <span class="o">=</span> <span class="s1">'Hello'</span><span class="p">;</span>           
  <span class="c1">-- 0 = 0, 문자가 숫자와 비교하기 위해 숫자로 변경 결국 True(1)</span>

</code></pre></div></div>

<hr />

<p><strong class="subtitle2_fontAwesome">MySQL 내장함수</strong></p>

<p><code class="highlighter-rouge">MySQL</code>은 많은 내장 함수를 포함하고 있습니다. 수백개가 넘는 함수를 모두 알아보는것은
무리가 있으니 자주 사용되는 것들을 코드를 통해 알아보도록 하겠습니다.</p>

<ul>
  <li>제어 흐름 함수</li>
</ul>

<div class="language-sql highlighter-rouge"><div class="highlight"><pre class="highlight"><code>
<span class="k">SELECT</span> <span class="n">IF</span><span class="p">(</span><span class="mi">100</span> <span class="o">&gt;</span> <span class="mi">200</span><span class="p">,</span> <span class="s1">'참이다'</span><span class="p">,</span> <span class="s1">'거짓이다'</span><span class="p">);</span>   <span class="c1">-- 거짓이다</span>

<span class="c1">-- 우리가 일반적으로 알고 있는 IF문을 함수로 만들어 놓은 것입니다. </span>
<span class="c1">-- 첫번째 인자가 조건이고 조건이 참이면 두번째 인자를 거짓이면 세번째 인자를</span>
<span class="c1">-- 선택합니다.</span>

<span class="k">SELECT</span> <span class="n">IFNULL</span><span class="p">(</span><span class="k">NULL</span><span class="p">,</span> <span class="s1">'NULL 입니다.'</span><span class="p">);</span>       <span class="c1">-- NULL 입니다.</span>
<span class="k">SELECT</span> <span class="n">IFNULL</span><span class="p">(</span><span class="mi">100</span><span class="p">,</span> <span class="s1">'NULL이 아닙니다.'</span><span class="p">);</span>     <span class="c1">-- 100</span>

<span class="c1">-- IFNULL(인자1, 인자2) 형식에서 </span>
<span class="c1">-- 인자1이 만약 NULL이면 인자2를 반환하고</span>
<span class="c1">-- 인자1이 NULL이 아니면 인자1을 반환합니다.</span>

<span class="k">SELECT</span> <span class="k">NULLIF</span><span class="p">(</span><span class="mi">100</span><span class="p">,</span> <span class="mi">100</span><span class="p">),</span> <span class="k">NULLIF</span><span class="p">(</span><span class="mi">100</span><span class="p">,</span> <span class="mi">200</span><span class="p">);</span>  <span class="c1">-- NULL    100</span>

<span class="c1">-- NULLIF(인자1, 인자2) 형식에서</span>
<span class="c1">-- 인자1과 인자2가 같으면 NULL을 반환하고</span>
<span class="c1">-- 인자1과 인자2가 다르면 인자1을 반환합니다.</span>

<span class="k">SET</span> <span class="o">@</span><span class="n">my_var</span> <span class="o">=</span> <span class="mi">5</span><span class="p">;</span>

<span class="k">SELECT</span> <span class="k">CASE</span> <span class="o">@</span><span class="n">my_var</span>
            <span class="k">WHEN</span> <span class="mi">1</span> <span class="k">THEN</span> <span class="s1">'일'</span>
            <span class="k">WHEN</span> <span class="mi">5</span> <span class="k">THEN</span> <span class="s1">'오'</span>
            <span class="k">WHEN</span> <span class="mi">10</span> <span class="k">THEN</span> <span class="s1">'십'</span>
            <span class="k">ELSE</span> <span class="s1">'알수없음'</span>
       <span class="k">END</span> <span class="k">AS</span> <span class="s1">'CASE 연습'</span>     
       
<span class="c1">-- 다중 분기에 가장 흔하게 사용되는 CASE문입니다. 함수는 아니지만</span>
<span class="c1">-- 많이 사용되기 때문에 구문을 알아두어야 합니다. </span>

</code></pre></div></div>

<ul>
  <li>문자열 함수</li>
</ul>

<div class="language-sql highlighter-rouge"><div class="highlight"><pre class="highlight"><code>
<span class="k">SELECT</span> <span class="n">ASCII</span><span class="p">(</span><span class="s1">'A'</span><span class="p">),</span> <span class="n">CHAR</span><span class="p">(</span><span class="mi">66</span><span class="p">);</span>

<span class="c1">-- 문자의 ASCII값을 리턴하거나 아스키 코드값에 해당하는 문자를 리턴합니다.</span>
<span class="c1">-- workbench에서는 BLOB로 출력되는데 Open Value In Viewer를 이용하면</span>
<span class="c1">-- 정상적으로 확인할 수 있습니다. 명령어 라인에서는 정상 출력됩니다.</span>

<span class="k">SELECT</span> <span class="k">CHAR_LENGTH</span><span class="p">(</span><span class="s1">'abcde'</span><span class="p">),</span>   <span class="c1">-- 5</span>
       <span class="k">CHAR_LENGTH</span><span class="p">(</span><span class="s1">'홍길동'</span><span class="p">),</span>    <span class="c1">-- 3</span>
       <span class="k">LENGTH</span><span class="p">(</span><span class="s1">'abcde'</span><span class="p">),</span>        <span class="c1">-- 5</span>
       <span class="k">LENGTH</span><span class="p">(</span><span class="s1">'홍길동'</span><span class="p">);</span>         <span class="c1">-- 9  (한글은 3Byte, 3*3 =9)</span>

<span class="c1">-- MySQL은 기본적으로 UTF-8을 사용합니다.</span>

<span class="k">SELECT</span> <span class="n">CONCAT</span><span class="p">(</span><span class="s1">'Hello'</span><span class="p">,</span> <span class="s1">'World'</span><span class="p">),</span>           <span class="c1">-- HelloWorld</span>
       <span class="n">CONCAT_WS</span><span class="p">(</span><span class="s1">'-'</span><span class="p">,</span> <span class="s1">'2021'</span><span class="p">,</span><span class="s1">'05'</span><span class="p">,</span> <span class="s1">'30'</span><span class="p">);</span>  <span class="c1">-- 2021-05-30</span>
       
<span class="c1">-- CINCAT_WS()는 구분자를 이용해서 문자열을 연결합니다.</span>


<span class="k">SELECT</span> <span class="n">ELT</span><span class="p">(</span><span class="mi">3</span><span class="p">,</span> <span class="s1">'홍길동'</span><span class="p">,</span> <span class="s1">'신사임당'</span><span class="p">,</span> <span class="s1">'아이유'</span><span class="p">,</span> <span class="s1">'김연아'</span><span class="p">),</span>         <span class="c1">-- 아이유 </span>
       <span class="n">FIELD</span><span class="p">(</span><span class="s1">'김연아'</span><span class="p">,</span> <span class="s1">'홍길동'</span><span class="p">,</span> <span class="s1">'신사임당'</span><span class="p">,</span> <span class="s1">'아이유'</span><span class="p">,</span> <span class="s1">'김연아'</span><span class="p">),</span>  <span class="c1">-- 4</span>
       <span class="n">INSTR</span><span class="p">(</span><span class="s1">'이것은소리없는 아우성'</span><span class="p">,</span> <span class="s1">'소리'</span><span class="p">);</span>                   <span class="c1">-- 4</span>

<span class="c1">-- ELT()는 위치 번째에 해당하는 문자열을 반환합니다.</span>
<span class="c1">-- FIELD()는 찾을 문자열의 위치를 찾아서 반환합니다.</span>
<span class="c1">-- INSTR()은 기준문자열에서 부분 문자열을 찾아서 그 시작위치를 반환합니다.</span>

<span class="k">SELECT</span> <span class="n">FORMAT</span><span class="p">(</span><span class="mi">1234567</span><span class="p">.</span><span class="mi">1415926535</span><span class="p">,</span> <span class="mi">3</span><span class="p">);</span>  <span class="c1">-- 1,234,567.142    </span>

<span class="c1">-- 숫자를 소수점 아래 자릿수까지 표현합니다. 3자리 마다 콤마를 표현하고 반올림 처리합니다.</span>

<span class="k">SELECT</span> <span class="k">INSERT</span><span class="p">(</span><span class="s1">'ABCDEFGH'</span><span class="p">,</span> <span class="mi">3</span><span class="p">,</span> <span class="mi">2</span><span class="p">,</span> <span class="s1">'@@@'</span><span class="p">),</span>              <span class="c1">-- AB@@@EFGH</span>
       <span class="k">LEFT</span><span class="p">(</span><span class="s1">'ABCDEFGH'</span><span class="p">,</span> <span class="mi">3</span><span class="p">),</span>                          <span class="c1">-- ABC</span>
       <span class="k">UPPER</span><span class="p">(</span><span class="s1">'abcdefg'</span><span class="p">),</span>                             <span class="c1">-- ABCDEFG</span>
       <span class="k">TRIM</span><span class="p">(</span><span class="s1">'   이것은 소리없는 아우성   '</span><span class="p">),</span>               <span class="c1">-- 이것은 소리없는 아우성</span>
       <span class="k">TRIM</span><span class="p">(</span><span class="k">BOTH</span> <span class="s1">'@'</span> <span class="k">FROM</span> <span class="s1">'@@@이것은 소리없는 아우성@@@'</span><span class="p">),</span> <span class="c1">-- 이것은 소리없는 아우성</span>
       <span class="n">REPEAT</span><span class="p">(</span><span class="s1">'김연아'</span><span class="p">,</span> <span class="mi">3</span><span class="p">),</span>                            <span class="c1">-- 김연아김연아김연아</span>
       <span class="k">REPLACE</span><span class="p">(</span><span class="s1">'이것은 소리없는 아우성'</span><span class="p">,</span> <span class="s1">'소리'</span><span class="p">,</span> <span class="s1">'양심'</span><span class="p">),</span>    <span class="c1">-- 이것은 양심없는 아우성</span>
       <span class="n">REVERSE</span><span class="p">(</span><span class="s1">'김연아'</span><span class="p">),</span>                              <span class="c1">-- 아연김</span>
       <span class="n">CONCAT</span><span class="p">(</span><span class="s1">'이것은'</span><span class="p">,</span> <span class="k">SPACE</span><span class="p">(</span><span class="mi">5</span><span class="p">),</span> <span class="s1">'소리없는 아우성'</span><span class="p">),</span>      <span class="c1">-- 이것은     소리없는 아우성</span>
       <span class="k">SUBSTRING</span><span class="p">(</span><span class="s1">'이것은 소리없는 아우성'</span><span class="p">,</span> <span class="mi">3</span><span class="p">,</span> <span class="mi">5</span><span class="p">);</span>          <span class="c1">-- 은 소리없</span>

</code></pre></div></div>

<ul>
  <li>수학 함수</li>
</ul>

<div class="language-sql highlighter-rouge"><div class="highlight"><pre class="highlight"><code>
<span class="k">SELECT</span> <span class="k">ABS</span><span class="p">(</span><span class="o">-</span><span class="mi">100</span><span class="p">),</span>                 <span class="c1">-- 100</span>
       <span class="n">CEILING</span><span class="p">(</span><span class="mi">3</span><span class="p">.</span><span class="mi">1415</span><span class="p">),</span>           <span class="c1">-- 4</span>
       <span class="n">FLOOR</span><span class="p">(</span><span class="mi">3</span><span class="p">.</span><span class="mi">1415</span><span class="p">),</span>             <span class="c1">-- 3</span>
       <span class="n">ROUND</span><span class="p">(</span><span class="mi">3</span><span class="p">.</span><span class="mi">1415</span><span class="p">),</span>             <span class="c1">-- 3 </span>
       <span class="k">MOD</span><span class="p">(</span><span class="mi">157</span><span class="p">,</span> <span class="mi">10</span><span class="p">),</span>              <span class="c1">-- 7</span>
       <span class="n">RAND</span><span class="p">(),</span>                    <span class="c1">-- 0.8718332125542995</span>
       <span class="k">TRUNCATE</span><span class="p">(</span><span class="mi">12345</span><span class="p">.</span><span class="mi">12345</span><span class="p">,</span> <span class="mi">2</span><span class="p">);</span>  <span class="c1">-- 12345.12</span>
       
<span class="c1">-- RAND()는 0과 1사이의 실수를 랜덤하게 생성합니다. </span>
<span class="c1">-- TRUNCATE는 소수점 기준으로 위치를 구한 후 나머지는 버립니다.       </span>

</code></pre></div></div>

<ul>
  <li>날짜 및 시간함수</li>
</ul>

<div class="language-sql highlighter-rouge"><div class="highlight"><pre class="highlight"><code>
<span class="k">SELECT</span> <span class="n">ADDDATE</span><span class="p">(</span><span class="s1">'2021-01-31'</span><span class="p">,</span> <span class="n">INTERVAL</span> <span class="mi">31</span> <span class="k">DAY</span><span class="p">),</span>   <span class="c1">-- 2021-03-03</span>
       <span class="n">ADDDATE</span><span class="p">(</span><span class="s1">'2021-01-31'</span><span class="p">,</span> <span class="n">INTERVAL</span> <span class="mi">1</span> <span class="k">MONTH</span><span class="p">),</span>  <span class="c1">-- 2021-02-28</span>
       <span class="n">CURDATE</span><span class="p">(),</span>                                <span class="c1">-- 2021-12-07       </span>
       <span class="n">NOW</span><span class="p">(),</span>                                    <span class="c1">-- 2021-12-07 14:12:19 </span>
       <span class="k">YEAR</span><span class="p">(</span><span class="n">CURDATE</span><span class="p">()),</span>                          <span class="c1">-- 2021</span>
       <span class="n">DATE</span><span class="p">(</span><span class="n">NOW</span><span class="p">());</span>                              <span class="c1">-- 2021-12-07</span>

</code></pre></div></div>

<ul>
  <li>시스템 정보 함수</li>
</ul>

<div class="language-sql highlighter-rouge"><div class="highlight"><pre class="highlight"><code>
<span class="k">SELECT</span> <span class="k">USER</span><span class="p">(),</span>            <span class="c1">-- root@localhost (현재 사용자)</span>
       <span class="k">DATABASE</span><span class="p">(),</span>        <span class="c1">-- shopdb (현재 선택된 Database)</span>
       <span class="n">FOUND_ROWS</span><span class="p">(),</span>      <span class="c1">-- 1 (바로 이전의 SELECT 문에서 조회된 행의 개수)</span>
       <span class="k">ROW_COUNT</span><span class="p">(),</span>       <span class="c1">-- 0 (바로 이전의 Insert, Update, Delete 문에서 처리된 행의 개수)</span>
       <span class="n">SLEEP</span><span class="p">(</span><span class="mi">5</span><span class="p">);</span>          <span class="c1">-- 쿼리의 실행을 입력된 숫자 초만큼 지연한다.</span>

</code></pre></div></div>

<p>살펴본 것처럼 상당히 많은 내장함수를 보유하고 있고 이런 내장 함수를 이용하면
데이터 처리를 조금 더 쉽게 할 수 있습니다.</p>

<hr />

<p><strong class="subtitle2_fontAwesome">LONGTEXT와 LONGBLOB 실습</strong></p>

<p>데이터 타입때 잠깐 언급했던 두 개의 특이한 타입에 대해 어떻게 사용하면 되는지를
알아보겠습니다. 일반적인 다른 데이터 타입은 사용하는데 크게 무리가 없지만
이 두개의 특이한 데이터 타입은 조금 다르게 사용해야 합니다.</p>

<p>먼저 아래의 링크에서 입력으로 사용할 대용량의 TEXT 파일과 동영상(BLOB)파일을
다운로드 합니다.</p>

<p><a href="https://drive.google.com/file/d/1fBC85nmtGUZZSWYM_ADIyzyXfXB4xPA7/view?usp=sharing" target="_blank">영화 대본(Schindler.txt) - Google Drive</a></p>

<p><a href="https://drive.google.com/file/d/1xQMzEVff2GYqpiwPpvi3SlJDkavz3RiD/view?usp=sharing" target="_blank">영화 동영상(Schindler.mp4) - Google Drive</a></p>

<p>아래의 코드를 이용해 영화 데이터베이스 및 영화 테이블을 생성하고 데이터를
입력합니다.</p>

<div class="language-sql highlighter-rouge"><div class="highlight"><pre class="highlight"><code>
<span class="k">CREATE</span> <span class="k">DATABASE</span> <span class="n">moviedb</span><span class="p">;</span>       


<span class="n">USE</span> <span class="n">moviedb</span><span class="p">;</span>

<span class="k">CREATE</span> <span class="k">TABLE</span> <span class="n">movietbl</span> <span class="p">(</span>
    <span class="n">movie_id</span>         <span class="n">INT</span><span class="p">,</span>
    <span class="n">movie_title</span>      <span class="n">VARCHAR</span><span class="p">(</span><span class="mi">30</span><span class="p">),</span>
    <span class="n">movie_director</span>   <span class="n">VARCHAR</span><span class="p">(</span><span class="mi">30</span><span class="p">),</span>
    <span class="n">movie_star</span>       <span class="n">VARCHAR</span><span class="p">(</span><span class="mi">30</span><span class="p">),</span>
    <span class="n">movie_script</span>     <span class="n">LONGTEXT</span><span class="p">,</span>
    <span class="n">movie_film</span>       <span class="n">LONGBLOB</span>
<span class="p">)</span> <span class="k">DEFAULT</span> <span class="n">CHARSET</span><span class="o">=</span><span class="n">utf8mb4</span><span class="p">;</span>    

<span class="c1">-- 데이터 입력</span>

<span class="c1">-- 파일을 데이터로 입력하려면 LOAD_FILE() 함수 사용</span>

<span class="k">INSERT</span> <span class="k">INTO</span> <span class="n">movietbl</span> <span class="k">VALUES</span> <span class="p">(</span><span class="mi">1</span><span class="p">,</span> <span class="s1">'쉰들러 리스트'</span><span class="p">,</span> <span class="s1">'스필버그'</span><span class="p">,</span> <span class="s1">'리암 니슨'</span><span class="p">,</span>
    <span class="n">LOAD_FILE</span><span class="p">(</span><span class="s1">'C:/sql/movies/Schindler.txt'</span><span class="p">),</span>
    <span class="n">LOAD_FILE</span><span class="p">(</span><span class="s1">'C:/sql/movies/Schindler.mp4'</span><span class="p">)</span>
<span class="p">);</span>
    
<span class="k">SELECT</span> <span class="o">*</span> <span class="k">FROM</span> <span class="n">movietbl</span><span class="p">;</span>    

<span class="c1">-- 결과를 살펴보면 영화 대본과 동영상은 NULL값으로 표시되고 입력되지 않았음.</span>

</code></pre></div></div>

<p>위에서 살펴본 것처럼 정상적으로 대본과 동영상이 입력되지 않았습니다. 두가지 이유때문에
입력이 되지 않았는데 첫번째는 바로 최대 패킷 크기를 넘었기 때문이고 두번째는 파일을
업로드/다운로드할 폴더에 대한 권한을 허용하지 않아서 입니다.</p>

<p>환경설정파일 <code class="highlighter-rouge">my.ini</code>를 수정해야 합니다.</p>

<p><code class="highlighter-rouge">Workbench</code>를 종료하고 <code class="highlighter-rouge">C:\ProgramData\MySQL\MySQL Server 8.0\my.ini</code> 파일을
찾아 에디터로 파일을 열고 <code class="highlighter-rouge">max_allowed_packet</code>을 찾아 그 값을 현재 <code class="highlighter-rouge">4M</code>에서
<code class="highlighter-rouge">1024M</code>로 변경합니다.</p>

<p>또 <code class="highlighter-rouge">secure-file-priv</code>를 찾습니다. 현재 폴더 하나가 설정되어 있는데 그 밑에
추가로 현재 동영상이 들어 있는 폴더를 설정합니다.</p>

<blockquote>
  <p><code class="highlighter-rouge">secure-file-priv=C:/sql/movies</code></p>
</blockquote>

<p>그런다음 MySQL Server를 재 시작해야 합니다. <strong>관리자 권한</strong>으로
<code class="highlighter-rouge">CMD</code>창을 열고 <code class="highlighter-rouge">CMD</code>창에서 다음의 명령을 입력하면 서비스를 재 시작할 수 있습니다.</p>

<blockquote>
  <p><code class="highlighter-rouge">NET STOP MySQL80</code></p>
</blockquote>

<blockquote>
  <p><code class="highlighter-rouge">NET START MySQL80</code></p>
</blockquote>

<p>재 시작한 후 <code class="highlighter-rouge">INSERT</code> 문을 다시 실행
시키면 정상적으로 입력되는 것을 확인할 수 있습니다.</p>

<p>자 그럼 이번에는 입력된 데이터를 파일로 다운로드 해 보겠습니다.</p>

<div class="language-sql highlighter-rouge"><div class="highlight"><pre class="highlight"><code>
<span class="k">SELECT</span> <span class="o">*</span> <span class="k">FROM</span> <span class="n">movietbl</span><span class="p">;</span>    

<span class="k">SHOW</span> <span class="n">variables</span> <span class="k">LIKE</span> <span class="s1">'max_allowed_packet'</span><span class="p">;</span>
<span class="k">SHOW</span> <span class="n">variables</span> <span class="k">LIKE</span> <span class="s1">'secure_file_priv'</span><span class="p">;</span>

<span class="c1">-- LONGTEXT 파일 다운로드</span>
<span class="k">SELECT</span> <span class="n">movie_script</span>
<span class="k">FROM</span> <span class="n">movietbl</span>
<span class="k">WHERE</span> <span class="n">movie_id</span> <span class="o">=</span> <span class="mi">1</span>
<span class="k">INTO</span> <span class="n">OUTFILE</span> <span class="s1">'C:/sql/movies/text_out.txt'</span>
<span class="n">LINES</span> <span class="n">TERMINATED</span> <span class="k">BY</span> <span class="s1">'</span><span class="se">\\</span><span class="s1">n'</span><span class="p">;</span>

<span class="c1">-- LONGBLOB 파일 다운로드</span>
<span class="k">SELECT</span> <span class="n">movie_film</span>
<span class="k">FROM</span> <span class="n">movietbl</span>
<span class="k">WHERE</span> <span class="n">movie_id</span> <span class="o">=</span> <span class="mi">1</span>
<span class="k">INTO</span> <span class="n">DUMPFILE</span> <span class="s1">'C:/sql/movies/video_out.mp4'</span><span class="p">;</span>

</code></pre></div></div>

<hr />

<p><strong class="subtitle2_fontAwesome">JSON 데이터 실습</strong></p>

<p><code class="highlighter-rouge">JSON</code>(JavaScript Object Notation)은 데이터 교환을 위한 개방형 표준
포맷을 의미합니다. <code class="highlighter-rouge">Key</code>와 <code class="highlighter-rouge">Value</code>의 쌍으로 데이터를 표현하는 방식으로
비록 JavaScript의 객체형태에서 그 모양을 차용했지만 실제로 프로그래밍언어에
종속되지 않는 독립적인 데이터 포맷입니다.</p>

<p><code class="highlighter-rouge">JSON</code>의 가장 단순한 형태는 다음과 같습니다.</p>

<div class="language-json highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="w">
</span><span class="p">{</span><span class="w">
  </span><span class="s2">"user_id"</span><span class="w">     </span><span class="p">:</span><span class="w"> </span><span class="s2">"iu"</span><span class="p">,</span><span class="w">
  </span><span class="s2">"user_name"</span><span class="w">   </span><span class="p">:</span><span class="w"> </span><span class="s2">"아이유"</span><span class="p">,</span><span class="w">
  </span><span class="s2">"user_addr"</span><span class="w">   </span><span class="p">:</span><span class="w"> </span><span class="s2">"서울"</span><span class="p">,</span><span class="w">
  </span><span class="s2">"user_mobile"</span><span class="w"> </span><span class="p">:</span><span class="w"> </span><span class="s2">"01012345678"</span><span class="w">
</span><span class="p">}</span><span class="w">

</span></code></pre></div></div>

<p><code class="highlighter-rouge">MySQL</code>은 <code class="highlighter-rouge">JSON</code> 관련된 내장 함수를 제공해 줍니다. 다음의 코드를 보시죠.</p>

<div class="language-sql highlighter-rouge"><div class="highlight"><pre class="highlight"><code>
<span class="n">USE</span> <span class="n">sqldb</span><span class="p">;</span>

<span class="k">SELECT</span> <span class="n">JSON_OBJECT</span><span class="p">(</span><span class="s1">'name'</span><span class="p">,</span> <span class="n">name</span><span class="p">,</span> <span class="s1">'height'</span><span class="p">,</span> <span class="n">height</span><span class="p">)</span> <span class="k">AS</span> <span class="s1">'JSON'</span>
<span class="k">FROM</span> <span class="n">usertbl</span><span class="p">;</span>

<span class="c1">-- {"name": "바비킴", "height": 176}</span>
<span class="c1">-- {"name": "은지원", "height": 174}</span>
<span class="c1">-- {"name": "조관우", "height": 172}</span>
<span class="c1">-- {"name": "조용필", "height": 166}</span>
<span class="c1">-- {"name": "김범수", "height": 173}</span>
<span class="c1">-- {"name": "김경호", "height": 177}</span>
<span class="c1">-- {"name": "임재범", "height": 182}</span>
<span class="c1">-- {"name": "이승기", "height": 182}</span>
<span class="c1">-- {"name": "성시경", "height": 186}</span>
<span class="c1">-- {"name": "윤종신", "height": 170}</span>

<span class="k">SET</span> <span class="o">@</span><span class="n">json</span> <span class="o">=</span> <span class="p">(</span><span class="k">SELECT</span> <span class="n">JSON_OBJECT</span><span class="p">(</span><span class="s1">'name'</span><span class="p">,</span> <span class="n">name</span><span class="p">,</span> <span class="s1">'height'</span><span class="p">,</span> <span class="n">height</span><span class="p">)</span> <span class="k">AS</span> <span class="s1">'JSON'</span> <span class="k">FROM</span> <span class="n">usertbl</span><span class="p">);</span>
<span class="c1">-- Error Code: 1242. Subquery returns more than 1 row</span>

<span class="k">SELECT</span> <span class="o">@</span><span class="n">json</span> <span class="p">:</span><span class="o">=</span> <span class="n">JSON_OBJECT</span><span class="p">(</span><span class="s1">'name'</span><span class="p">,</span> <span class="n">name</span><span class="p">,</span> <span class="s1">'height'</span><span class="p">,</span> <span class="n">height</span><span class="p">)</span> <span class="k">FROM</span> <span class="n">usertbl</span><span class="p">;</span>
<span class="c1">-- SELECT 문에서는 '=' 가 비교연산자로 이용되기 때문에 변수에 값을 대입하기 위해서는 ':='을 사용</span>

<span class="k">SELECT</span> <span class="o">@</span><span class="n">json</span><span class="p">;</span>

</code></pre></div></div>

<p>변수에 <code class="highlighter-rouge">JSON</code> 데이터가 저장되어 있을 때 이를 사용하는 몇가지 함수를 알아보도록 하겠습니다.
변수에 아래와 같은 형식의 JSON 데이터를 저장하는 방법에 대해서는 고민해보도록 하죠.</p>

<div class="language-sql highlighter-rouge"><div class="highlight"><pre class="highlight"><code>
<span class="k">SET</span> <span class="o">@</span><span class="n">json</span> <span class="o">=</span> <span class="s1">'{
    "mytbl" : [
        {"name": "바비킴", "height": 176},
        {"name": "은지원", "height": 174},
        {"name": "조관우", "height": 172},
        {"name": "조용필", "height": 166},
        {"name": "김범수", "height": 173},
        {"name": "김경호", "height": 177},
        {"name": "임재범", "height": 182},
        {"name": "이승기", "height": 182},
        {"name": "성시경", "height": 186},
        {"name": "윤종신", "height": 170}        
    ]
}'</span><span class="p">;</span>

<span class="k">SELECT</span> <span class="n">JSON_VALID</span><span class="p">(</span><span class="o">@</span><span class="n">json</span><span class="p">);</span>   <span class="c1">-- 문자열이 JSON 형식을 만족하면 1, 그렇지 않으면 0</span>
<span class="k">SELECT</span> <span class="n">JSON_SEARCH</span><span class="p">(</span><span class="o">@</span><span class="n">json</span><span class="p">,</span> <span class="s1">'one'</span><span class="p">,</span> <span class="s1">'은지원'</span><span class="p">);</span>
<span class="c1">-- "$.mytbl[1].name"    index는 0부터 시작, 두번째 index의 name key값에 존재.</span>
<span class="c1">--                      'one'은 처음으로 매치되는 하나만 반환, 'all'로 하면 매치되는 모든 것을 반환. </span>
<span class="k">SELECT</span> <span class="n">JSON_EXTRACT</span><span class="p">(</span><span class="o">@</span><span class="n">json</span><span class="p">,</span> <span class="s1">'$.mytbl[3].height'</span><span class="p">);</span>   <span class="c1">-- 166</span>
<span class="k">SELECT</span> <span class="n">JSON_INSERT</span><span class="p">(</span><span class="o">@</span><span class="n">json</span><span class="p">,</span> <span class="s1">'$.mytbl[0].mobile'</span><span class="p">,</span> <span class="s1">'01012345678'</span><span class="p">);</span>
<span class="k">SELECT</span> <span class="n">JSON_REPLACE</span><span class="p">(</span><span class="o">@</span><span class="n">json</span><span class="p">,</span> <span class="s1">'$.mytbl[0].name'</span><span class="p">,</span> <span class="s1">'아이유'</span><span class="p">);</span>
<span class="k">SELECT</span> <span class="n">JSON_REMOVE</span><span class="p">(</span><span class="o">@</span><span class="n">json</span><span class="p">,</span> <span class="s1">'$.mytbl[1]'</span><span class="p">);</span>  <span class="c1">-- 특정 key를 지우는 것도 가능하다.</span>

</code></pre></div></div>

<p>End.</p>

<hr />

<p><span class="lecture-reference">Data-Science 강좌는 아래의 책과 사이트를 참조했습니다.
    조금 더 자세한 사항을 알고 싶으시면 해당 사이트를 방문하세요!!</span></p>

<!--<ul class="lecture-reference">-->
<!--    <li><a href="http://www.python.org/" target="_blank">Python Official HomePage</a></li>-->
<!--    <li>점프 투 파이썬 - 이지스 퍼블리싱</li>-->
<!--    <li>전문가를 위한 파이썬(Fluent Python) - 한빛미디어</li>-->
<!--    <li>파이썬 웹 프로그래밍 - 한빛미디어</li>-->
<!--    <li>이미지 출처 : <a href="http://www.freepik.com" target="_blank">Designed by rawpixel.com / Freepik</a></li>-->
<!--</ul>-->


                </div>
            </section>

            <!-- Email subscribe form at the bottom of the page -->
            <!-- 기존에 있던 post하단 이메일 subscribe 삭제 -->

            <footer class="post-full-footer">
                <!-- Everything inside the #author tags pulls data from the author -->
                <!-- #author-->
                
                    
                        <section class="author-card">
                            
                                <img class="author-profile-image" src="/assets/built/images/economy-author-logo.jpg" alt="moon9342" />
                            
                            <section class="author-card-content">
                                <h4 class="author-card-name"><a href="/author/moon9342">moon9342</a></h4>
                                
                                    <p><a href="https://www.youtube.com/channel/UCp-MztINXTRVkRGCnqnYNlQ">얼큰우동TV, 쉽게배우는 IT(Programming,Machine Learning,금융)</a></p>
                                
                            </section>
                        </section>
                        <div class="post-full-footer-right">
                            <a class="author-card-button" href="/author/moon9342">Read More</a>
                        </div>
                    
                
                <!-- /author  -->
            </footer>

            <!-- If you use Disqus comments, just uncomment this block.
            The only thing you need to change is "test-apkdzgmqhj" - which
            should be replaced with your own Disqus site-id. -->
            

        </article>

    </div>
</main>

<!-- Links to Previous/Next posts -->
<aside class="read-next outer">
    <div class="inner">
        <div class="read-next-feed">
            
                
                
                
                
                    <article class="read-next-card"
                        
                            style="background-image: url(/assets/built/images/blog-cover2.png)"
                        
                    >
                        <header class="read-next-card-header">
                            <small class="read-next-card-header-sitetitle">&mdash; IT Technical Training &mdash;</small>
                            
                                <h3 class="read-next-card-header-title"><a href="/tag/data-science/">Data-science</a></h3>
                            
                        </header>
                        <div class="read-next-divider"><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M13 14.5s2 3 5 3 5.5-2.463 5.5-5.5S21 6.5 18 6.5c-5 0-7 11-12 11C2.962 17.5.5 15.037.5 12S3 6.5 6 6.5s4.5 3.5 4.5 3.5"/></svg>
</div>
                        <div class="read-next-card-content">
                            <ul>
                                
                                
                                  
                                
                                  
                                
                                  
                                
                                  
                                
                                  
                                
                                  
                                
                                  
                                
                                  
                                
                                  
                                
                                  
                                
                                  
                                
                                  
                                
                                  
                                
                                  
                                
                                  
                                
                                  
                                
                                  
                                
                                  
                                    
                                        
                                        
                                            <li><a href="/data-science-lecture-python-folium">Python 데이터분석 라이브러리(13) - Folium</a></li>
                                        
                                    
                                  
                                
                                  
                                    
                                        
                                        
                                            <li><a href="/data-science-lecture-python-seaborn">Python 데이터분석 라이브러리(12) - seaborn</a></li>
                                        
                                    
                                  
                                
                                  
                                    
                                        
                                        
                                            <li><a href="/data-science-lecture-python-statistics">Python 데이터분석을 위한 통계</a></li>
                                        
                                    
                                  
                                
                                  
                                    
                                        
                                        
                                    
                                  
                                
                                  
                                    
                                        
                                        
                                    
                                  
                                
                                  
                                    
                                        
                                        
                                    
                                  
                                
                                  
                                    
                                        
                                        
                                    
                                  
                                
                                  
                                    
                                        
                                        
                                    
                                  
                                
                                  
                                    
                                        
                                        
                                    
                                  
                                
                                  
                                    
                                        
                                        
                                    
                                  
                                
                                  
                                    
                                        
                                        
                                    
                                  
                                
                                  
                                    
                                        
                                        
                                    
                                  
                                
                                  
                                    
                                        
                                        
                                    
                                  
                                
                                  
                                
                                  
                                    
                                        
                                        
                                    
                                  
                                
                                  
                                    
                                        
                                        
                                    
                                  
                                
                                  
                                
                                  
                                
                                  
                                
                                  
                                
                                  
                                
                                  
                                
                                  
                                
                                  
                                
                                  
                                
                                  
                                
                                  
                                
                                  
                                
                                  
                                
                                  
                                
                                  
                                    
                                        
                                        
                                    
                                  
                                
                                  
                                    
                                        
                                        
                                    
                                  
                                
                                  
                                    
                                        
                                        
                                    
                                  
                                
                                  
                                    
                                        
                                        
                                    
                                  
                                
                                  
                                    
                                        
                                        
                                    
                                  
                                
                                  
                                    
                                        
                                        
                                    
                                  
                                
                                  
                                    
                                        
                                        
                                    
                                  
                                
                                  
                                    
                                  
                                
                                  
                                    
                                        
                                        
                                    
                                  
                                
                                  
                                    
                                        
                                        
                                    
                                  
                                
                                  
                                    
                                        
                                        
                                    
                                  
                                
                                  
                                    
                                        
                                        
                                    
                                  
                                
                                  
                                    
                                        
                                        
                                    
                                  
                                
                                  
                                    
                                        
                                        
                                    
                                  
                                
                            </ul>
                        </div>
                        <footer class="read-next-card-footer">
                            <a href="/tag/data-science/">
                                
                                    See all 28 posts  →
                                
                            </a>
                        </footer>
                    </article>
                
            

            <!-- If there's a next post, display it using the same markup included from - partials/post-card.hbs -->
            
                
    <article class="post-card post-template">
        
            <a class="post-card-image-link" href="/data-science-lecture-relational-database-mysql-sql-part3">
                <div class="post-card-image" style="background-image: url(/assets/built/images/digital-marketing.jpg)"></div>
            </a>
        
        <div class="post-card-content">
            <a class="post-card-content-link" href="/data-science-lecture-relational-database-mysql-sql-part3">
                <header class="post-card-header">
                    
                        
                            
                                <span class="post-card-tags">Data-science</span>
                            
                        
                    

                    <h2 class="post-card-title">Relational Database MySQL(8) - SQL 고급(2)</h2>
                </header>
                <section class="post-card-excerpt">
                    <p>{% include data-science-lecture-table-of-contents.html %} --- **SQL 고급(2)**{: class="subtitle_fontAwesome" } `MySQL`의 `Data Type`을 알아봤습니다. 내용을 좀 확장해보죠. 지금까지는 하나의 테이블을 다루는 작업에 대해서 알아보았는데 이번에는 두 개 이상의 테이블을 대상으로 SQL문을 처리하는 방법에 대해서</p>
                </section>
            </a>
            <footer class="post-card-meta">
                
                    
                        
                        <img class="author-profile-image" src="/assets/built/images/economy-author-logo.jpg" alt="moon9342" />
                        
                        <span class="post-card-author">
                            <a href="/author/moon9342/">moon9342</a>
                        </span>
                    
                
            </footer>
        </div>
    </article>

            

            <!-- If there's a previous post, display it using the same markup included from - partials/post-card.hbs -->
            
                
    <article class="post-card post-template">
        
            <a class="post-card-image-link" href="/data-science-lecture-relational-database-mysql-sql-part1">
                <div class="post-card-image" style="background-image: url(/assets/built/images/digital-marketing.jpg)"></div>
            </a>
        
        <div class="post-card-content">
            <a class="post-card-content-link" href="/data-science-lecture-relational-database-mysql-sql-part1">
                <header class="post-card-header">
                    
                        
                            
                                <span class="post-card-tags">Data-science</span>
                            
                        
                    

                    <h2 class="post-card-title">Relational Database MySQL(6) - SQL 기본</h2>
                </header>
                <section class="post-card-excerpt">
                    <p>Data-Science 강의는 여러 절로 구성되어 있습니다. Relational Database MySQL(1) - Introduction Relational Database MySQL(2) - Install 및 환경설정 Relational Database MySQL(3) - MySQL 전체 운영 실습 Relational Database MySQL(4) - Data Modeling Relational</p>
                </section>
            </a>
            <footer class="post-card-meta">
                
                    
                        
                        <img class="author-profile-image" src="/assets/built/images/economy-author-logo.jpg" alt="moon9342" />
                        
                        <span class="post-card-author">
                            <a href="/author/moon9342/">moon9342</a>
                        </span>
                    
                
            </footer>
        </div>
    </article>

            

        </div>
    </div>
</aside>

<!-- Floating header which appears on-scroll, included from includes/floating-header.hbs -->
<div class="floating-header">
    <div class="floating-header-logo">
        <a href="https://moon9342.github.io/">
            
            <span>IT Technical Training</span>
        </a>
    </div>
    <span class="floating-header-divider">&mdash;</span>
    <div class="floating-header-title">Relational Database MySQL(7) - SQL 고급(1)</div>



    <div class="floating-header-share">
        <div class="floating-header-share-label">이 포스트를 공유하세요 <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24">
    <path d="M7.5 15.5V4a1.5 1.5 0 1 1 3 0v4.5h2a1 1 0 0 1 1 1h2a1 1 0 0 1 1 1H18a1.5 1.5 0 0 1 1.5 1.5v3.099c0 .929-.13 1.854-.385 2.748L17.5 23.5h-9c-1.5-2-5.417-8.673-5.417-8.673a1.2 1.2 0 0 1 1.76-1.605L7.5 15.5zm6-6v2m-3-3.5v3.5m6-1v2"/>
</svg>
</div>
        <a class="floating-header-share-tw" href="https://twitter.com/share?text=Relational+Database+MySQL%287%29+-+SQL+%EA%B3%A0%EA%B8%89%281%29&amp;url=https://moon9342.github.io/data-science-lecture-relational-database-mysql-sql-part2"
            onclick="window.open(this.href, 'share-twitter', 'width=550,height=235');return false;">
            <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 32 32"><path d="M30.063 7.313c-.813 1.125-1.75 2.125-2.875 2.938v.75c0 1.563-.188 3.125-.688 4.625a15.088 15.088 0 0 1-2.063 4.438c-.875 1.438-2 2.688-3.25 3.813a15.015 15.015 0 0 1-4.625 2.563c-1.813.688-3.75 1-5.75 1-3.25 0-6.188-.875-8.875-2.625.438.063.875.125 1.375.125 2.688 0 5.063-.875 7.188-2.5-1.25 0-2.375-.375-3.375-1.125s-1.688-1.688-2.063-2.875c.438.063.813.125 1.125.125.5 0 1-.063 1.5-.25-1.313-.25-2.438-.938-3.313-1.938a5.673 5.673 0 0 1-1.313-3.688v-.063c.813.438 1.688.688 2.625.688a5.228 5.228 0 0 1-1.875-2c-.5-.875-.688-1.813-.688-2.75 0-1.063.25-2.063.75-2.938 1.438 1.75 3.188 3.188 5.25 4.25s4.313 1.688 6.688 1.813a5.579 5.579 0 0 1 1.5-5.438c1.125-1.125 2.5-1.688 4.125-1.688s3.063.625 4.188 1.813a11.48 11.48 0 0 0 3.688-1.375c-.438 1.375-1.313 2.438-2.563 3.188 1.125-.125 2.188-.438 3.313-.875z"/></svg>

        </a>
        <a class="floating-header-share-fb" href="https://www.facebook.com/sharer/sharer.php?u=https://moon9342.github.io/data-science-lecture-relational-database-mysql-sql-part2"
            onclick="window.open(this.href, 'share-facebook','width=580,height=296');return false;">
            <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 32 32"><path d="M19 6h5V0h-5c-3.86 0-7 3.14-7 7v3H8v6h4v16h6V16h5l1-6h-6V7c0-.542.458-1 1-1z"/></svg>

        </a>
    </div>


    <!-- floating-header에 이미지 삽입 -->
<!--
    <div class="floating-header-share">
        <img src="assets/images/photo.jpg" width="50">
    </div>
-->

    <progress class="progress" value="0">
        <div class="progress-container">
            <span class="progress-bar"></span>
        </div>
    </progress>
</div>


<!-- /post -->

<!-- The #contentFor helper here will send everything inside it up to the matching #block helper found in default.hbs -->

        <!-- Previous/next page links - displayed on every page -->
        

        <!-- The footer at the very bottom of the screen -->
        <footer class="site-footer outer">
            <div class="site-footer-content inner">
                <section class="copyright"><a href="https://moon9342.github.io/">IT Technical Training</a> &copy; 2021</section>
                <section class="poweredby">Proudly published with <a href="https://jekyllrb.com/">Jekyll</a> &
                    <a href="https://pages.github.com/">GitHub Pages</a></section>
                <nav class="site-footer-nav">
                    <a href="mailto:moon9342@gmail.com">moon9342@gmail.com</a>
                    <a href="/">Latest Posts</a>
                    
                    
                </nav>
            </div>
        </footer>

    </div>

    <!-- The big email subscribe modal content -->
    
        <div id="subscribe" class="subscribe-overlay">
            <a class="subscribe-overlay-close" href="#"></a>
            <div class="subscribe-overlay-content">
                
                <h1 class="subscribe-overlay-title">Search IT Technical Training</h1>
                <p class="subscribe-overlay-description">lunr.js를 이용한 posts 검색 </p>
                <span id="searchform" method="post" action="/subscribe/" class="">
    <input class="confirm" type="hidden" name="confirm"  /><input class="location" type="hidden" name="location"  /><input class="referrer" type="hidden" name="referrer"  />

    <div class="form-group">
        <input class="subscribe-email" onkeyup="myFunc()" id="searchtext" type="text" name="searchtext"  placeholder="Search..." />
    </div>
    <!--<button class="" onclick="myFunc()" id="searchBtn" type="button" ><span>Search</span></button>-->
    <script type="text/javascript">
        function myFunc() {
            if(event.keyCode == 13) {
                var url = encodeURIComponent($("#searchtext").val());
                location.href = "/search.html?query=" + url;
            }
        }
    </script>
    <!--<script type="text/et-cetera">(function(g,h,o,s,t){h[o]('.location')[s]=h[o]('.location')[s] || g.location.href;h[o]('.referrer')[s]=h[o]('.referrer')[s] || h.referrer;})(window,document,'querySelector','value');</script>-->
</span>


            </div>
        </div>
    

    <!-- highlight.js -->
    <script src="//cdnjs.cloudflare.com/ajax/libs/highlight.js/9.12.0/highlight.min.js"></script>
    <script>hljs.initHighlightingOnLoad();</script>

    <script type="text/javascript" src="/assets/js/jquery.fitvids.js"></script>


    <!-- Paginator increased to "infinit" in _config.yml -->
    <!-- if paginator.posts  -->
    <!-- <script>
        var maxPages = parseInt('');
    </script>
    <script src="/assets/js/infinitescroll.js"></script> -->
    <!-- /endif -->

    


    <!-- Add Google Analytics  -->
    <!-- Google Analytics Tracking code -->
 <script>
  (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
  (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
  m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
  })(window,document,'script','//www.google-analytics.com/analytics.js','ga');

  ga('create', 'UA-113135179-1', 'auto');
  ga('send', 'pageview');

 </script>


    <!-- The #block helper will pull in data from the #contentFor other template files. In this case, there's some JavaScript which we only want to use in post.hbs, but it needs to be included down here, after jQuery has already loaded. -->
    
        <script>

// NOTE: Scroll performance is poor in Safari
// - this appears to be due to the events firing much more slowly in Safari.
//   Dropping the scroll event and using only a raf loop results in smoother
//   scrolling but continuous processing even when not scrolling
$(document).ready(function () {
    // Start fitVids
    var $postContent = $(".post-full-content");
    $postContent.fitVids();
    // End fitVids

    var progressBar = document.querySelector('progress');
    var header = document.querySelector('.floating-header');
    var title = document.querySelector('.post-full-title');

    var lastScrollY = window.scrollY;
    var lastWindowHeight = window.innerHeight;
    var lastDocumentHeight = $(document).height();
    var ticking = false;

    function onScroll() {
        lastScrollY = window.scrollY;
        requestTick();
    }

    function onResize() {
        lastWindowHeight = window.innerHeight;
        lastDocumentHeight = $(document).height();
        requestTick();
    }

    function requestTick() {
        if (!ticking) {
            requestAnimationFrame(update);
        }
        ticking = true;
    }

    function update() {
        var trigger = title.getBoundingClientRect().top + window.scrollY;
        var triggerOffset = title.offsetHeight + 35;
        var progressMax = lastDocumentHeight - lastWindowHeight;

        // show/hide floating header
        if (lastScrollY >= trigger + triggerOffset) {
            header.classList.add('floating-active');
        } else {
            header.classList.remove('floating-active');
        }

        progressBar.setAttribute('max', progressMax);
        progressBar.setAttribute('value', lastScrollY);

        ticking = false;
    }

    window.addEventListener('scroll', onScroll, {passive: true});
    window.addEventListener('resize', onResize, false);

    update();
});
</script>

    

    <!-- Ghost outputs important scripts and data with this tag - it should always be the very last thing before the closing body tag -->
    <!-- ghost_foot -->

</body>
</html>
