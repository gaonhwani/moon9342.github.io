<!DOCTYPE html>
<html lang="ko">
<head>

    <!-- Document Settings -->
    <meta charset="utf-8" />
    <meta http-equiv="X-UA-Compatible" content="IE=edge" />

    <!-- Base Meta -->
    <!-- dynamically fixing the title for tag/author pages -->



    <title>Relational Database MySQL(6) - SQL 기본</title>
    <meta name="HandheldFriendly" content="True" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />


    <!-- jQuery + Fitvids, which makes all video embeds responsive -->
    <script
            src="https://code.jquery.com/jquery-3.2.1.min.js"
            integrity="sha256-hwg4gsxgFZhOsEEamdOYGBf13FyQuiTwlAQgxVSNgt4="
            crossorigin="anonymous">
    </script>

    <!-- 웹 폰트 설정 -->
    <link rel="stylesheet" href="https://fonts.googleapis.com/earlyaccess/nanumgothic.css">

    <!-- Font Awesome CDN 설정 => 느림.. -->
    <link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/font-awesome/4.7.0/css/font-awesome.min.css">

    <!-- JQuery fancybox plugin-->
    <link rel="stylesheet" href="/assets/built/fancybox.css">
    <script src="/assets/js/fancybox.js"></script>

    <!-- custom.css -->
    <link rel="stylesheet" href="/assets/built/custom.css">

    <!-- syntax.css -->
    <link rel="stylesheet" href="/assets/built/syntax.css">

    <!-- gist.css -->
    <link rel="stylesheet" href="/assets/built/better-gist-styles.css">

    <!-- Styles'n'Scripts -->
    <link rel="stylesheet" type="text/css" href="/assets/built/screen.css" />
    <link rel="stylesheet" type="text/css" href="/assets/built/screen.edited.css" />

    <!-- highlight.js -->
    <link rel="stylesheet" href="//cdnjs.cloudflare.com/ajax/libs/highlight.js/9.3.0/styles/default.min.css">
    <style>.hljs { background: none; }</style>

    <!--Dl Menu-->
    <script src="/assets/js/modernizr.custom.js"></script>
    <script src="/assets/js/jquery.dlmenu.js"></script>
    <script src="/assets/js/menu_main.js"></script>

    <!-- Google AdSense -->
    <script data-ad-client="ca-pub-2687024418565562" async src="https://pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>

    <!-- This tag outputs SEO meta+structured data and other important settings -->
    <meta name="description" content="얼큰우동TV, 쉽게배우는 IT(Programming,Machine Learning,금융)" />
    <link rel="shortcut icon" href="https://moon9342.github.io/assets/built/images/favicon.jpg" type="image/png" />
    <link rel="canonical" href="https://moon9342.github.io/data-science-lecture-relational-database-mysql-sql-part1" />
    <meta name="referrer" content="no-referrer-when-downgrade" />

     <!--title below is coming from _includes/dynamic_title-->
    <meta property="og:site_name" content="IT Technical Training" />
    <meta property="og:type" content="website" />
    <meta property="og:title" content="Relational Database MySQL(6) - SQL 기본" />
    <meta property="og:description" content="Data-Science 강의는 여러 절로 구성되어 있습니다. Relational Database MySQL(1) - Introduction Relational Database MySQL(2) - Install 및 환경설정 Relational Database MySQL(3) - MySQL 전체 운영 실습 Relational Database MySQL(4) - Data Modeling Relational Database MySQL(5) - MySQL Utility Relational Database MySQL(6) - SQL 기본 Relational Database MySQL(7) - SQL 고급(1)" />
    <meta property="og:url" content="https://moon9342.github.io/data-science-lecture-relational-database-mysql-sql-part1" />
    <meta property="og:image" content="https://moon9342.github.io/assets/built/images/digital-marketing.jpg" />
    <meta property="article:publisher" content="https://www.facebook.com/" />
    <meta property="article:author" content="https://www.facebook.com/" />
    <meta property="article:published_time" content="2019-01-07T01:40:00+09:00" />
    <meta property="article:modified_time" content="2019-01-07T01:40:00+09:00" />
    <meta property="article:tag" content="Data-science" />
    <meta name="twitter:card" content="summary_large_image" />
    <meta name="twitter:title" content="Relational Database MySQL(6) - SQL 기본" />
    <meta name="twitter:description" content="Data-Science 강의는 여러 절로 구성되어 있습니다. Relational Database MySQL(1) - Introduction Relational Database MySQL(2) - Install 및 환경설정 Relational Database MySQL(3) - MySQL 전체 운영 실습 Relational Database MySQL(4) - Data Modeling Relational Database MySQL(5) - MySQL Utility Relational Database MySQL(6) - SQL 기본 Relational Database MySQL(7) - SQL 고급(1)" />
    <meta name="twitter:url" content="https://moon9342.github.io/" />
    <meta name="twitter:image" content="https://moon9342.github.io/assets/built/images/digital-marketing.jpg" />
    <meta name="twitter:label1" content="Written by" />
    <meta name="twitter:data1" content="IT Technical Training" />
    <meta name="twitter:label2" content="Filed under" />
    <meta name="twitter:data2" content="Data-science" />
    <meta name="twitter:site" content="@" />
    <meta name="twitter:creator" content="@" />
    <meta property="og:image:width" content="1400" />
    <meta property="og:image:height" content="933" />

    <script type="application/ld+json">
{
    "@context": "https://schema.org",
    "@type": "Website",
    "publisher": {
        "@type": "Organization",
        "name": "IT Technical Training",
        "logo": "https://moon9342.github.io/"
    },
    "url": "https://moon9342.github.io/data-science-lecture-relational-database-mysql-sql-part1",
    "image": {
        "@type": "ImageObject",
        "url": "https://moon9342.github.io/assets/built/images/digital-marketing.jpg",
        "width": 2000,
        "height": 666
    },
    "mainEntityOfPage": {
        "@type": "WebPage",
        "@id": "https://moon9342.github.io/data-science-lecture-relational-database-mysql-sql-part1"
    },
    "description": "Data-Science 강의는 여러 절로 구성되어 있습니다. Relational Database MySQL(1) - Introduction Relational Database MySQL(2) - Install 및 환경설정 Relational Database MySQL(3) - MySQL 전체 운영 실습 Relational Database MySQL(4) - Data Modeling Relational Database MySQL(5) - MySQL Utility Relational Database MySQL(6) - SQL 기본 Relational Database MySQL(7) - SQL 고급(1)"
}
    </script>

    <!-- <script type="text/et-cetera" src="https://demo.ghost.io/public/ghost-sdk.min.js?v=724281a32e"></script>
    <script type="text/et-cetera">
    ghost.init({
    	clientId: "ghost-frontend",
    	clientSecret: "f84a07a72b17"
    });
    </script> -->

    <!-- 사용자 browser 확인 코드 - Chrome이 아니면 경고 메시지 출력 -->

    <script>
        var agent = navigator.userAgent.toLowerCase();
        var _iPhone = false;
        var _chrome = false;
        var result = false;
        if (agent.indexOf("iphone") != -1) {
            _iPhone = true;
        }
        if (agent.indexOf("chrome") != -1) {
            _chrome = true;
        }

        if( _iPhone || _chrome ) {
            result = true;
        }

        if( !result ) {
            alert("이 블로그는 Google Chrome Browser에 최적화 되어 있습니다 !!");
        }

    </script>

    <meta name="generator" content="Jekyll 3.6.2" />
    <link rel="alternate" type="application/rss+xml" title="Relational Database MySQL(6) - SQL 기본" href="/feed.xml" />


</head>
<body class="post-template">

    <div class="site-wrapper">
        <!-- All the main content gets inserted here, index.hbs, post.hbs, etc -->
        <!-- default -->

<!-- The tag above means: insert everything in this file
into the {body} of the default.hbs template -->

<header class="site-header outer">
    <div class="inner">
        <nav class="site-nav">
    <div class="site-nav-left">
        
            
                <a class="site-nav-logo" href="/">IT Technical Training</a>
            
        
        
            
<ul class="nav" role="menu">
<!--    <li class="nav-home" role="menuitem"><a href="/">Home</a></li>-->
    <li class="nav-about" role="menuitem"><a href="/about/">About</a></li>
<!--
    <li class="nav-data-analysis-article" role="menuitem"><a href="/author/data-analysis/">Data Analysis(R)</a></li>
    <li class="nav-python-article" role="menuitem"><a href="/author/python/">Python</a></li>
    <li class="nav-python-article" role="menuitem"><a href="/tag/jekyll/">Jekyll</a></li>
    <li class="nav-miscellaneous-article" role="menuitem"><a href="/author/fragmentary-knowledge/">Miscellaneous Article</a></li>
-->
<!--
    <li class="nav-archive" role="menuitem">
        <a href="/archive.html">All Posts</a>
    </li>
-->
    <li class="nav-python" role="menuitem">
        <a href="/tag/jekyll/">Jekyll Blog 생성</a>
    </li>
    <li class="nav-python" role="menuitem">
        <a href="/tag/python/">Python</a>
    </li>
    <li class="nav-data-science" role="menuitem">
        <a href="/tag/data-science/">Data Science</a>
    </li>
    <li class="nav-machine-learning" role="menuitem">
        <a href="/tag/machine-learning/">Machine Learning</a>
    </li>
    <li class="nav-python" role="menuitem">
        <a href="/tag/r/">R 기초강의</a>
    </li>
<!--    <li class="nav-python" role="menuitem">-->
<!--        <a href="/tag/angular/">Angular</a>-->
<!--    </li>-->
    <li class="nav-python" role="menuitem">
        <a href="/tag/et-cetera/">Et cetera</a>
    </li>
    <li class="nav-archive" role="menuitem">
        <a href="/author_archive.html">All Posts</a>
    </li>
</ul>

<!-- 아래 내용이 있으면 홈 화면 좌측 상단에 Navigation 버튼이 생성됨.. 굳이 필요없어서 comment 처리 -->

<!--
<nav id="dl-menu" class="dl-menuwrapper" role="navigation">
    <button class="dl-trigger">Open Menu</button>
    <ul class="dl-menu">
        <li><a href="https://moon9342.github.io/">Home</a></li>
        <li>
            <a href="#">About</a>
            <ul class="dl-submenu">
                <li style="text-align: center">
                    <img src="https://moon9342.github.io/assets/built/images/photo.jpg" alt="SungHoon Moon photo" class="author-photo">
                </li>
                <li>
                    <h4>SungHoon Moon</h4>
                    <p>Director of ATGLab. <br>Ph.D. in Computer Science</p>
                </li>
                <li><a href="https://moon9342.github.io/about/"><i class="fa fa-external-link"></i><span class="btn btn-inverse"> Learn More</span></a></li>
                <li>
                <a href="mailto:moon9342@gmail.com"><i class="fa fa-fw fa-envelope"></i> Email</a>
            </li>
                
                
                
                
                
                
                
                
                
            </ul>
        </li>
        <li>
            <a href="#">Posts</a>
            <ul class="dl-submenu">
                <li><a href="https://moon9342.github.io/archive">All Posts</a></li>
                <li><a href="https://moon9342.github.io/author_archive">All Tags</a></li>
            </ul>
        </li>
        
    </ul>
</nav>
-->
        
    </div>
    <div class="site-nav-right">
        <div class="social-links">
            
            
        </div>
        
            <a class="subscribe-button" href="#subscribe">Search</a>
        
    </div>
</nav>

    </div>
</header>

<!-- Everything inside the #post tags pulls data from the post -->
<!-- #post -->

<main id="site-main" class="site-main outer" role="main">
    <div class="inner">

        <article class="post-full post tag-front-end ">

            <header class="post-full-header">
                <section class="post-full-meta">
                    <time class="post-full-meta-date" datetime=" 6 January 2019"> 6 January 2019</time>
                    
                        <span class="date-divider">/</span>
                        
                            
                               <a href='/tag/data-science/'>DATA-SCIENCE</a>
                            
                        
                    
                </section>
                <h1 class="post-full-title">Relational Database MySQL(6) - SQL 기본</h1>
            </header>

            
<!--
            post에 cover image를 표시하지 않게 설정
            <figure class="post-full-image" style="background-image: url(/assets/built/images/digital-marketing.jpg)">
            </figure>
-->
            

            <section class="post-full-content">
                <div class="kg-card-markdown">
                    <p><span class="table-of-contents-list">Data-Science 강의는 여러 절로 구성되어 있습니다. </span></p>
<ul class="table-of-contents-list">
    <li><a href="./data-science-lecture-relational-database-mysql-introduction">Relational Database MySQL(1) - Introduction</a></li>
    <li><a href="./data-science-lecture-relational-database-mysql-setup">Relational Database MySQL(2) - Install 및 환경설정</a></li>
    <li><a href="./data-science-lecture-relational-database-mysql-first-execution">Relational Database MySQL(3) - MySQL 전체 운영 실습</a></li>
    <li><a href="./data-science-lecture-relational-database-mysql-data-modeling">Relational Database MySQL(4) - Data Modeling</a></li>
    <li><a href="./data-science-lecture-relational-database-mysql-utility">Relational Database MySQL(5) - MySQL Utility</a></li>
    <li><a href="./data-science-lecture-relational-database-mysql-sql-part1">Relational Database MySQL(6) - SQL 기본</a></li>
    <li><a href="./data-science-lecture-relational-database-mysql-sql-part2">Relational Database MySQL(7) - SQL 고급(1)</a></li>
    <li><a href="./data-science-lecture-relational-database-mysql-sql-part3">Relational Database MySQL(8) - SQL 고급(2)</a></li>
    <li><a href="./data-science-lecture-relational-database-mysql-table-view">Relational Database MySQL(9) - Table &amp; View</a></li>
    <li><a href="./data-science-lecture-relational-database-mysql-index-1">Relational Database MySQL(10) - Index</a></li>
    <li><a href="./data-science-lecture-relational-database-mysql-index-2">Relational Database MySQL(11) - Index 성능비교</a></li>

    <li><a href="./data-science-lecture-nosql-database-mongodb-introduction">NoSQL Database MongoDB(1) - Introduction</a></li>
    <li><a href="./data-science-lecture-nosql-database-mongodb-data-modeling">NoSQL Database MongoDB(2) - NoSQL Data Modeling</a></li>
    <li><a href="./data-science-lecture-nosql-database-mongodb-basic-concept">NoSQL Database MongoDB(3) - MongoDB Basic Concept</a></li>

    <li><a href="./data-science-lecture-python-introduction">Python 데이터분석 라이브러리(0) - Introduction</a></li>
    <li><a href="./data-science-lecture-python-numpy">Python 데이터분석 라이브러리(1) - NumPy</a></li>
    <li><a href="./data-science-lecture-python-numpy-exercise">Python 데이터분석 라이브러리(2) - NumPy(Exercise)</a></li>

    <li><a href="./data-science-lecture-python-pandas-series">Python 데이터분석 라이브러리(3) - Pandas(Series)</a></li>
    <li><a href="./data-science-lecture-python-pandas-dataframe-basic">Python 데이터분석 라이브러리(4) - Pandas(DataFrame 생성)</a></li>
    <li><a href="./data-science-lecture-python-pandas-dataframe-indexing">Python 데이터분석 라이브러리(5) - Pandas(DataFrame indexing)</a></li>
    <li><a href="./data-science-lecture-python-pandas-dataframe-functions">Python 데이터분석 라이브러리(6) - Pandas(DataFrame functions)</a></li>
    <li><a href="./data-science-lecture-python-pandas-dataframe-merge">Python 데이터분석 라이브러리(7) - Pandas(DataFrame merge)</a></li>
    <li><a href="./data-science-lecture-python-pandas-dataframe-transform">Python 데이터분석 라이브러리(8) - Pandas(DataFrame 제어)</a></li>
    <li><a href="./data-science-lecture-python-pandas-dataframe-group">Python 데이터분석 라이브러리(9) - Pandas(DataFrame Grouping)</a></li>
    <li><a href="./data-science-lecture-python-pandas-dataframe-exercise">Python 데이터분석 라이브러리(10) - Pandas(Exercise)</a></li>
    <li><a href="./data-science-lecture-python-matplotlib">Python 데이터분석 라이브러리(11) - matplotlib</a></li>
    <li><a href="./data-science-lecture-python-statistics">Python 데이터분석을 위한 통계</a></li>
    <li><a href="./data-science-lecture-python-seaborn">Python 데이터분석 라이브러리(12) - seaborn</a></li>
    <li><a href="./data-science-lecture-python-folium">Python 데이터분석 라이브러리(13) - folium</a></li>
<!--    <li><a href="./data-science-lecture-python-pandas-dataframe-manipulation">Python 데이터분석 라이브러리(6) - Pandas(DataFrame 조작)</a></li>    -->
<!--    <li><a href="./data-science-lecture-python-pandas-dataframe-multi-index">Python 데이터분석 라이브러리(8) - Pandas(DataFrame multi index)</a></li>    -->
</ul>

<hr />

<p><strong class="subtitle_fontAwesome">SQL 기본</strong></p>

<p>우리가 살펴본 <code class="highlighter-rouge">MySQL</code>이 사용하는 <code class="highlighter-rouge">SQL</code>(Structured Query Language)은 대부분의 DBMS에 
적용되는 <code class="highlighter-rouge">ANSI-92/99 SQL</code>의 내용을 포함하면서 MySQL의 특징을 반영하는 내용이 포함된 
<strong>확장된 SQL</strong>입니다.</p>

<p>일단은 기본적인 4개의 SQL 구문(<code class="highlighter-rouge">SELECT</code>, <code class="highlighter-rouge">INSERT</code>, <code class="highlighter-rouge">UPDATE</code>, <code class="highlighter-rouge">DELETE</code>)부터 
알아보도록 하겠습니다.</p>

<hr />

<p><strong class="subtitle2_fontAwesome">SQL - SELECT</strong></p>

<p><code class="highlighter-rouge">SELECT</code>문은 가장 많이 사용하는 SQL 구문입니다. 데이터베이스 내의 테이블에서 원하는 정보를 추출하기
위한 구문입니다.</p>

<p>사실 <code class="highlighter-rouge">SELECT</code>의 구문 형식은 상당히 복잡합니다. MySQL 8.0의 도움말을 보면 알 수 있는데 처음부터 이렇게
복잡한 내용으로 설명하면 너무 어려우니 조금 쉽게 접근해 보겠습니다.</p>

<p><code class="highlighter-rouge">SELECT</code>는 다양한 옵션으로 전체 구문은 상당히 복잡하지만 일반적으로는 다음의 형태로 
많이 사용됩니다.</p>

<div class="language-sql highlighter-rouge"><div class="highlight"><pre class="highlight"><code>
<span class="k">SELECT</span> <span class="n">select_expr</span>
    <span class="k">FROM</span> <span class="n">table_references</span>
    <span class="p">[</span><span class="k">WHERE</span> <span class="n">where_condition</span><span class="p">]</span>
    <span class="p">[</span><span class="k">GROUP</span> <span class="k">BY</span> <span class="err">{</span><span class="n">col_name</span> <span class="o">|</span> <span class="n">expr</span> <span class="o">|</span> <span class="k">position</span><span class="err">}</span><span class="p">]</span>
    <span class="p">[</span><span class="k">HAVING</span> <span class="n">where_condition</span><span class="p">]</span>
    <span class="p">[</span><span class="k">ORDER</span> <span class="k">BY</span> <span class="err">{</span><span class="n">col_name</span> <span class="o">|</span> <span class="n">expr</span> <span class="o">|</span> <span class="k">position</span><span class="err">}</span><span class="p">]</span> 

</code></pre></div></div>

<p>SELECT 구문을 실습하기 위해 먼저 사용할 데이터베이스를 지정해야 합니다. 다음의 명령을 이용해
데이터베이스를 지정합니다.</p>

<blockquote>
  <p><code class="highlighter-rouge">USE employees;</code></p>
</blockquote>

<p>SQL은 다른 프로그래밍 언어와는 다르게 대소문자를 구분하지 않습니다. 하지만 일반적으로
<code class="highlighter-rouge">Readability</code> 측면에서 예약어는 모두 대문자로 사용자 정의어는 대소문자를 섞어 사용하는게 좋습니다.</p>

<p><code class="highlighter-rouge">Workbench</code>를 이용해 테이블을 조회합니다. 쿼리의 결과 개수의 제한이 없도록 위쪽에서 행 개수의
제한을 <code class="highlighter-rouge">Don't Limit</code>로 설정합니다.</p>

<blockquote>
  <p><code class="highlighter-rouge">SELECT * FROM titles;</code></p>
</blockquote>

<p>쿼리를 실행하면 창 아래쪽 <code class="highlighter-rouge">Output</code> 영역에 쿼리의 실행상태, 실행한 쿼리의 순번, 실행된 쿼리문,
결과에 대한 메시지, 걸린시간(<code class="highlighter-rouge">Duration</code>은 SQL이 실행되는데 걸리는 시간, <code class="highlighter-rouge">Fetch</code>는 데이터를
테이블에서 가져오는데 걸린 시간입니다.)이 표시됩니다.</p>

<p><a href="/assets/built/images/database-mysql-sql-basic-select-1.png" data-fancybox="">
    <img src="/assets/built/images/database-mysql-sql-basic-select-1.png" alt="SQL 기본 - 기본 SELECT 실행" />
</a></p>

<p>SELECT 구문에서 <code class="highlighter-rouge">*</code>의 의미는 모든 <code class="highlighter-rouge">column</code>(열)을 의미합니다. 또한 <code class="highlighter-rouge">FROM</code> 키워드 뒤에는
원칙적으로 <strong>데이터베이스이름.테이블이름</strong> 형식으로 기술해야 합니다. 하지만 우리는 현재
<code class="highlighter-rouge">employees</code> 데이터베이스를 사용하고 있는 중이기 때문에 데이터베이스 이름을 생략하고 사용한
것입니다.</p>

<p>즉, 원칙적으로는</p>

<blockquote>
  <p><code class="highlighter-rouge">SELECT * FROM employees.titles;</code></p>
</blockquote>

<p>처럼 사용해야 합니다.</p>

<p>만약 모든 column이 아닌 특정 column의 정보만을 SELECT 하려면 다음과 같이 column명을
<code class="highlighter-rouge">,</code>로 구분하여 명시하면 됩니다.</p>

<blockquote>
  <p><code class="highlighter-rouge">SELECT first_name, last_name FROM employees;</code></p>
</blockquote>

<p><code class="highlighter-rouge">Remark</code>(주석)은 이전에 설명한 것처럼 <code class="highlighter-rouge">--</code>로 1줄 주석을 표현합니다. 여러 줄 주석은
<code class="highlighter-rouge">/* */</code>로 묶으면 됩니다.</p>

<p>현재 서버에 어떤 데이터 베이스가 있는지를 조회하려면 다음의 구문을 이용하시면 됩니다.</p>

<blockquote>
  <p><code class="highlighter-rouge">SHOW DATABASES;</code></p>
</blockquote>

<p>데이터베이스를 사용하려면 앞서 설명한 것처럼 다음의 구문 처럼 이용하시면 됩니다.</p>

<blockquote>
  <p><code class="highlighter-rouge">USE employees;</code></p>
</blockquote>

<p>현재 데이터베이스에 있는 테이블의 정보를 조회하려면 다음의 구문을 이용하시면 됩니다.</p>

<blockquote>
  <p><code class="highlighter-rouge">SHOW TABLE STATUS;</code></p>
</blockquote>

<p>특정 테이블의 상세를 보려면 다음의 <code class="highlighter-rouge">DESC</code> 구문을 이용하시면 됩니다.</p>

<blockquote>
  <p><code class="highlighter-rouge">DESC employees;</code></p>
</blockquote>

<p><a href="/assets/built/images/database-mysql-sql-basic-desc-table.png" data-fancybox="">
    <img src="/assets/built/images/database-mysql-sql-basic-desc-table.png" alt="SQL 기본 - 테이블 describe" />
</a></p>

<p>테이블을 SELECT를 이용해서 조회할 때 column명에 대해서 별칭(<code class="highlighter-rouge">Alias</code>)을 지정할 수 있습니다.
<code class="highlighter-rouge">AS</code> keyword를 이용하는데 만약 별칭에 공백이 있다면 <code class="highlighter-rouge">''</code>을 이용해 처리해야 합니다. 하지만
가능한 별칭에는 공백과 같은 특수문자를 사용하지 않는게 좋습니다.</p>

<p><code class="highlighter-rouge"> Alias</code>는 결과를 보기 편하게 하기 위해서 그리고 계산식에 의해서 복잡한 형태의 열이름이 될 때
사용하면 좋습니다.</p>

<div class="language-sql highlighter-rouge"><div class="highlight"><pre class="highlight"><code>
<span class="k">SELECT</span> <span class="n">first_name</span> <span class="k">AS</span> <span class="err">이름</span><span class="p">,</span> <span class="n">gender</span> <span class="k">AS</span> <span class="err">성별</span><span class="p">,</span> <span class="n">hire_date</span> <span class="k">AS</span> <span class="err">입사일</span>
<span class="k">FROM</span> <span class="n">employees</span><span class="p">;</span>

</code></pre></div></div>

<p><a href="/assets/built/images/database-mysql-sql-basic-alias.png" data-fancybox="">
    <img src="/assets/built/images/database-mysql-sql-basic-alias.png" alt="SQL 기본 - alias 사용" />
</a></p>

<p>그럼 이제 조건을 지정하는 <code class="highlighter-rouge">WHERE</code>에 대해서 알아보도록 하겠습니다. 기존의 employees를
이용해도 되지만 테이블의 구조가 복잡하고 데이터가 많기 때문에 예제로 사용하기에는 한눈에
결과가 들어오지 않습니다. 해서 다음과 같은 구조의 데이터베이스를 하나 생성해서 사용하도록
하겠습니다.</p>

<p><a href="/assets/built/images/database-mysql-sql-basic-sqldb-database.png" data-fancybox="">
    <img src="/assets/built/images/database-mysql-sql-basic-sqldb-database.png" alt="SQL 기본 - sqldb 데이터베이스" />
</a></p>

<p>다음의 코드를 이용해 데이터베이스와 테이블을 생성하겠습니다.</p>

<div class="language-sql highlighter-rouge"><div class="highlight"><pre class="highlight"><code>
<span class="k">DROP</span> <span class="k">DATABASE</span> <span class="n">IF</span> <span class="k">EXISTS</span> <span class="n">sqldb</span><span class="p">;</span>   <span class="c1">-- 만약 sqldb가 존재하면 삭제.</span>

<span class="k">CREATE</span> <span class="k">DATABASE</span> <span class="n">sqldb</span><span class="p">;</span>  <span class="c1">-- 데이터베이스 생성</span>

<span class="n">USE</span> <span class="n">sqldb</span><span class="p">;</span>  <span class="c1">-- sqldb 사용</span>

<span class="k">CREATE</span> <span class="k">TABLE</span> <span class="n">usertbl</span>
<span class="p">(</span> <span class="n">userID</span>    <span class="n">CHAR</span><span class="p">(</span><span class="mi">8</span><span class="p">)</span> <span class="k">NOT</span> <span class="k">NULL</span> <span class="k">PRIMARY</span> <span class="k">KEY</span><span class="p">,</span>  <span class="c1">-- 사용자 ID(PK)</span>
  <span class="n">name</span>      <span class="n">VARCHAR</span><span class="p">(</span><span class="mi">10</span><span class="p">)</span> <span class="k">NOT</span> <span class="k">NULL</span><span class="p">,</span> <span class="c1">-- 이름</span>
  <span class="n">birthYear</span> <span class="n">INT</span> <span class="k">NOT</span> <span class="k">NULL</span><span class="p">,</span> <span class="c1">-- 출생연도</span>
  <span class="n">addr</span>      <span class="n">CHAR</span><span class="p">(</span><span class="mi">2</span><span class="p">)</span> <span class="k">NOT</span> <span class="k">NULL</span><span class="p">,</span> <span class="c1">-- 지역(경기, 서울, 경남, etc)</span>
  <span class="n">mobile1</span>   <span class="n">CHAR</span><span class="p">(</span><span class="mi">3</span><span class="p">),</span> <span class="c1">-- 휴대폰 국번(010)</span>
  <span class="n">mobile2</span>   <span class="n">CHAR</span><span class="p">(</span><span class="mi">8</span><span class="p">),</span> <span class="c1">-- 휴대폰 나머지 전화번호(하이픈제외)</span>
  <span class="n">height</span>    <span class="n">SMALLINT</span><span class="p">,</span> <span class="c1">-- 키</span>
  <span class="n">mDate</span>     <span class="n">DATE</span> <span class="c1">-- 회원가입일</span>
<span class="p">);</span>

<span class="k">CREATE</span> <span class="k">TABLE</span> <span class="n">buytbl</span>
<span class="p">(</span> <span class="n">num</span>       <span class="n">INT</span> <span class="n">AUTO_INCREMENT</span> <span class="k">NOT</span> <span class="k">NULL</span> <span class="k">PRIMARY</span> <span class="k">KEY</span><span class="p">,</span>  <span class="c1">-- 순번(PK)</span>
  <span class="n">userID</span>    <span class="n">CHAR</span><span class="p">(</span><span class="mi">8</span><span class="p">)</span> <span class="k">NOT</span> <span class="k">NULL</span><span class="p">,</span> <span class="c1">-- 아이디(FK)</span>
  <span class="n">prodName</span>  <span class="n">CHAR</span><span class="p">(</span><span class="mi">6</span><span class="p">)</span> <span class="k">NOT</span> <span class="k">NULL</span><span class="p">,</span> <span class="c1">-- 물품명</span>
  <span class="n">groupName</span> <span class="n">CHAR</span><span class="p">(</span><span class="mi">4</span><span class="p">),</span> <span class="c1">-- 분류</span>
  <span class="n">price</span>     <span class="n">INT</span> <span class="k">NOT</span> <span class="k">NULL</span><span class="p">,</span> <span class="c1">-- 단가</span>
  <span class="n">amount</span>    <span class="n">SMALLINT</span> <span class="k">NOT</span> <span class="k">NULL</span><span class="p">,</span> <span class="c1">-- 수량</span>
  <span class="k">FOREIGN</span> <span class="k">KEY</span> <span class="p">(</span><span class="n">userID</span><span class="p">)</span> <span class="k">REFERENCES</span> <span class="n">usertbl</span><span class="p">(</span><span class="n">userID</span><span class="p">)</span>
<span class="p">);</span>  

</code></pre></div></div>

<p>몇가지 사항만 살펴보도록 하겠습니다.</p>

<p>먼저 문자열을 표현하기 위한 데이터타입으로 <code class="highlighter-rouge">CHAR</code>와 <code class="highlighter-rouge">VARCHAR</code>가 보이는데 
일부 다른 DBMS에서는 이 둘에 대해 영문자를 기준으로 1 Byte를 할당하고 
<code class="highlighter-rouge">NCHAR</code>와 <code class="highlighter-rouge">NVARCHAR</code>는 유니코드를 기준으로 2 Bytes를 할당합니다. 
그래서 한글을 입력하기 위해 유니코드를 사용해야 하기 때문에 <code class="highlighter-rouge">NCHAR</code> 혹은 <code class="highlighter-rouge">NVARCHAR</code>를
사용합니다.</p>

<p>하지만 우리가 사용하는 <code class="highlighter-rouge">MySQL 8.0</code>은 <code class="highlighter-rouge">CHAR</code>와 <code class="highlighter-rouge">VARCHAR</code> 모두 2 Byte 체계인 
유니코드(<code class="highlighter-rouge">UTF-8</code>)를 사용합니다. <code class="highlighter-rouge">UTF-8</code>은 영문, 숫자, 기호를 입력하면 내부적으로
1 Byte를 할당하고 한글/중국어/일본어 같은 같은 경우 내부적으로 3 Byte로 할당합니다.</p>

<p>결론적으로 <code class="highlighter-rouge">CHAR(10)</code>으로 설정하면 영문이든 한글이든 최대 10글자까지 입력할 수 있으며,
내부적으로 MySQL이 데이터 공간을 할당하기 때문에 사용자는 특별히 신경쓰지 않아도 됩니다.</p>

<p>또한 데이터베이스 개체들의 이름을 우리는 특별히 <code class="highlighter-rouge">Identifier</code>(식별자)라고 합니다. 
쉽게 말하면 데이터베이스 이름, 테이블 이름, 컬럼명 등을 의미합니다. 이런 식별자를
사용할 때 준수해야 하는 몇가지 규칙이 있습니다. 그 중 중요한 것 몇가지만 기억하도록 하죠.</p>

<ul>
  <li><code class="highlighter-rouge">Identifier</code>는 최대 64자로 제한됩니다.</li>
  <li>당연히 예약어는 사용할 수 없습니다.</li>
  <li>중간에 공백이 없어야 합니다. 공백을 사용하려면 <code class="highlighter-rouge">''</code>을 이용할 수 있지만 가능한
사용하지 않는게 좋습니다.</li>
  <li>Linux에서는 데이터베이스 이름과 테이블 이름은 반드시 소문자로 사용해야 합니다. 따라서
Windows 시스템과 호환을 유지하기 위해 개체 이름을 모두 소문자로 사용하는 것이 바람직합니다.</li>
</ul>

<p>이제 아래의 코드를 이용해 데이터를 입력합니다.</p>

<div class="language-sql highlighter-rouge"><div class="highlight"><pre class="highlight"><code>
<span class="k">INSERT</span> <span class="k">INTO</span> <span class="n">usertbl</span> <span class="k">VALUES</span><span class="p">(</span><span class="s1">'LSG'</span><span class="p">,</span> <span class="s1">'이승기'</span><span class="p">,</span> <span class="mi">1987</span><span class="p">,</span> <span class="s1">'서울'</span><span class="p">,</span> <span class="s1">'011'</span><span class="p">,</span> <span class="s1">'1111111'</span><span class="p">,</span> <span class="mi">182</span><span class="p">,</span> <span class="s1">'2008-8-8'</span><span class="p">);</span>
<span class="k">INSERT</span> <span class="k">INTO</span> <span class="n">usertbl</span> <span class="k">VALUES</span><span class="p">(</span><span class="s1">'KBS'</span><span class="p">,</span> <span class="s1">'김범수'</span><span class="p">,</span> <span class="mi">1979</span><span class="p">,</span> <span class="s1">'경남'</span><span class="p">,</span> <span class="s1">'011'</span><span class="p">,</span> <span class="s1">'2222222'</span><span class="p">,</span> <span class="mi">173</span><span class="p">,</span> <span class="s1">'2012-4-4'</span><span class="p">);</span>
<span class="k">INSERT</span> <span class="k">INTO</span> <span class="n">usertbl</span> <span class="k">VALUES</span><span class="p">(</span><span class="s1">'KKH'</span><span class="p">,</span> <span class="s1">'김경호'</span><span class="p">,</span> <span class="mi">1971</span><span class="p">,</span> <span class="s1">'전남'</span><span class="p">,</span> <span class="s1">'019'</span><span class="p">,</span> <span class="s1">'3333333'</span><span class="p">,</span> <span class="mi">177</span><span class="p">,</span> <span class="s1">'2007-7-7'</span><span class="p">);</span>
<span class="k">INSERT</span> <span class="k">INTO</span> <span class="n">usertbl</span> <span class="k">VALUES</span><span class="p">(</span><span class="s1">'JYP'</span><span class="p">,</span> <span class="s1">'조용필'</span><span class="p">,</span> <span class="mi">1950</span><span class="p">,</span> <span class="s1">'경기'</span><span class="p">,</span> <span class="s1">'011'</span><span class="p">,</span> <span class="s1">'4444444'</span><span class="p">,</span> <span class="mi">166</span><span class="p">,</span> <span class="s1">'2009-4-4'</span><span class="p">);</span>
<span class="k">INSERT</span> <span class="k">INTO</span> <span class="n">usertbl</span> <span class="k">VALUES</span><span class="p">(</span><span class="s1">'SSK'</span><span class="p">,</span> <span class="s1">'성시경'</span><span class="p">,</span> <span class="mi">1979</span><span class="p">,</span> <span class="s1">'서울'</span><span class="p">,</span> <span class="k">NULL</span><span class="p">,</span> <span class="k">NULL</span><span class="p">,</span> <span class="mi">186</span><span class="p">,</span> <span class="s1">'2013-12-12'</span><span class="p">);</span>
<span class="k">INSERT</span> <span class="k">INTO</span> <span class="n">usertbl</span> <span class="k">VALUES</span><span class="p">(</span><span class="s1">'LJB'</span><span class="p">,</span> <span class="s1">'임재범'</span><span class="p">,</span> <span class="mi">1963</span><span class="p">,</span> <span class="s1">'서울'</span><span class="p">,</span> <span class="s1">'016'</span><span class="p">,</span> <span class="s1">'6666666'</span><span class="p">,</span> <span class="mi">182</span><span class="p">,</span> <span class="s1">'2009-9-9'</span><span class="p">);</span>
<span class="k">INSERT</span> <span class="k">INTO</span> <span class="n">usertbl</span> <span class="k">VALUES</span><span class="p">(</span><span class="s1">'YJS'</span><span class="p">,</span> <span class="s1">'윤종신'</span><span class="p">,</span> <span class="mi">1969</span><span class="p">,</span> <span class="s1">'경남'</span><span class="p">,</span> <span class="k">NULL</span><span class="p">,</span> <span class="k">NULL</span><span class="p">,</span> <span class="mi">170</span><span class="p">,</span> <span class="s1">'2005-5-5'</span><span class="p">);</span>
<span class="k">INSERT</span> <span class="k">INTO</span> <span class="n">usertbl</span> <span class="k">VALUES</span><span class="p">(</span><span class="s1">'EJW'</span><span class="p">,</span> <span class="s1">'은지원'</span><span class="p">,</span> <span class="mi">1972</span><span class="p">,</span> <span class="s1">'경북'</span><span class="p">,</span> <span class="s1">'011'</span><span class="p">,</span> <span class="s1">'8888888'</span><span class="p">,</span> <span class="mi">174</span><span class="p">,</span> <span class="s1">'2014-3-3'</span><span class="p">);</span>
<span class="k">INSERT</span> <span class="k">INTO</span> <span class="n">usertbl</span> <span class="k">VALUES</span><span class="p">(</span><span class="s1">'JKW'</span><span class="p">,</span> <span class="s1">'조관우'</span><span class="p">,</span> <span class="mi">1965</span><span class="p">,</span> <span class="s1">'경기'</span><span class="p">,</span> <span class="s1">'018'</span><span class="p">,</span> <span class="s1">'9999999'</span><span class="p">,</span> <span class="mi">172</span><span class="p">,</span> <span class="s1">'2010-10-10'</span><span class="p">);</span>
<span class="k">INSERT</span> <span class="k">INTO</span> <span class="n">usertbl</span> <span class="k">VALUES</span><span class="p">(</span><span class="s1">'BBK'</span><span class="p">,</span> <span class="s1">'바비킴'</span><span class="p">,</span> <span class="mi">1973</span><span class="p">,</span> <span class="s1">'서울'</span><span class="p">,</span> <span class="s1">'010'</span><span class="p">,</span> <span class="s1">'0000000'</span><span class="p">,</span> <span class="mi">176</span><span class="p">,</span> <span class="s1">'2013-5-5'</span><span class="p">);</span>

<span class="k">INSERT</span> <span class="k">INTO</span> <span class="n">buytbl</span> <span class="k">VALUES</span><span class="p">(</span><span class="k">NULL</span><span class="p">,</span> <span class="s1">'KBS'</span><span class="p">,</span> <span class="s1">'운동화'</span><span class="p">,</span> <span class="k">NULL</span> <span class="p">,</span> <span class="mi">30</span><span class="p">,</span> <span class="mi">2</span><span class="p">);</span>
<span class="k">INSERT</span> <span class="k">INTO</span> <span class="n">buytbl</span> <span class="k">VALUES</span><span class="p">(</span><span class="k">NULL</span><span class="p">,</span> <span class="s1">'KBS'</span><span class="p">,</span> <span class="s1">'노트북'</span><span class="p">,</span> <span class="s1">'전자'</span><span class="p">,</span> <span class="mi">1000</span><span class="p">,</span> <span class="mi">1</span><span class="p">);</span>
<span class="k">INSERT</span> <span class="k">INTO</span> <span class="n">buytbl</span> <span class="k">VALUES</span><span class="p">(</span><span class="k">NULL</span><span class="p">,</span> <span class="s1">'JYP'</span><span class="p">,</span> <span class="s1">'모니터'</span><span class="p">,</span> <span class="s1">'전자'</span><span class="p">,</span> <span class="mi">200</span><span class="p">,</span> <span class="mi">1</span><span class="p">);</span>
<span class="k">INSERT</span> <span class="k">INTO</span> <span class="n">buytbl</span> <span class="k">VALUES</span><span class="p">(</span><span class="k">NULL</span><span class="p">,</span> <span class="s1">'BBK'</span><span class="p">,</span> <span class="s1">'모니터'</span><span class="p">,</span> <span class="s1">'전자'</span><span class="p">,</span> <span class="mi">200</span><span class="p">,</span> <span class="mi">5</span><span class="p">);</span>
<span class="k">INSERT</span> <span class="k">INTO</span> <span class="n">buytbl</span> <span class="k">VALUES</span><span class="p">(</span><span class="k">NULL</span><span class="p">,</span> <span class="s1">'KBS'</span><span class="p">,</span> <span class="s1">'청바지'</span><span class="p">,</span> <span class="s1">'의류'</span><span class="p">,</span> <span class="mi">50</span><span class="p">,</span> <span class="mi">3</span><span class="p">);</span>
<span class="k">INSERT</span> <span class="k">INTO</span> <span class="n">buytbl</span> <span class="k">VALUES</span><span class="p">(</span><span class="k">NULL</span><span class="p">,</span> <span class="s1">'BBK'</span><span class="p">,</span> <span class="s1">'메모리'</span><span class="p">,</span> <span class="s1">'전자'</span><span class="p">,</span> <span class="mi">80</span><span class="p">,</span> <span class="mi">10</span><span class="p">);</span>
<span class="k">INSERT</span> <span class="k">INTO</span> <span class="n">buytbl</span> <span class="k">VALUES</span><span class="p">(</span><span class="k">NULL</span><span class="p">,</span> <span class="s1">'SSK'</span><span class="p">,</span> <span class="s1">'책'</span><span class="p">,</span> <span class="s1">'서적'</span><span class="p">,</span> <span class="mi">15</span><span class="p">,</span> <span class="mi">5</span><span class="p">);</span>
<span class="k">INSERT</span> <span class="k">INTO</span> <span class="n">buytbl</span> <span class="k">VALUES</span><span class="p">(</span><span class="k">NULL</span><span class="p">,</span> <span class="s1">'EJW'</span><span class="p">,</span> <span class="s1">'책'</span><span class="p">,</span> <span class="s1">'서적'</span><span class="p">,</span> <span class="mi">15</span><span class="p">,</span> <span class="mi">2</span><span class="p">);</span>
<span class="k">INSERT</span> <span class="k">INTO</span> <span class="n">buytbl</span> <span class="k">VALUES</span><span class="p">(</span><span class="k">NULL</span><span class="p">,</span> <span class="s1">'EJW'</span><span class="p">,</span> <span class="s1">'청바지'</span><span class="p">,</span> <span class="s1">'의류'</span><span class="p">,</span> <span class="mi">50</span><span class="p">,</span> <span class="mi">1</span><span class="p">);</span>
<span class="k">INSERT</span> <span class="k">INTO</span> <span class="n">buytbl</span> <span class="k">VALUES</span><span class="p">(</span><span class="k">NULL</span><span class="p">,</span> <span class="s1">'BBK'</span><span class="p">,</span> <span class="s1">'운동화'</span><span class="p">,</span> <span class="k">NULL</span> <span class="p">,</span> <span class="mi">30</span><span class="p">,</span> <span class="mi">2</span><span class="p">);</span>
<span class="k">INSERT</span> <span class="k">INTO</span> <span class="n">buytbl</span> <span class="k">VALUES</span><span class="p">(</span><span class="k">NULL</span><span class="p">,</span> <span class="s1">'EJW'</span><span class="p">,</span> <span class="s1">'책'</span><span class="p">,</span> <span class="s1">'서적'</span><span class="p">,</span> <span class="mi">15</span><span class="p">,</span> <span class="mi">1</span><span class="p">);</span>
<span class="k">INSERT</span> <span class="k">INTO</span> <span class="n">buytbl</span> <span class="k">VALUES</span><span class="p">(</span><span class="k">NULL</span><span class="p">,</span> <span class="s1">'BBK'</span><span class="p">,</span> <span class="s1">'운동화'</span><span class="p">,</span> <span class="k">NULL</span><span class="p">,</span> <span class="mi">30</span><span class="p">,</span> <span class="mi">2</span><span class="p">);</span>

<span class="k">SELECT</span> <span class="o">*</span> <span class="k">FROM</span> <span class="n">usertbl</span><span class="p">;</span>
<span class="k">SELECT</span> <span class="o">*</span> <span class="k">FROM</span> <span class="n">buytbl</span><span class="p">;</span>

</code></pre></div></div>

<p><a href="/assets/built/images/database-mysql-sql-basic-sqldb-data-insert.png" data-fancybox="">
    <img src="/assets/built/images/database-mysql-sql-basic-sqldb-data-insert.png" alt="SQL 기본 - sqldb 데이터베이스 - 데이터입력" />
</a></p>

<p><code class="highlighter-rouge">SELECT</code>한 결과가 입력된 순서로 나오지 않는 이유는 <code class="highlighter-rouge">userID</code>를 <code class="highlighter-rouge">PRIMARY KEY</code>로 지정했기
때문에 자동으로 <code class="highlighter-rouge">INDEX</code>가 생성되어 입력시에 <code class="highlighter-rouge">userID</code>열로 정렬되기 때문입니다.</p>

<p>자 여기까지 진행했으면 현재 <code class="highlighter-rouge">SQL Editor</code>창에 있는 SQL문을 파일로 저장해 놓습니다. 혹시라도
데이터를 잘못 조작했을 경우 백업받은 파일을 이용해 다시 테이블을 구축할 수 있도록 말이죠.</p>

<p><a href="https://drive.google.com/file/d/1-jqMvHCjicXhppeIN8B5QHKMEa-wzV1U/view?usp=sharing" target="_blank">sqldb database - Google Drive</a></p>

<p>그럼 특정한 조건의 데이터만 조회하는 <code class="highlighter-rouge">WHERE</code>절에 대해서 알아보겠습니다.</p>

<p>쿼리문을 이용해 예를 들면서 알아보도록 하죠.</p>

<blockquote>
  <p><code class="highlighter-rouge">SELECT * FROM usertbl WHERE name = '김경호';</code></p>
</blockquote>

<p>간단합니다. <code class="highlighter-rouge">name</code>이 <code class="highlighter-rouge">김경호</code>인 조건에 맞는 데이터를 SELECT 합니다.</p>

<p><a href="/assets/built/images/database-mysql-sql-basic-where-1.png" data-fancybox="">
    <img src="/assets/built/images/database-mysql-sql-basic-where-1.png" alt="SQL 기본 - where 조건절" />
</a></p>

<p><code class="highlighter-rouge">WHERE</code>절을 이용할 때 관계 연산자를 이용할 수 있습니다. 
다음의 내용을 쿼리로 작성해 보죠. 두가지 조건을 동시에 만족해야 합니다.</p>

<blockquote>
  <p>1970년 이후에 출생하고 신장이 182 이상인 사람의 아이디와 이름을 조회하세요.</p>
</blockquote>

<div class="language-sql highlighter-rouge"><div class="highlight"><pre class="highlight"><code>
<span class="k">SELECT</span> <span class="n">userID</span><span class="p">,</span> <span class="n">name</span>
<span class="k">FROM</span> <span class="n">usertbl</span>
<span class="k">WHERE</span> <span class="n">birthYear</span> <span class="o">&gt;=</span> <span class="mi">1970</span> <span class="k">AND</span> <span class="n">height</span> <span class="o">&gt;=</span><span class="mi">182</span><span class="p">;</span>

<span class="c1">-- 2 rows returned</span>

</code></pre></div></div>

<p>이번엔 아래의 내용들을 쿼리로 작성해 보죠.</p>

<blockquote>
  <p>1970년 이후에 출생했거나 신장이 182 이상인 사람의 아이디와 이름을 조회하세요.</p>
</blockquote>

<div class="language-sql highlighter-rouge"><div class="highlight"><pre class="highlight"><code>
<span class="k">SELECT</span> <span class="n">userID</span><span class="p">,</span> <span class="n">name</span>
<span class="k">FROM</span> <span class="n">usertbl</span>
<span class="k">WHERE</span> <span class="n">birthYear</span> <span class="o">&gt;=</span> <span class="mi">1970</span> <span class="k">OR</span> <span class="n">height</span> <span class="o">&gt;=</span><span class="mi">182</span><span class="p">;</span>

<span class="c1">-- 7 rows returned</span>

</code></pre></div></div>

<blockquote>
  <p>키가 180 ~ 183인 사람을 조회하세요.</p>
</blockquote>

<div class="language-sql highlighter-rouge"><div class="highlight"><pre class="highlight"><code>
<span class="k">SELECT</span> <span class="n">name</span><span class="p">,</span> <span class="n">height</span>
<span class="k">FROM</span> <span class="n">usertbl</span>
<span class="k">WHERE</span> <span class="n">height</span> <span class="o">&gt;=</span> <span class="mi">180</span> <span class="k">AND</span> <span class="n">height</span> <span class="o">&lt;=</span> <span class="mi">183</span><span class="p">;</span>

<span class="c1">-- 2 rows returned</span>

<span class="c1">-- 위의 쿼리를 아래와 같이 BETWEEN ~ AND 를 이용해 표현할 수 있다.</span>

<span class="k">SELECT</span> <span class="n">name</span><span class="p">,</span> <span class="n">height</span>
<span class="k">FROM</span> <span class="n">usertbl</span>
<span class="k">WHERE</span> <span class="n">height</span> <span class="k">BETWEEN</span> <span class="mi">180</span> <span class="k">AND</span> <span class="mi">183</span><span class="p">;</span>

<span class="c1">-- 2 rows returned</span>

</code></pre></div></div>

<blockquote>
  <p>지역이 ‘경남’, ‘전남’, ‘경북’ 인 사람을 조회하세요.</p>
</blockquote>

<div class="language-sql highlighter-rouge"><div class="highlight"><pre class="highlight"><code>
<span class="k">SELECT</span> <span class="n">name</span><span class="p">,</span> <span class="n">height</span>
<span class="k">FROM</span> <span class="n">usertbl</span>
<span class="k">WHERE</span> <span class="n">addr</span><span class="o">=</span><span class="s1">'경남'</span> <span class="k">OR</span> <span class="n">addr</span><span class="o">=</span><span class="s1">'전남'</span> <span class="k">OR</span> <span class="n">addr</span><span class="o">=</span><span class="s1">'경북'</span><span class="p">;</span>

<span class="c1">-- 4 rows returned</span>

<span class="c1">-- continuous한 값이 아닌 이산적인(discrete)값은 IN()을 이용</span>

<span class="k">SELECT</span> <span class="n">name</span><span class="p">,</span> <span class="n">height</span>
<span class="k">FROM</span> <span class="n">usertbl</span>
<span class="k">WHERE</span> <span class="n">addr</span> <span class="k">in</span> <span class="p">(</span><span class="s1">'경남'</span><span class="p">,</span> <span class="s1">'전남'</span><span class="p">,</span> <span class="s1">'경북'</span><span class="p">);</span>

</code></pre></div></div>

<p>문자열의 검색(패턴매칭)은 <code class="highlighter-rouge">LIKE</code> 연산자를 이용합니다.</p>

<blockquote>
  <p>성이 ‘김’씨인 사람들의 이름과 키를 조회하세요.</p>
</blockquote>

<div class="language-sql highlighter-rouge"><div class="highlight"><pre class="highlight"><code>
<span class="k">SELECT</span> <span class="n">name</span><span class="p">,</span> <span class="n">height</span>
<span class="k">FROM</span> <span class="n">usertbl</span>
<span class="k">WHERE</span> <span class="n">name</span> <span class="k">LIKE</span> <span class="s1">'김%'</span><span class="p">;</span>

<span class="c1">-- 2 rows returned</span>

</code></pre></div></div>

<p><code class="highlighter-rouge">%</code>는 0개 이상의 글자를 의미하며 <code class="highlighter-rouge">_</code>는 1개의 글자를 의미합니다. 예를 들어
<code class="highlighter-rouge">_용%</code> 이라고 표현하면 여기에 해당하는 문자열은 다음과 같은 것들입니다.</p>

<ul>
  <li>조용필 리사이틀</li>
  <li>사용해주셔서 감사합니다.</li>
</ul>

<p>이렇게 패턴매칭을 하기 위해 <code class="highlighter-rouge">Wild Card</code> 문자를 이용할 수 있는데 만약 <code class="highlighter-rouge">%</code>나
<code class="highlighter-rouge">_</code>문자가 검색할 문자열의 제일 앞에 들어갈 경우 당연히 MySQL 성능에 상당히
안좋은 영향을 미칠 수 있습니다. <code class="highlighter-rouge">INDEX</code>를 이용할 수 없고 어쩔수 없이 전체
데이터를 검색하는 현상이 발생하기 때문입니다.</p>

<p>이번에는 <code class="highlighter-rouge">SubQuery</code>(서브쿼리)에 대해서 알아보죠.</p>

<p><code class="highlighter-rouge">SubQuery</code>란 쿼리문 안에 또 쿼리문이 들어가 있는 것을 의미합니다. 간단한 예를
들어보죠.</p>

<blockquote>
  <p>김경호보다 키가 크거나 같은 사람의 이름과 키를 출력하세요.</p>
</blockquote>

<div class="language-sql highlighter-rouge"><div class="highlight"><pre class="highlight"><code>
<span class="c1">-- 먼저 김경호의 키를 알아낸 후 </span>
<span class="c1">-- 해당 값을 직접 쿼리에 적용 =&gt; 177</span>

<span class="k">SELECT</span> <span class="n">name</span><span class="p">,</span> <span class="n">height</span>
<span class="k">FROM</span> <span class="n">usertbl</span>
<span class="k">WHERE</span> <span class="n">height</span> <span class="o">&gt;=</span> <span class="mi">177</span><span class="p">;</span>

<span class="c1">-- 4 rows returned</span>

 
<span class="k">SELECT</span> <span class="n">name</span><span class="p">,</span> <span class="n">height</span>
<span class="k">FROM</span> <span class="n">usertbl</span>
<span class="k">WHERE</span> <span class="n">height</span> <span class="o">&gt;=</span> <span class="p">(</span>
    <span class="k">SELECT</span> <span class="n">height</span>
    <span class="k">FROM</span> <span class="n">usertbl</span>
    <span class="k">WHERE</span> <span class="n">name</span> <span class="o">=</span> <span class="s1">'김경호'</span>
<span class="p">);</span>

</code></pre></div></div>

<blockquote>
  <p>지역이 ‘경남’인 사람의 키보다 크가 크거나 같은 사람을 조회하세요.</p>
</blockquote>

<div class="language-sql highlighter-rouge"><div class="highlight"><pre class="highlight"><code>
<span class="k">SELECT</span> <span class="n">name</span><span class="p">,</span> <span class="n">height</span>
<span class="k">FROM</span> <span class="n">usertbl</span>
<span class="k">WHERE</span> <span class="n">height</span> <span class="o">&gt;=</span> <span class="p">(</span>
    <span class="k">SELECT</span> <span class="n">height</span>
    <span class="k">FROM</span> <span class="n">usertbl</span>
    <span class="k">WHERE</span> <span class="n">addr</span> <span class="o">=</span> <span class="s1">'경남'</span>
<span class="p">);</span>    

<span class="c1">-- Error Code: 1242. Subquery returns more than 1 row</span>
<span class="c1">-- Subquery가 2개 이상의 값을 반환하기 때문에 오류발생</span>

<span class="k">SELECT</span> <span class="n">name</span><span class="p">,</span> <span class="n">height</span>
<span class="k">FROM</span> <span class="n">usertbl</span>
<span class="k">WHERE</span> <span class="n">height</span> <span class="o">&gt;=</span> <span class="k">ANY</span><span class="p">(</span>
    <span class="k">SELECT</span> <span class="n">height</span>
    <span class="k">FROM</span> <span class="n">usertbl</span>
    <span class="k">WHERE</span> <span class="n">addr</span> <span class="o">=</span> <span class="s1">'경남'</span>
<span class="p">);</span>    

<span class="c1">-- 9 rows returned</span>

</code></pre></div></div>

<p><code class="highlighter-rouge">ANY</code>는 <code class="highlighter-rouge">SOME</code>과 같은 의미로 그 중에 어떤것을 의미하고
<code class="highlighter-rouge">ALL</code>은 당연히 모두를 의미합니다. 잘 생각해보면 <code class="highlighter-rouge">= ANY(서브쿼리)</code>의 의미는
<code class="highlighter-rouge">IN(서브쿼리)</code>와 같게 됩니다.</p>

<p>우리는 조회된 결과물을 대체로 특정 순서로 조절해서 보고 싶어합니다. 즉,
결과물에 대해 영향은 미치지 않지만 결과가 출력되는 순서를 조절할 때 사용하는 구문이
<code class="highlighter-rouge">ORDER BY</code>입니다.</p>

<blockquote>
  <p>먼저 가입한 순서대로 회원정보를 출력하세요.</p>
</blockquote>

<div class="language-sql highlighter-rouge"><div class="highlight"><pre class="highlight"><code>
<span class="k">SELECT</span> <span class="n">name</span><span class="p">,</span> <span class="n">mDate</span>
<span class="k">FROM</span> <span class="n">usertbl</span>
<span class="k">ORDER</span> <span class="k">BY</span> <span class="n">mDate</span> <span class="k">ASC</span><span class="p">;</span>

<span class="c1">-- 정렬의 기본은 ASC(오름차순)입니다.</span>
<span class="c1">-- 내림차순 정렬을 하려면 DESC를 이용합니다.</span>

</code></pre></div></div>

<p>정렬할 때 정렬 기준에 대해 값이 같은 경우 2차 정렬를 하는 경우가 있는데
이런 경우 다음과 같이 하시면 됩니다.</p>

<blockquote>
  <p><code class="highlighter-rouge">SELECT name, height FROM usertbl ORDER BY height DESC, name ASC;</code></p>
</blockquote>

<p><strong><code class="highlighter-rouge">ORDER BY</code>에 나온 열이 <code class="highlighter-rouge">SELECT</code> 다음에 꼭 있을 필요는 없습니다.</strong> <code class="highlighter-rouge">ORDER BY</code>는
출력을 위해 우리가 종종 사용하는 구문이지만 이 구문은 MySQL의 성능을 상당히 떨어뜨릴 소지가
있는 구문입니다. 그러기 때문에 꼭 필요한 경우가 아니라면 사용하지 않는게 좋습니다.</p>

<p>다음의 질문에 대한 쿼리를 작성해보죠</p>

<blockquote>
  <p>usertbl에서 회원들의 거주지역이 어디인지 출력하세요.</p>
</blockquote>

<blockquote>
  <p><code class="highlighter-rouge">SELECT addr FROM usertbl;</code></p>
</blockquote>

<p>출력된 결과를 보면 알 수 있듯이 중복된 데이터가 나오게 됩니다. 어떻게 하면
중복을 배제할 수 있을까요? <code class="highlighter-rouge">DISTINCT</code> keyword를 이용하면 됩니다.</p>

<blockquote>
  <p><code class="highlighter-rouge">SELECT DISTINCT addr FROM usertbl;</code></p>
</blockquote>

<p>이번에는 employee database를 잠깐 이용하도록 하죠. <code class="highlighter-rouge">hire_date</code>는 입사일을
나타내는 column인데 입사일이 오래된 직원 5명만을 출력하려면 어떻게 해야 할까요?</p>

<p>일단 생각나는 것은 <code class="highlighter-rouge">ORDER BY</code>입니다. 먼저 행 개수 제한을 <code class="highlighter-rouge">Don't Limit</code>로 
설정하고 다음의 쿼리를 실행해 보죠.</p>

<div class="language-sql highlighter-rouge"><div class="highlight"><pre class="highlight"><code>
<span class="n">USE</span> <span class="n">employees</span><span class="p">;</span>

<span class="k">SELECT</span> <span class="n">emp_no</span><span class="p">,</span> <span class="n">hire_date</span>
<span class="k">FROM</span> <span class="n">employees</span>
<span class="k">ORDER</span> <span class="k">BY</span> <span class="n">hire_date</span> <span class="k">ASC</span><span class="p">;</span>

</code></pre></div></div>

<p>우리가 필요한 데이터는 상위 5개인데 이 데이터를 얻기 위해 총 30만개의 데이터를
더 출력했습니다. 이런 작업 자체가 MySQL에게는 부담이 됩니다. 그래서 상위 N개만
출력하는 <code class="highlighter-rouge">LIMIT</code> 구문이 필요합니다.</p>

<div class="language-sql highlighter-rouge"><div class="highlight"><pre class="highlight"><code>
<span class="k">SELECT</span> <span class="n">emp_no</span><span class="p">,</span> <span class="n">hire_date</span>
<span class="k">FROM</span> <span class="n">employees</span>
<span class="k">ORDER</span> <span class="k">BY</span> <span class="n">hire_date</span> <span class="k">ASC</span><span class="p">,</span> <span class="n">emp_no</span> <span class="k">DESC</span>
<span class="k">LIMIT</span> <span class="mi">5</span><span class="p">;</span>

</code></pre></div></div>

<p><code class="highlighter-rouge">LIMIT</code>절은 <code class="highlighter-rouge">LIMIT 시작, 개수</code> 또는 <code class="highlighter-rouge">LIMIT 개수 OFFSET 시작</code> 형식으로도
사용할 수 있습니다.</p>

<div class="language-sql highlighter-rouge"><div class="highlight"><pre class="highlight"><code>
<span class="k">SELECT</span> <span class="n">emp_no</span><span class="p">,</span> <span class="n">hire_date</span>
<span class="k">FROM</span> <span class="n">employees</span>
<span class="k">ORDER</span> <span class="k">BY</span> <span class="n">hire_date</span> <span class="k">ASC</span><span class="p">,</span> <span class="n">emp_no</span> <span class="k">DESC</span>
<span class="k">LIMIT</span> <span class="mi">5</span><span class="p">;</span>   <span class="c1">-- LIMIT 구문의 시작은 0이다.</span>

<span class="c1">-- 111692	1985-01-01</span>
<span class="c1">-- 111400	1985-01-01</span>
<span class="c1">-- 111035	1985-01-01</span>
<span class="c1">-- 110725	1985-01-01</span>
<span class="c1">-- 110511	1985-01-01</span>

<span class="k">SELECT</span> <span class="n">emp_no</span><span class="p">,</span> <span class="n">hire_date</span>
<span class="k">FROM</span> <span class="n">employees</span>
<span class="k">ORDER</span> <span class="k">BY</span> <span class="n">hire_date</span> <span class="k">ASC</span><span class="p">,</span> <span class="n">emp_no</span> <span class="k">DESC</span>
<span class="k">LIMIT</span> <span class="mi">1</span><span class="p">,</span><span class="mi">5</span><span class="p">;</span> <span class="c1">-- LIMIT 5 OFFSET 1과 동일    </span>

<span class="c1">-- 111400	1985-01-01</span>
<span class="c1">-- 111035	1985-01-01</span>
<span class="c1">-- 110725	1985-01-01</span>
<span class="c1">-- 110511	1985-01-01</span>
<span class="c1">-- 110303	1985-01-01</span>

</code></pre></div></div>

<p>결과가 나오는 것도 중요하지만 해당 쿼리가 얼마나 효율적으로 작성되어 있는지도 상당히
중요합니다. 그렇지 않은 경우 MySQL에 부담을 가중시키고 전체적인 Application의 
성능을 떨어뜨리게 만들기 때문입니다. 가능한 서버의 처리량을 줄여 성능을 높이는 방법을
고민해야 합니다.</p>

<p>이번에는 테이블을 복사하는 전형적인 구문에 대해서 알아보겠습니다.</p>

<div class="language-sql highlighter-rouge"><div class="highlight"><pre class="highlight"><code>
<span class="n">USE</span> <span class="n">sqldb</span><span class="p">;</span>

<span class="k">CREATE</span> <span class="k">TABLE</span> <span class="n">buytbl2</span> <span class="p">(</span>
    <span class="k">SELECT</span> <span class="o">*</span> <span class="k">FROM</span> <span class="n">buytbl</span>
<span class="p">);</span>

<span class="k">SELECT</span> <span class="o">*</span> <span class="k">FROM</span> <span class="n">buytbl2</span><span class="p">;</span>

</code></pre></div></div>

<p>아주 간단하게 테이블 전체 혹은 필요한 column만 추출해서 테이블을
새로 생성할 수 있습니다. 하지만 이건 테이블의 데이터만 추출해서
새로운 테이블을 생성한 것이기 때문에 <code class="highlighter-rouge">PK</code>와 <code class="highlighter-rouge">FK</code>와 같은 제약조건들은
당연히 복사되지 않습니다.</p>

<p>다음으로 <code class="highlighter-rouge">GROUP BY</code>와 <code class="highlighter-rouge">HAVING</code>에 대해서 알아보겠습니다.</p>

<p><code class="highlighter-rouge">GROUP BY</code>절은 말 그대로 그룹으로 묶어주는 역할을 수행합니다. 예를 위해 다음의
내용으로 쿼리를 작성해 보겠습니다.</p>

<blockquote>
  <p>구매테이블(buytbl)에서 사용자가 구매한 물품의 개수를 출력하세요.</p>
</blockquote>

<div class="language-sql highlighter-rouge"><div class="highlight"><pre class="highlight"><code>
<span class="k">SELECT</span> <span class="n">userID</span><span class="p">,</span> <span class="n">amount</span>
<span class="k">FROM</span> <span class="n">buytbl</span>
<span class="k">ORDER</span> <span class="k">BY</span> <span class="n">userID</span><span class="p">;</span>

<span class="c1">-- BBK	5</span>
<span class="c1">-- BBK	10</span>
<span class="c1">-- BBK	2</span>
<span class="c1">-- BBK	2</span>
<span class="c1">-- EJW	2</span>
<span class="c1">-- EJW	1</span>
<span class="c1">-- EJW	1</span>
<span class="c1">-- JYP	1</span>
<span class="c1">-- KBS	2</span>
<span class="c1">-- KBS	1</span>
<span class="c1">-- KBS	3</span>
<span class="c1">-- SSK	5</span>

</code></pre></div></div>

<p>사용자별로 여러번의 구매가 이루어져 각각의 행이 별도로 출력되는 것을
확인할 수 있습니다. 이런 경우 어떻게 합계를 구할 수 있을까요?</p>

<p><code class="highlighter-rouge">Aggregate Function</code>이라고 불리는 집계함수를 이용하면 됩니다.
이 집계함수는 주로 <code class="highlighter-rouge">GROUP BY</code>절과 함께 쓰이며 데이터를 그룹화 해주는
기능을 합니다. 쿼리를 다시 작성해 보죠.</p>

<div class="language-sql highlighter-rouge"><div class="highlight"><pre class="highlight"><code>
<span class="k">SELECT</span> <span class="n">userID</span> <span class="k">AS</span> <span class="s1">'사용자 아이디'</span><span class="p">,</span> <span class="k">SUM</span><span class="p">(</span><span class="n">amount</span><span class="p">)</span> <span class="k">AS</span> <span class="s1">'총 구매 개수'</span>
<span class="k">FROM</span> <span class="n">buytbl</span>
<span class="k">GROUP</span> <span class="k">BY</span> <span class="n">userID</span>
<span class="k">ORDER</span> <span class="k">BY</span> <span class="n">userID</span><span class="p">;</span>

<span class="c1">-- 사용자 아이디, 총 구매 개수</span>
<span class="c1">-- BBK	19</span>
<span class="c1">-- EJW	4</span>
<span class="c1">-- JYP	1</span>
<span class="c1">-- KBS	6</span>
<span class="c1">-- SSK	5</span>

</code></pre></div></div>

<p>대충 감이 오시나요? 다음의 문제를 한번 작성해 보시기 바랍니다.</p>

<blockquote>
  <p>각 사용자별 구매액의 총합을 출력하세요.</p>
</blockquote>

<div class="language-sql highlighter-rouge"><div class="highlight"><pre class="highlight"><code>
<span class="k">SELECT</span> <span class="n">userID</span> <span class="k">AS</span> <span class="s1">'사용자 아이디'</span><span class="p">,</span> <span class="k">SUM</span><span class="p">(</span><span class="n">amount</span><span class="o">*</span><span class="n">price</span><span class="p">)</span> <span class="k">AS</span> <span class="s1">'총 구매액'</span>
<span class="k">FROM</span> <span class="n">buytbl</span>
<span class="k">GROUP</span> <span class="k">BY</span> <span class="n">userID</span>
<span class="k">ORDER</span> <span class="k">BY</span> <span class="n">userID</span><span class="p">;</span>

<span class="c1">-- 사용자 아이디, 총 구매액</span>
<span class="c1">-- BBK	1920</span>
<span class="c1">-- EJW	95</span>
<span class="c1">-- JYP	200</span>
<span class="c1">-- KBS	1210</span>
<span class="c1">-- SSK	75</span>

</code></pre></div></div>

<p>집계함수는 위에서 살펴본 <code class="highlighter-rouge">SUM()</code> 함수 이외에 다음과 같은 함수가 있습니다.</p>

<p><a href="/assets/built/images/database-mysql-sql-basic-aggregate-function.png" data-fancybox="">
    <img src="/assets/built/images/database-mysql-sql-basic-aggregate-function.png" alt="SQL 기본 - 집계함수" />
</a></p>

<blockquote>
  <p>전체 구매자가 구매한 물품 개수의 평균은 얼마인가요?</p>
</blockquote>

<div class="language-sql highlighter-rouge"><div class="highlight"><pre class="highlight"><code>
<span class="k">SELECT</span> <span class="k">AVG</span><span class="p">(</span><span class="n">amount</span><span class="p">)</span> <span class="k">AS</span> <span class="s1">'평균 구매 개수'</span>
<span class="k">FROM</span> <span class="n">buytbl</span><span class="p">;</span>

<span class="c1">-- 평균 구매 개수</span>
<span class="c1">-- 2.9167 </span>

</code></pre></div></div>

<blockquote>
  <p>각 사용자별로 한번 구매 시 물건을 평균 몇 개 구매했는지 조회하세요.</p>
</blockquote>

<div class="language-sql highlighter-rouge"><div class="highlight"><pre class="highlight"><code>
<span class="k">SELECT</span> <span class="n">userID</span><span class="p">,</span> <span class="k">AVG</span><span class="p">(</span><span class="n">amount</span><span class="p">)</span> <span class="k">AS</span> <span class="s1">'평균 구매 개수'</span>
<span class="k">FROM</span> <span class="n">buytbl</span>
<span class="k">GROUP</span> <span class="k">BY</span> <span class="n">userID</span>

<span class="c1">-- userID, 평균 구매 개수</span>
<span class="c1">-- BBK	4.7500</span>
<span class="c1">-- EJW	1.3333</span>
<span class="c1">-- JYP	1.0000</span>
<span class="c1">-- KBS	2.0000</span>
<span class="c1">-- SSK	5.0000</span>

</code></pre></div></div>

<p>조금 다른 예를 살펴보죠.</p>

<blockquote>
  <p>가장 큰 키와 가장 작은 키의 회원 이름과 키를 출력하세요.</p>
</blockquote>

<div class="language-sql highlighter-rouge"><div class="highlight"><pre class="highlight"><code>
<span class="k">SELECT</span> <span class="n">name</span><span class="p">,</span> <span class="k">MAX</span><span class="p">(</span><span class="n">height</span><span class="p">),</span> <span class="k">MIN</span><span class="p">(</span><span class="n">height</span><span class="p">)</span>
<span class="k">FROM</span> <span class="n">usertbl</span><span class="p">;</span>

<span class="c1">-- name, MAX(height), MIN(height)</span>
<span class="c1">-- 바비킴	186	166</span>
<span class="c1">-- 결과가 이상하다.!!!</span>

<span class="k">SELECT</span> <span class="n">name</span><span class="p">,</span> <span class="k">MAX</span><span class="p">(</span><span class="n">height</span><span class="p">),</span> <span class="k">MIN</span><span class="p">(</span><span class="n">height</span><span class="p">)</span>
<span class="k">FROM</span> <span class="n">usertbl</span>
<span class="k">GROUP</span> <span class="k">BY</span> <span class="n">name</span><span class="p">;</span>

<span class="c1">-- name, MAX(height), MIN(height)</span>
<span class="c1">-- 바비킴	176	176</span>
<span class="c1">-- 은지원	174	174</span>
<span class="c1">-- 조관우	172	172</span>
<span class="c1">-- 조용필	166	166</span>
<span class="c1">-- 김범수	173	173</span>
<span class="c1">-- 김경호	177	177</span>
<span class="c1">-- 임재범	182	182</span>
<span class="c1">-- 이승기	182	182</span>
<span class="c1">-- 성시경	186	186</span>
<span class="c1">-- 윤종신	170	170</span>

<span class="c1">-- 이것 역시 우리가 원한 결과가 아니다.</span>

</code></pre></div></div>

<p>어떻게 해야 우리가 원하는 결과를 얻을 수 있을까요?</p>

<p>문제가 잘 안풀릴경우 <code class="highlighter-rouge">Subquery</code>를 이용하면 쉽게 해결하는 경우가
많습니다.</p>

<div class="language-sql highlighter-rouge"><div class="highlight"><pre class="highlight"><code>
<span class="k">SELECT</span> <span class="n">name</span><span class="p">,</span> <span class="n">height</span>
<span class="k">FROM</span> <span class="n">usertbl</span>
<span class="k">WHERE</span> <span class="n">height</span> <span class="o">=</span> <span class="p">(</span>
    <span class="k">SELECT</span> <span class="k">MAX</span><span class="p">(</span><span class="n">height</span><span class="p">)</span> <span class="k">from</span> <span class="n">usertbl</span>
<span class="p">)</span> <span class="k">OR</span>
<span class="n">height</span> <span class="o">=</span> <span class="p">(</span>
    <span class="k">SELECT</span> <span class="k">MIN</span><span class="p">(</span><span class="n">height</span><span class="p">)</span> <span class="k">from</span> <span class="n">usertbl</span>
<span class="p">);</span>

<span class="c1">-- name, height</span>
<span class="c1">-- 조용필	166</span>
<span class="c1">-- 성시경	186</span>

</code></pre></div></div>

<p>이번에는 휴대폰이 있는 사용자의 수를 카운트 해 보도록 하죠. 몇 건인지를
알아낼때는 <code class="highlighter-rouge">COUNT</code> 집계함수를 이용하면 됩니다.</p>

<div class="language-sql highlighter-rouge"><div class="highlight"><pre class="highlight"><code>
<span class="k">SELECT</span> <span class="k">COUNT</span><span class="p">(</span><span class="o">*</span><span class="p">)</span>
<span class="k">FROM</span> <span class="n">usertbl</span><span class="p">;</span>

<span class="c1">-- 모든 회원의 수 (10)</span>

<span class="k">SELECT</span> <span class="k">COUNT</span><span class="p">(</span><span class="n">mobile1</span><span class="p">)</span>
<span class="k">FROM</span> <span class="n">usertbl</span><span class="p">;</span>

<span class="c1">-- NULL 값을 제외하고 카운트 (8)</span>

</code></pre></div></div>

<p>집계함수를 이용하는 방법에 대해서 알아봤는데 이번에는 이런
그룹에 대한 조건을 지정하기 위한 <code class="highlighter-rouge">HAVING</code>에 대해서 알아보겠습니다.
다음 내용에 대한 쿼리를 작성해 보죠.</p>

<blockquote>
  <p>사용자별 총 구매금액이 1,000 이상인 사용자만 출력하세요</p>
</blockquote>

<div class="language-sql highlighter-rouge"><div class="highlight"><pre class="highlight"><code>
<span class="k">SELECT</span> <span class="n">userID</span><span class="p">,</span> <span class="k">SUM</span><span class="p">(</span><span class="n">price</span><span class="o">*</span><span class="n">amount</span><span class="p">)</span>
<span class="k">FROM</span> <span class="n">buytbl</span>
<span class="k">WHERE</span> <span class="k">SUM</span><span class="p">(</span><span class="n">price</span><span class="o">*</span><span class="n">amount</span><span class="p">)</span> <span class="o">&gt;=</span> <span class="mi">1000</span>
<span class="k">GROUP</span> <span class="k">BY</span> <span class="n">userID</span><span class="p">;</span>

<span class="c1">-- Error Code: 1111. Invalid use of group function</span>
<span class="c1">-- 집계함수는 WHERE절에 올 수 없다.ALTER</span>
<span class="c1">-- 이럴때 HAVING을 이용하면 해결할 수 있습니다. 집계함수에 대해</span>
<span class="c1">-- 조건을 제한할 때 사용합니다.</span>

<span class="k">SELECT</span> <span class="n">userID</span><span class="p">,</span> <span class="k">SUM</span><span class="p">(</span><span class="n">price</span><span class="o">*</span><span class="n">amount</span><span class="p">)</span>
<span class="k">FROM</span> <span class="n">buytbl</span>
<span class="k">GROUP</span> <span class="k">BY</span> <span class="n">userID</span>
<span class="k">HAVING</span> <span class="k">SUM</span><span class="p">(</span><span class="n">price</span><span class="o">*</span><span class="n">amount</span><span class="p">)</span> <span class="o">&gt;=</span> <span class="mi">1000</span><span class="p">;</span>

<span class="c1">-- userID, SUM(price*amount)</span>
<span class="c1">-- BBK	1920</span>
<span class="c1">-- KBS	1210</span>

</code></pre></div></div>

<p>이렇게 집계함수를 사용할 때 총합, 혹은 중간합계가 필요한 경우가 있습니다. 이럴때
<code class="highlighter-rouge">GROUP BY</code>와 함께 <code class="highlighter-rouge">WITH ROLLUP</code>문을 사용하면 해결할 수 있습니다.</p>

<blockquote>
  <p>상품의 분류별로 합계 및 그 총합을 구하세요.</p>
</blockquote>

<div class="language-sql highlighter-rouge"><div class="highlight"><pre class="highlight"><code>
<span class="k">SELECT</span> <span class="n">num</span><span class="p">,</span> <span class="n">groupName</span><span class="p">,</span> <span class="k">SUM</span><span class="p">(</span><span class="n">price</span><span class="o">*</span><span class="n">amount</span><span class="p">)</span>
<span class="k">FROM</span> <span class="n">buytbl</span>
<span class="k">GROUP</span> <span class="k">BY</span> <span class="n">groupName</span><span class="p">,</span> <span class="n">num</span>
<span class="k">WITH</span> <span class="k">ROLLUP</span><span class="p">;</span>

<span class="c1">-- 1	      60</span>
<span class="c1">-- 10	      60</span>
<span class="c1">-- 12	      60</span>
<span class="c1">--            180</span>
<span class="c1">-- 7	서적  75</span>
<span class="c1">-- 8	서적  30</span>
<span class="c1">-- 11	서적  15</span>
<span class="c1">--      서적  120</span>
<span class="c1">-- 5	의류  150</span>
<span class="c1">-- 9	의류  50</span>
<span class="c1">--      의류  200</span>
<span class="c1">-- 2	전자  1000</span>
<span class="c1">-- 3	전자  200</span>
<span class="c1">-- 4	전자  1000</span>
<span class="c1">-- 6	전자  800</span>
<span class="c1">--      전자  3000</span>
<span class="c1">--            3500</span>

</code></pre></div></div>

<p>여기서 <code class="highlighter-rouge">GROUP BY</code>절에 <code class="highlighter-rouge">num</code>은 각 항목이 보이게끔 일부러 넣어준 것으로
만약 소 합계 및 총합만 필요하다면 num을 빼면 됩니다.</p>

<p>여기까지가 기본 <code class="highlighter-rouge">SELECT</code> 구문입니다. 다음은 기본 SQL구문인 
<code class="highlighter-rouge">INSERT</code>, <code class="highlighter-rouge">UPDATE</code>, <code class="highlighter-rouge">DELETE</code>에 대해서 알아보겠습니다.</p>

<hr />

<p><strong class="subtitle2_fontAwesome">SQL의 분류</strong></p>

<p>위에서 가장 대표적인 <code class="highlighter-rouge">SELECT</code> 구문을 살펴보았습니다. 사실 SQL문은 크게 다음과
같은 3가지로 분류합니다.</p>

<ul>
  <li><code class="highlighter-rouge">DML</code> : Data Manipulation Language</li>
  <li><code class="highlighter-rouge">DDL</code> : Data Definition Language</li>
  <li><code class="highlighter-rouge">DCL</code> : Data Control Language</li>
</ul>

<p><code class="highlighter-rouge">DML</code>은 데이터를 조작(CRUD)하는데 사용되는 언어입니다. DML구문이
사용되는 대상은 <code class="highlighter-rouge">Table</code>의 행입니다. SQL구문 중 <code class="highlighter-rouge">SELECT</code>, <code class="highlighter-rouge">INSERT</code>, <code class="highlighter-rouge">UPDATE</code>, <code class="highlighter-rouge">DELETE</code>가
이 구문에 해당됩니다. 또한 <code class="highlighter-rouge">Trnasaction</code>이 발생하는 SQL이 이 <code class="highlighter-rouge">DML</code>입니다.</p>

<p><code class="highlighter-rouge">DDL</code>은 데이터베이스, 테이블, 뷰, 인덱스 등의 데이터베이스 개체를 생성,삭제,변경하는 역할을 합니다.
자주 등장하는 <code class="highlighter-rouge">DDL</code>은 <code class="highlighter-rouge">CREATE</code>, <code class="highlighter-rouge">ALTER</code>, <code class="highlighter-rouge">DROP</code>등이 있습니다.  한가지 기억해야 할 점은
<code class="highlighter-rouge">DDL</code>은 <code class="highlighter-rouge">Transaction</code>을 발생시키지 않습니다. 즉, <code class="highlighter-rouge">ROLLBACK</code>이나 <code class="highlighter-rouge">COMMIT</code> 작업을 할 수 없고
실행 즉시 <code class="highlighter-rouge">MySQL</code>에 적용됩니다.</p>

<p><code class="highlighter-rouge">DCL</code>은 사용자에게 어떤 권한을 부여하거나 제거할 때 주로 사용하는 구문으로 <code class="highlighter-rouge">GRANT</code>, <code class="highlighter-rouge">REVOKE</code>,
<code class="highlighter-rouge">DENY</code>등이 이에 해당합니다.</p>

<p>자 그럼 <code class="highlighter-rouge">DML</code>의 나머지 SQL문을 살펴보도록 하겠습니다.</p>

<p>데이터의 삽입은 기본적으로 <code class="highlighter-rouge">INSERT</code>문을 이용합니다.</p>

<p><code class="highlighter-rouge">INSERT</code>문은 크게 어려운 내용이 없습니다. 다음의 코드를 이용해 실습하면서
이해해보도록 하죠.</p>

<div class="language-sql highlighter-rouge"><div class="highlight"><pre class="highlight"><code>
<span class="n">USE</span> <span class="n">sqldb</span><span class="p">;</span>

<span class="k">CREATE</span> <span class="k">TABLE</span> <span class="n">testtbl1</span> <span class="p">(</span>
    <span class="n">id</span>        <span class="n">INT</span><span class="p">,</span>
    <span class="n">userName</span>  <span class="n">CHAR</span><span class="p">(</span><span class="mi">3</span><span class="p">),</span>
    <span class="n">age</span>       <span class="n">INT</span>
<span class="p">);</span>

<span class="c1">-- 일반적인 INSERT    </span>
<span class="k">INSERT</span> <span class="k">INTO</span> <span class="n">testtbl1</span> <span class="k">VALUES</span> <span class="p">(</span><span class="mi">1</span><span class="p">,</span> <span class="s1">'홍길동'</span><span class="p">,</span> <span class="mi">25</span><span class="p">);</span>    

<span class="c1">-- 필요한 것들만 선택해서 데이터 INSERT</span>
<span class="k">INSERT</span> <span class="k">INTO</span> <span class="n">testtbl1</span><span class="p">(</span><span class="n">id</span><span class="p">,</span> <span class="n">userName</span><span class="p">)</span> <span class="k">VALUES</span> <span class="p">(</span><span class="mi">2</span><span class="p">,</span> <span class="s1">'김연아'</span><span class="p">);</span>    

<span class="c1">-- 컬럼의 순서를 바꾸어도 상관없다.</span>
<span class="k">INSERT</span> <span class="k">INTO</span> <span class="n">testtbl1</span><span class="p">(</span><span class="n">age</span><span class="p">,</span> <span class="n">userName</span><span class="p">,</span> <span class="n">id</span><span class="p">)</span> <span class="k">VALUES</span> <span class="p">(</span><span class="mi">30</span><span class="p">,</span> <span class="s1">'아이유'</span><span class="p">,</span> <span class="mi">3</span><span class="p">);</span>    

<span class="k">SELECT</span> <span class="o">*</span> <span class="k">FROM</span> <span class="n">testtbl1</span><span class="p">;</span>

</code></pre></div></div>

<p>테이블 column의 속성이 <code class="highlighter-rouge">AUTO_INCREMENT</code>로 지정되어 있는 경우 INSERT 문에서
해당 열은 <code class="highlighter-rouge">NULL</code>값으로 지정하면 됩니다. <code class="highlighter-rouge">AUTO_INCREMENT</code>는 자동으로 1씩
증가하는 값을 입력해 줍니다. <code class="highlighter-rouge">AUTO_INCREMENT</code>는 당연히 숫자 형식만 사용할 수 있으며
반드시 <code class="highlighter-rouge">PRIMARY KEY</code> 혹은 <code class="highlighter-rouge">UNIQUE</code>로 지정해야 사용할 수 있습니다.</p>

<p>아래와 같이 사용합니다.</p>

<div class="language-sql highlighter-rouge"><div class="highlight"><pre class="highlight"><code>
<span class="n">USE</span> <span class="n">sqldb</span><span class="p">;</span>

<span class="k">CREATE</span> <span class="k">TABLE</span> <span class="n">testtbl2</span> <span class="p">(</span>
    <span class="n">id</span>        <span class="n">INT</span>  <span class="n">AUTO_INCREMENT</span> <span class="k">PRIMARY</span> <span class="k">KEY</span><span class="p">,</span>
    <span class="n">userName</span>  <span class="n">CHAR</span><span class="p">(</span><span class="mi">3</span><span class="p">),</span>
    <span class="n">age</span>       <span class="n">INT</span>
<span class="p">);</span>

<span class="k">INSERT</span> <span class="k">INTO</span> <span class="n">testtbl2</span> <span class="k">VALUES</span> <span class="p">(</span><span class="k">NULL</span><span class="p">,</span> <span class="s1">'강감찬'</span><span class="p">,</span> <span class="mi">10</span><span class="p">);</span>    
<span class="k">INSERT</span> <span class="k">INTO</span> <span class="n">testtbl2</span> <span class="k">VALUES</span> <span class="p">(</span><span class="k">NULL</span><span class="p">,</span> <span class="s1">'홍길동'</span><span class="p">,</span> <span class="mi">20</span><span class="p">);</span>    
<span class="k">INSERT</span> <span class="k">INTO</span> <span class="n">testtbl2</span> <span class="k">VALUES</span> <span class="p">(</span><span class="k">NULL</span><span class="p">,</span> <span class="s1">'이순신'</span><span class="p">,</span> <span class="mi">30</span><span class="p">);</span>    

<span class="k">SELECT</span> <span class="o">*</span> <span class="k">FROM</span> <span class="n">testtbl2</span><span class="p">;</span>

</code></pre></div></div>

<p><code class="highlighter-rouge">AUTO_INCREMENT</code>로 증가된 값이 얼마인지 확인하려면 다음과 같은 쿼리를
사용하시면 됩니다.</p>

<blockquote>
  <p><code class="highlighter-rouge">SELECT LAST_INSERT_ID();</code></p>
</blockquote>

<p>그런데 여기서 살짝 주의해야 하는 부분이 있습니다.
<code class="highlighter-rouge">LAST_INSERT_ID()</code> 함수는 1개의 insert 쿼리에 대해서 
성공시 마지막 auto_increment 값을 리턴합니다. 다음의 코드를 한번 보시죠.</p>

<div class="language-sql highlighter-rouge"><div class="highlight"><pre class="highlight"><code>
<span class="k">CREATE</span> <span class="k">TABLE</span> <span class="n">testtbl3</span> <span class="p">(</span>
    <span class="n">id</span>        <span class="n">INT</span>  <span class="n">AUTO_INCREMENT</span> <span class="k">PRIMARY</span> <span class="k">KEY</span><span class="p">,</span>
    <span class="n">userName</span>  <span class="n">CHAR</span><span class="p">(</span><span class="mi">3</span><span class="p">),</span>
    <span class="n">age</span>       <span class="n">INT</span>
<span class="p">);</span>

<span class="k">INSERT</span> <span class="k">INTO</span> <span class="n">testtbl3</span><span class="p">(</span><span class="n">userName</span><span class="p">,</span><span class="n">age</span><span class="p">)</span> <span class="k">VALUES</span> <span class="p">(</span><span class="s1">'강감찬'</span><span class="p">,</span> <span class="mi">10</span><span class="p">),</span> <span class="p">(</span><span class="s1">'아이유'</span><span class="p">,</span><span class="mi">20</span><span class="p">),</span> <span class="p">(</span><span class="s1">'김연아'</span><span class="p">,</span><span class="mi">30</span><span class="p">);</span>    

<span class="k">SELECT</span> <span class="o">*</span> <span class="k">FROM</span> <span class="n">testtbl3</span><span class="p">;</span>

<span class="k">SELECT</span> <span class="n">LAST_INSERT_ID</span><span class="p">();</span>   <span class="c1">-- 1</span>

<span class="c1">-- LAST_INSERT_ID() 함수는 1개의 insert 쿼리에 대해서 성공시 마지막 auto_increment 값이다.</span>

<span class="c1">-- 한번 더 입력한다.</span>
<span class="k">INSERT</span> <span class="k">INTO</span> <span class="n">testtbl3</span><span class="p">(</span><span class="n">userName</span><span class="p">,</span><span class="n">age</span><span class="p">)</span> <span class="k">VALUES</span> <span class="p">(</span><span class="s1">'강감찬'</span><span class="p">,</span> <span class="mi">10</span><span class="p">),</span> <span class="p">(</span><span class="s1">'아이유'</span><span class="p">,</span><span class="mi">20</span><span class="p">),</span> <span class="p">(</span><span class="s1">'김연아'</span><span class="p">,</span><span class="mi">30</span><span class="p">);</span>    

<span class="k">SELECT</span> <span class="n">LAST_INSERT_ID</span><span class="p">();</span>   <span class="c1">-- 4</span>

</code></pre></div></div>

<p>추가적으로 <code class="highlighter-rouge">AUTO_INCREMENT</code> 입력값을 100부터 입력되도록 변경하고 싶다면 다음의 
코드를 이용합니다.</p>

<blockquote>
  <p><code class="highlighter-rouge">ALTER TABLE testtbl3 AUTO_INCREMENT = 100;</code></p>
</blockquote>

<p>증가값은 기본적으로 1로 설정되어 있습니다. 만약 <code class="highlighter-rouge">AUTO_INCREMENT</code>의 증가값을
변경하려면 서버 변수인 <code class="highlighter-rouge">@@auto_increment_increment</code> 변수를 변경해야 합니다.</p>

<blockquote>
  <p><code class="highlighter-rouge">SET @@auto_increment_increment = 5;</code></p>
</blockquote>

<p>많은 양의 데이터를 입력할 때는 일일이 <code class="highlighter-rouge">INSERT</code> 구문을 사용하기 힘듭니다. 그런 경우
<code class="highlighter-rouge">INSERT INTO ~ SELECT</code> 구문을 이용해 데이터를 입력할 수 있습니다.</p>

<div class="language-sql highlighter-rouge"><div class="highlight"><pre class="highlight"><code>
<span class="n">USE</span> <span class="n">sqldb</span><span class="p">;</span>

<span class="k">CREATE</span> <span class="k">TABLE</span> <span class="n">testtbl4</span> <span class="p">(</span>
    <span class="n">id</span>      <span class="n">INT</span><span class="p">,</span>
    <span class="n">fname</span>   <span class="n">VARCHAR</span><span class="p">(</span><span class="mi">50</span><span class="p">),</span>
    <span class="n">lname</span>   <span class="n">VARCHAR</span><span class="p">(</span><span class="mi">50</span><span class="p">)</span>
<span class="p">);</span>

<span class="k">INSERT</span> <span class="k">INTO</span> <span class="n">testtbl4</span>
    <span class="k">SELECT</span> <span class="n">emp_no</span><span class="p">,</span> <span class="n">first_name</span><span class="p">,</span> <span class="n">last_name</span>
    <span class="k">FROM</span> <span class="n">employees</span><span class="p">.</span><span class="n">employees</span><span class="p">;</span>

<span class="k">SELECT</span> <span class="o">*</span> <span class="k">FROM</span> <span class="n">testtbl4</span><span class="p">;</span> 

</code></pre></div></div>

<p>추가적으로 몇가지 특수한 경우에 대한 <code class="highlighter-rouge">INSERT</code> 구문을 알아보겠습니다. 
<code class="highlighter-rouge">PK</code> 충돌로 인해 입력이 안되는 경우 아래의 코드와 같은 방법을 이용할 수 있습니다.</p>

<div class="language-sql highlighter-rouge"><div class="highlight"><pre class="highlight"><code>
<span class="n">USE</span> <span class="n">sqldb</span><span class="p">;</span>

<span class="k">CREATE</span> <span class="k">TABLE</span> <span class="n">memberTBL</span> <span class="p">(</span>
    <span class="k">SELECT</span> <span class="n">userID</span><span class="p">,</span> <span class="n">name</span><span class="p">,</span> <span class="n">addr</span>
    <span class="k">FROM</span> <span class="n">usertbl</span>
    <span class="k">LIMIT</span> <span class="mi">3</span>
<span class="p">);</span>    

<span class="k">ALTER</span> <span class="k">TABLE</span> <span class="n">memberTBL</span>
    <span class="k">ADD</span> <span class="k">CONSTRAINT</span> <span class="n">pk_memberTBL</span> <span class="k">PRIMARY</span> <span class="k">KEY</span> <span class="p">(</span><span class="n">userId</span><span class="p">);</span>

<span class="k">SELECT</span> <span class="o">*</span> <span class="k">FROM</span> <span class="n">memberTBL</span><span class="p">;</span>    

<span class="c1">-- 데이터를 추가로 3건을 입력합니다. 그런데 첫번째 데이터에서 PK인 BBK의 충돌이 있습니다.</span>

<span class="k">INSERT</span> <span class="k">INTO</span> <span class="n">memberTBL</span> <span class="k">VALUES</span> <span class="p">(</span><span class="s1">'BBK'</span><span class="p">,</span> <span class="s1">'김범준'</span><span class="p">,</span> <span class="s1">'미국'</span><span class="p">);</span>
<span class="k">INSERT</span> <span class="k">INTO</span> <span class="n">memberTBL</span> <span class="k">VALUES</span> <span class="p">(</span><span class="s1">'SJH'</span><span class="p">,</span> <span class="s1">'서장훈'</span><span class="p">,</span> <span class="s1">'서울'</span><span class="p">);</span>
<span class="k">INSERT</span> <span class="k">INTO</span> <span class="n">memberTBL</span> <span class="k">VALUES</span> <span class="p">(</span><span class="s1">'HJY'</span><span class="p">,</span> <span class="s1">'현주엽'</span><span class="p">,</span> <span class="s1">'경기'</span><span class="p">);</span>

<span class="k">SELECT</span> <span class="o">*</span> <span class="k">FROM</span> <span class="n">memberTBL</span><span class="p">;</span>    

<span class="c1">-- 첫번째 INSERT에서 오류가 발생해 그 밑의 SQL문은 무시되었습니다. 아래와 바꿔서 실행합니다.</span>

<span class="k">INSERT</span> <span class="k">IGNORE</span> <span class="k">INTO</span> <span class="n">memberTBL</span> <span class="k">VALUES</span> <span class="p">(</span><span class="s1">'BBK'</span><span class="p">,</span> <span class="s1">'김범준'</span><span class="p">,</span> <span class="s1">'미국'</span><span class="p">);</span>
<span class="k">INSERT</span> <span class="k">IGNORE</span> <span class="k">INTO</span> <span class="n">memberTBL</span> <span class="k">VALUES</span> <span class="p">(</span><span class="s1">'SJH'</span><span class="p">,</span> <span class="s1">'서장훈'</span><span class="p">,</span> <span class="s1">'서울'</span><span class="p">);</span>
<span class="k">INSERT</span> <span class="k">IGNORE</span> <span class="k">INTO</span> <span class="n">memberTBL</span> <span class="k">VALUES</span> <span class="p">(</span><span class="s1">'HJY'</span><span class="p">,</span> <span class="s1">'현주엽'</span><span class="p">,</span> <span class="s1">'경기'</span><span class="p">);</span>

<span class="k">SELECT</span> <span class="o">*</span> <span class="k">FROM</span> <span class="n">memberTBL</span><span class="p">;</span>    

<span class="c1">-- 첫번째 데이터는 오류이기 때문에 무시되고 나머지 2건은 추가로 입력됨을 확인할 수 있습니다.</span>

<span class="c1">-- 그럼 입력시에 기본 키가 중복되면 데이터가 수정되게 끔 쿼리를 수정해 보죠.</span>

<span class="k">INSERT</span> <span class="k">INTO</span> <span class="n">memberTBL</span> <span class="k">VALUES</span> <span class="p">(</span><span class="s1">'BBK'</span><span class="p">,</span> <span class="s1">'김범준'</span><span class="p">,</span> <span class="s1">'미국'</span><span class="p">)</span>
    <span class="k">ON</span> <span class="n">DUPLICATE</span> <span class="k">KEY</span> <span class="k">UPDATE</span> <span class="n">name</span> <span class="o">=</span> <span class="s1">'김범준'</span><span class="p">,</span> <span class="n">addr</span> <span class="o">=</span> <span class="s1">'미국'</span><span class="p">;</span>
    
<span class="k">SELECT</span> <span class="o">*</span> <span class="k">FROM</span> <span class="n">memberTBL</span><span class="p">;</span>       

</code></pre></div></div>

<p>이번에는 데이터의 수정을 위한 <code class="highlighter-rouge">UPDATE</code> 구문을 알아보겠습니다. 
다음의 코드를 보시죠.</p>

<div class="language-sql highlighter-rouge"><div class="highlight"><pre class="highlight"><code>
<span class="k">UPDATE</span> <span class="n">testtbl4</span>
    <span class="k">SET</span> <span class="n">lname</span> <span class="o">=</span> <span class="s1">'없음'</span>
    <span class="k">WHERE</span> <span class="n">fname</span> <span class="o">=</span> <span class="s1">'Kyoichi'</span><span class="p">;</span>

<span class="k">SELECT</span> <span class="o">*</span> <span class="k">FROM</span> <span class="n">testtbl4</span> <span class="k">WHERE</span> <span class="n">fname</span> <span class="o">=</span> <span class="s1">'Kyoichi'</span><span class="p">;</span>     

</code></pre></div></div>

<p>데이터를 삭제하기 위해서는 <code class="highlighter-rouge">DELETE</code> 구문을 이용합니다. <code class="highlighter-rouge">DELETE</code>는 
행 단위로 삭제하게 되는데 다음의 예제처럼 사용합니다.</p>

<div class="language-sql highlighter-rouge"><div class="highlight"><pre class="highlight"><code>
<span class="k">SELECT</span> <span class="o">*</span> <span class="k">FROM</span> <span class="n">testtbl4</span> <span class="k">WHERE</span> <span class="n">fname</span> <span class="o">=</span> <span class="s1">'Kyoichi'</span><span class="p">;</span>     <span class="c1">-- 251 rows returned</span>

<span class="c1">-- 조건에 따라 행을 삭제합니다.</span>
<span class="c1">-- 만약 상위 몇건만 삭제하려면 아래와 같이 LIMIT 문을 이용합니다.</span>

<span class="k">DELETE</span> 
<span class="k">FROM</span> <span class="n">testtbl4</span>
<span class="k">WHERE</span> <span class="n">fname</span> <span class="o">=</span> <span class="s1">'Kyoichi'</span>
<span class="k">LIMIT</span> <span class="mi">100</span><span class="p">;</span>

<span class="k">SELECT</span> <span class="o">*</span> <span class="k">FROM</span> <span class="n">testtbl4</span> <span class="k">WHERE</span> <span class="n">fname</span> <span class="o">=</span> <span class="s1">'Kyoichi'</span><span class="p">;</span>     <span class="c1">-- 151 rows returned</span>

</code></pre></div></div>

<p>삭제에 관련된 SQL 구문은 크게 3가지 입니다. <code class="highlighter-rouge">DELETE</code>, <code class="highlighter-rouge">DROP</code>, <code class="highlighter-rouge">TRUNCATE</code>가 있는데
세 구문 모두 테이블의 행을 삭제합니다. 특히 <code class="highlighter-rouge">DROP</code>은 테이블 자체를 삭제하게 됩니다.</p>

<p><code class="highlighter-rouge">DELETE</code>는 <code class="highlighter-rouge">Transaction Log</code>를 기록하기 때문에 삭제가 오래 걸립니다. <code class="highlighter-rouge">DROP</code>은
테이블 자체를 삭제하고 <code class="highlighter-rouge">Transaction</code>을 발생시키지 않기 때문에 빠릅니다. 마지막
<code class="highlighter-rouge">TRUNCATE</code>는 <code class="highlighter-rouge">DELETE</code>와 동일하지만 <code class="highlighter-rouge">Transaction Log</code>를 기록하지 않기 때문에
속도가 무척 빠르게 처리됩니다.</p>

<hr />

<p><strong class="subtitle2_fontAwesome">SQL - WITH</strong></p>

<p><code class="highlighter-rouge">WITH</code>절은 <code class="highlighter-rouge">CTE</code>(common Table Expression)을 표현하기 위한 구문으로 <code class="highlighter-rouge">MySQL 8.0</code>
이후부터 사용할 수 있습니다. <code class="highlighter-rouge">CTE</code>는 기존의 View, 임시 테이블, 파생 테이블등으로
사용됬던것을 대체할 수 있는 간결한 표현식입니다. <code class="highlighter-rouge">CTE</code>는 <code class="highlighter-rouge">ANSI-SQL99</code> 표준에서 나온
것으로 기존의 SQL은 <code class="highlighter-rouge">ANSI-SQL92</code>를 기준으로 합니다.</p>

<p><code class="highlighter-rouge">CTE</code>는 이번 강의에서 다루지 않습니다. 추후에 알아보도록 하겠습니다.</p>

<p>End.</p>

<hr />

<p><span class="lecture-reference">Data-Science 강좌는 아래의 책과 사이트를 참조했습니다.
    조금 더 자세한 사항을 알고 싶으시면 해당 사이트를 방문하세요!!</span></p>

<!--<ul class="lecture-reference">-->
<!--    <li><a href="http://www.python.org/" target="_blank">Python Official HomePage</a></li>-->
<!--    <li>점프 투 파이썬 - 이지스 퍼블리싱</li>-->
<!--    <li>전문가를 위한 파이썬(Fluent Python) - 한빛미디어</li>-->
<!--    <li>파이썬 웹 프로그래밍 - 한빛미디어</li>-->
<!--    <li>이미지 출처 : <a href="http://www.freepik.com" target="_blank">Designed by rawpixel.com / Freepik</a></li>-->
<!--</ul>-->


                </div>
            </section>

            <!-- Email subscribe form at the bottom of the page -->
            <!-- 기존에 있던 post하단 이메일 subscribe 삭제 -->

            <footer class="post-full-footer">
                <!-- Everything inside the #author tags pulls data from the author -->
                <!-- #author-->
                
                    
                        <section class="author-card">
                            
                                <img class="author-profile-image" src="/assets/built/images/economy-author-logo.jpg" alt="moon9342" />
                            
                            <section class="author-card-content">
                                <h4 class="author-card-name"><a href="/author/moon9342">moon9342</a></h4>
                                
                                    <p><a href="https://www.youtube.com/channel/UCp-MztINXTRVkRGCnqnYNlQ">얼큰우동TV, 쉽게배우는 IT(Programming,Machine Learning,금융)</a></p>
                                
                            </section>
                        </section>
                        <div class="post-full-footer-right">
                            <a class="author-card-button" href="/author/moon9342">Read More</a>
                        </div>
                    
                
                <!-- /author  -->
            </footer>

            <!-- If you use Disqus comments, just uncomment this block.
            The only thing you need to change is "test-apkdzgmqhj" - which
            should be replaced with your own Disqus site-id. -->
            

        </article>

    </div>
</main>

<!-- Links to Previous/Next posts -->
<aside class="read-next outer">
    <div class="inner">
        <div class="read-next-feed">
            
                
                
                
                
                    <article class="read-next-card"
                        
                            style="background-image: url(/assets/built/images/blog-cover2.png)"
                        
                    >
                        <header class="read-next-card-header">
                            <small class="read-next-card-header-sitetitle">&mdash; IT Technical Training &mdash;</small>
                            
                                <h3 class="read-next-card-header-title"><a href="/tag/data-science/">Data-science</a></h3>
                            
                        </header>
                        <div class="read-next-divider"><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M13 14.5s2 3 5 3 5.5-2.463 5.5-5.5S21 6.5 18 6.5c-5 0-7 11-12 11C2.962 17.5.5 15.037.5 12S3 6.5 6 6.5s4.5 3.5 4.5 3.5"/></svg>
</div>
                        <div class="read-next-card-content">
                            <ul>
                                
                                
                                  
                                
                                  
                                
                                  
                                
                                  
                                
                                  
                                
                                  
                                
                                  
                                
                                  
                                
                                  
                                
                                  
                                
                                  
                                
                                  
                                
                                  
                                
                                  
                                
                                  
                                
                                  
                                
                                  
                                
                                  
                                    
                                        
                                        
                                            <li><a href="/data-science-lecture-python-folium">Python 데이터분석 라이브러리(13) - Folium</a></li>
                                        
                                    
                                  
                                
                                  
                                    
                                        
                                        
                                            <li><a href="/data-science-lecture-python-seaborn">Python 데이터분석 라이브러리(12) - seaborn</a></li>
                                        
                                    
                                  
                                
                                  
                                    
                                        
                                        
                                            <li><a href="/data-science-lecture-python-statistics">Python 데이터분석을 위한 통계</a></li>
                                        
                                    
                                  
                                
                                  
                                    
                                        
                                        
                                    
                                  
                                
                                  
                                    
                                        
                                        
                                    
                                  
                                
                                  
                                    
                                        
                                        
                                    
                                  
                                
                                  
                                    
                                        
                                        
                                    
                                  
                                
                                  
                                    
                                        
                                        
                                    
                                  
                                
                                  
                                    
                                        
                                        
                                    
                                  
                                
                                  
                                    
                                        
                                        
                                    
                                  
                                
                                  
                                    
                                        
                                        
                                    
                                  
                                
                                  
                                    
                                        
                                        
                                    
                                  
                                
                                  
                                    
                                        
                                        
                                    
                                  
                                
                                  
                                
                                  
                                    
                                        
                                        
                                    
                                  
                                
                                  
                                    
                                        
                                        
                                    
                                  
                                
                                  
                                
                                  
                                
                                  
                                
                                  
                                
                                  
                                
                                  
                                
                                  
                                
                                  
                                
                                  
                                
                                  
                                
                                  
                                
                                  
                                
                                  
                                
                                  
                                
                                  
                                    
                                        
                                        
                                    
                                  
                                
                                  
                                    
                                        
                                        
                                    
                                  
                                
                                  
                                    
                                        
                                        
                                    
                                  
                                
                                  
                                    
                                        
                                        
                                    
                                  
                                
                                  
                                    
                                        
                                        
                                    
                                  
                                
                                  
                                    
                                        
                                        
                                    
                                  
                                
                                  
                                    
                                        
                                        
                                    
                                  
                                
                                  
                                    
                                        
                                        
                                    
                                  
                                
                                  
                                    
                                  
                                
                                  
                                    
                                        
                                        
                                    
                                  
                                
                                  
                                    
                                        
                                        
                                    
                                  
                                
                                  
                                    
                                        
                                        
                                    
                                  
                                
                                  
                                    
                                        
                                        
                                    
                                  
                                
                                  
                                    
                                        
                                        
                                    
                                  
                                
                            </ul>
                        </div>
                        <footer class="read-next-card-footer">
                            <a href="/tag/data-science/">
                                
                                    See all 28 posts  →
                                
                            </a>
                        </footer>
                    </article>
                
            

            <!-- If there's a next post, display it using the same markup included from - partials/post-card.hbs -->
            
                
    <article class="post-card post-template">
        
            <a class="post-card-image-link" href="/data-science-lecture-relational-database-mysql-sql-part2">
                <div class="post-card-image" style="background-image: url(/assets/built/images/digital-marketing.jpg)"></div>
            </a>
        
        <div class="post-card-content">
            <a class="post-card-content-link" href="/data-science-lecture-relational-database-mysql-sql-part2">
                <header class="post-card-header">
                    
                        
                            
                                <span class="post-card-tags">Data-science</span>
                            
                        
                    

                    <h2 class="post-card-title">Relational Database MySQL(7) - SQL 고급(1)</h2>
                </header>
                <section class="post-card-excerpt">
                    <p>{% include data-science-lecture-table-of-contents.html %} --- **SQL 고급(1)**{: class="subtitle_fontAwesome" } SQL 기본에서 `SELECT`, `INSERT`, `UPDATE`, `DELETE`문에 대해서 알아보았습니다. 기본적인 SQL문을 익혔으니 이제 SQL에 대해서 조금 더 깊이 있게 알아보도록 하겠습니다. 제일먼저 알아볼 부분은 `Data</p>
                </section>
            </a>
            <footer class="post-card-meta">
                
                    
                        
                        <img class="author-profile-image" src="/assets/built/images/economy-author-logo.jpg" alt="moon9342" />
                        
                        <span class="post-card-author">
                            <a href="/author/moon9342/">moon9342</a>
                        </span>
                    
                
            </footer>
        </div>
    </article>

            

            <!-- If there's a previous post, display it using the same markup included from - partials/post-card.hbs -->
            
                
    <article class="post-card post-template">
        
            <a class="post-card-image-link" href="/data-science-lecture-relational-database-mysql-utility">
                <div class="post-card-image" style="background-image: url(/assets/built/images/digital-marketing.jpg)"></div>
            </a>
        
        <div class="post-card-content">
            <a class="post-card-content-link" href="/data-science-lecture-relational-database-mysql-utility">
                <header class="post-card-header">
                    
                        
                            
                                <span class="post-card-tags">Data-science</span>
                            
                        
                    

                    <h2 class="post-card-title">Relational Database MySQL(5) - MySQL Utility</h2>
                </header>
                <section class="post-card-excerpt">
                    <p>Data-Science 강의는 여러 절로 구성되어 있습니다. Relational Database MySQL(1) - Introduction Relational Database MySQL(2) - Install 및 환경설정 Relational Database MySQL(3) - MySQL 전체 운영 실습 Relational Database MySQL(4) - Data Modeling Relational</p>
                </section>
            </a>
            <footer class="post-card-meta">
                
                    
                        
                        <img class="author-profile-image" src="/assets/built/images/economy-author-logo.jpg" alt="moon9342" />
                        
                        <span class="post-card-author">
                            <a href="/author/moon9342/">moon9342</a>
                        </span>
                    
                
            </footer>
        </div>
    </article>

            

        </div>
    </div>
</aside>

<!-- Floating header which appears on-scroll, included from includes/floating-header.hbs -->
<div class="floating-header">
    <div class="floating-header-logo">
        <a href="https://moon9342.github.io/">
            
            <span>IT Technical Training</span>
        </a>
    </div>
    <span class="floating-header-divider">&mdash;</span>
    <div class="floating-header-title">Relational Database MySQL(6) - SQL 기본</div>



    <div class="floating-header-share">
        <div class="floating-header-share-label">이 포스트를 공유하세요 <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24">
    <path d="M7.5 15.5V4a1.5 1.5 0 1 1 3 0v4.5h2a1 1 0 0 1 1 1h2a1 1 0 0 1 1 1H18a1.5 1.5 0 0 1 1.5 1.5v3.099c0 .929-.13 1.854-.385 2.748L17.5 23.5h-9c-1.5-2-5.417-8.673-5.417-8.673a1.2 1.2 0 0 1 1.76-1.605L7.5 15.5zm6-6v2m-3-3.5v3.5m6-1v2"/>
</svg>
</div>
        <a class="floating-header-share-tw" href="https://twitter.com/share?text=Relational+Database+MySQL%286%29+-+SQL+%EA%B8%B0%EB%B3%B8&amp;url=https://moon9342.github.io/data-science-lecture-relational-database-mysql-sql-part1"
            onclick="window.open(this.href, 'share-twitter', 'width=550,height=235');return false;">
            <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 32 32"><path d="M30.063 7.313c-.813 1.125-1.75 2.125-2.875 2.938v.75c0 1.563-.188 3.125-.688 4.625a15.088 15.088 0 0 1-2.063 4.438c-.875 1.438-2 2.688-3.25 3.813a15.015 15.015 0 0 1-4.625 2.563c-1.813.688-3.75 1-5.75 1-3.25 0-6.188-.875-8.875-2.625.438.063.875.125 1.375.125 2.688 0 5.063-.875 7.188-2.5-1.25 0-2.375-.375-3.375-1.125s-1.688-1.688-2.063-2.875c.438.063.813.125 1.125.125.5 0 1-.063 1.5-.25-1.313-.25-2.438-.938-3.313-1.938a5.673 5.673 0 0 1-1.313-3.688v-.063c.813.438 1.688.688 2.625.688a5.228 5.228 0 0 1-1.875-2c-.5-.875-.688-1.813-.688-2.75 0-1.063.25-2.063.75-2.938 1.438 1.75 3.188 3.188 5.25 4.25s4.313 1.688 6.688 1.813a5.579 5.579 0 0 1 1.5-5.438c1.125-1.125 2.5-1.688 4.125-1.688s3.063.625 4.188 1.813a11.48 11.48 0 0 0 3.688-1.375c-.438 1.375-1.313 2.438-2.563 3.188 1.125-.125 2.188-.438 3.313-.875z"/></svg>

        </a>
        <a class="floating-header-share-fb" href="https://www.facebook.com/sharer/sharer.php?u=https://moon9342.github.io/data-science-lecture-relational-database-mysql-sql-part1"
            onclick="window.open(this.href, 'share-facebook','width=580,height=296');return false;">
            <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 32 32"><path d="M19 6h5V0h-5c-3.86 0-7 3.14-7 7v3H8v6h4v16h6V16h5l1-6h-6V7c0-.542.458-1 1-1z"/></svg>

        </a>
    </div>


    <!-- floating-header에 이미지 삽입 -->
<!--
    <div class="floating-header-share">
        <img src="assets/images/photo.jpg" width="50">
    </div>
-->

    <progress class="progress" value="0">
        <div class="progress-container">
            <span class="progress-bar"></span>
        </div>
    </progress>
</div>


<!-- /post -->

<!-- The #contentFor helper here will send everything inside it up to the matching #block helper found in default.hbs -->

        <!-- Previous/next page links - displayed on every page -->
        

        <!-- The footer at the very bottom of the screen -->
        <footer class="site-footer outer">
            <div class="site-footer-content inner">
                <section class="copyright"><a href="https://moon9342.github.io/">IT Technical Training</a> &copy; 2021</section>
                <section class="poweredby">Proudly published with <a href="https://jekyllrb.com/">Jekyll</a> &
                    <a href="https://pages.github.com/">GitHub Pages</a></section>
                <nav class="site-footer-nav">
                    <a href="mailto:moon9342@gmail.com">moon9342@gmail.com</a>
                    <a href="/">Latest Posts</a>
                    
                    
                </nav>
            </div>
        </footer>

    </div>

    <!-- The big email subscribe modal content -->
    
        <div id="subscribe" class="subscribe-overlay">
            <a class="subscribe-overlay-close" href="#"></a>
            <div class="subscribe-overlay-content">
                
                <h1 class="subscribe-overlay-title">Search IT Technical Training</h1>
                <p class="subscribe-overlay-description">lunr.js를 이용한 posts 검색 </p>
                <span id="searchform" method="post" action="/subscribe/" class="">
    <input class="confirm" type="hidden" name="confirm"  /><input class="location" type="hidden" name="location"  /><input class="referrer" type="hidden" name="referrer"  />

    <div class="form-group">
        <input class="subscribe-email" onkeyup="myFunc()" id="searchtext" type="text" name="searchtext"  placeholder="Search..." />
    </div>
    <!--<button class="" onclick="myFunc()" id="searchBtn" type="button" ><span>Search</span></button>-->
    <script type="text/javascript">
        function myFunc() {
            if(event.keyCode == 13) {
                var url = encodeURIComponent($("#searchtext").val());
                location.href = "/search.html?query=" + url;
            }
        }
    </script>
    <!--<script type="text/et-cetera">(function(g,h,o,s,t){h[o]('.location')[s]=h[o]('.location')[s] || g.location.href;h[o]('.referrer')[s]=h[o]('.referrer')[s] || h.referrer;})(window,document,'querySelector','value');</script>-->
</span>


            </div>
        </div>
    

    <!-- highlight.js -->
    <script src="//cdnjs.cloudflare.com/ajax/libs/highlight.js/9.12.0/highlight.min.js"></script>
    <script>hljs.initHighlightingOnLoad();</script>

    <script type="text/javascript" src="/assets/js/jquery.fitvids.js"></script>


    <!-- Paginator increased to "infinit" in _config.yml -->
    <!-- if paginator.posts  -->
    <!-- <script>
        var maxPages = parseInt('');
    </script>
    <script src="/assets/js/infinitescroll.js"></script> -->
    <!-- /endif -->

    


    <!-- Add Google Analytics  -->
    <!-- Google Analytics Tracking code -->
 <script>
  (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
  (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
  m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
  })(window,document,'script','//www.google-analytics.com/analytics.js','ga');

  ga('create', 'UA-113135179-1', 'auto');
  ga('send', 'pageview');

 </script>


    <!-- The #block helper will pull in data from the #contentFor other template files. In this case, there's some JavaScript which we only want to use in post.hbs, but it needs to be included down here, after jQuery has already loaded. -->
    
        <script>

// NOTE: Scroll performance is poor in Safari
// - this appears to be due to the events firing much more slowly in Safari.
//   Dropping the scroll event and using only a raf loop results in smoother
//   scrolling but continuous processing even when not scrolling
$(document).ready(function () {
    // Start fitVids
    var $postContent = $(".post-full-content");
    $postContent.fitVids();
    // End fitVids

    var progressBar = document.querySelector('progress');
    var header = document.querySelector('.floating-header');
    var title = document.querySelector('.post-full-title');

    var lastScrollY = window.scrollY;
    var lastWindowHeight = window.innerHeight;
    var lastDocumentHeight = $(document).height();
    var ticking = false;

    function onScroll() {
        lastScrollY = window.scrollY;
        requestTick();
    }

    function onResize() {
        lastWindowHeight = window.innerHeight;
        lastDocumentHeight = $(document).height();
        requestTick();
    }

    function requestTick() {
        if (!ticking) {
            requestAnimationFrame(update);
        }
        ticking = true;
    }

    function update() {
        var trigger = title.getBoundingClientRect().top + window.scrollY;
        var triggerOffset = title.offsetHeight + 35;
        var progressMax = lastDocumentHeight - lastWindowHeight;

        // show/hide floating header
        if (lastScrollY >= trigger + triggerOffset) {
            header.classList.add('floating-active');
        } else {
            header.classList.remove('floating-active');
        }

        progressBar.setAttribute('max', progressMax);
        progressBar.setAttribute('value', lastScrollY);

        ticking = false;
    }

    window.addEventListener('scroll', onScroll, {passive: true});
    window.addEventListener('resize', onResize, false);

    update();
});
</script>

    

    <!-- Ghost outputs important scripts and data with this tag - it should always be the very last thing before the closing body tag -->
    <!-- ghost_foot -->

</body>
</html>
